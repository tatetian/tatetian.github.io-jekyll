(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.tateterm=e()}})(function(){var e,t,r;return function i(e,t,r){function s(o,a){if(!t[o]){if(!e[o]){var h=typeof require=="function"&&require;if(!a&&h)return h(o,!0);if(n)return n(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(t){var r=e[o][1][t];return s(r?r:t)},c,c.exports,i,e,t,r)}return t[o].exports}var n=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,r){var i=e("./src/Terminal.js");var s=e("./src/Shell.js");t.exports={Shell:s,Terminal:i}},{"./src/Shell.js":23,"./src/Terminal.js":25}],2:[function(t,r,i){(function(s){if(typeof i==="object"&&typeof r==="object"){r.exports=s(t("../../src/xterm"))}else if(typeof e=="function"){e(["../../src/xterm"],s)}else{s(this.Xterm)}})(function(e){var t={};t.proposeGeometry=function(e){var t=window.getComputedStyle(e.element.parentElement),r=parseInt(t.getPropertyValue("height")),i=parseInt(t.getPropertyValue("width")),s=window.getComputedStyle(e.element),n=parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom")),o=parseInt(s.getPropertyValue("padding-right"))+parseInt(s.getPropertyValue("padding-left")),a=r-n,h=i-o,l=e.rowContainer,c=e.rowContainer.firstElementChild,u=c.innerHTML,f,p,d,y,m;c.style.display="inline";c.innerHTML="W";d=c.getBoundingClientRect().width;c.style.display="";f=parseInt(c.offsetHeight);c.innerHTML=u;p=parseInt(a/f);y=parseInt(h/d)-1;m={cols:y,rows:p};return m};t.fit=function(e){var r=t.proposeGeometry(e);e.resize(r.cols,r.rows)};e.prototype.proposeGeometry=function(){return t.proposeGeometry(this)};e.prototype.fit=function(){return t.fit(this)};return t})},{"../../src/xterm":3}],3:[function(t,r,i){(function(s){(function(t){if(typeof i==="object"&&typeof r==="object"){r.exports=t.call(this)}else if(typeof e=="function"){e([],t.bind(window))}else{this.Xterm=t.call(this);this.Terminal=this.Xterm}})(function(){"use strict";var n=this,o=this.document;function a(){this._events=this._events||{}}a.prototype.addListener=function(e,t){this._events[e]=this._events[e]||[];this._events[e].push(t)};a.prototype.on=a.prototype.addListener;a.prototype.removeListener=function(e,t){if(!this._events[e])return;var r=this._events[e],i=r.length;while(i--){if(r[i]===t||r[i].listener===t){r.splice(i,1);return}}};a.prototype.off=a.prototype.removeListener;a.prototype.removeAllListeners=function(e){if(this._events[e])delete this._events[e]};a.prototype.once=function(e,t){var r=this;function i(){var r=Array.prototype.slice.call(arguments);this.removeListener(e,i);return t.apply(this,r)}i.listener=t;return this.on(e,i)};a.prototype.emit=function(e){if(!this._events[e])return;var t=Array.prototype.slice.call(arguments,1),r=this._events[e],i=r.length,s=0;for(;s<i;s++){r[s].apply(this,t)}};a.prototype.listeners=function(e){return this._events[e]=this._events[e]||[]};function h(e,t,r){this.textarea=e;this.compositionView=t;this.terminal=r;this.isComposing=false;this.compositionText=null;this.compositionPosition={start:null,end:null};this.isSendingComposition=false}h.prototype.compositionstart=function(){this.isComposing=true;this.compositionPosition.start=this.textarea.value.length;this.compositionView.textContent="";this.compositionView.classList.add("active")};h.prototype.compositionupdate=function(e){this.compositionView.textContent=e.data;this.updateCompositionElements();var t=this;C(function(){t.compositionPosition.end=t.textarea.value.length},0)};h.prototype.compositionend=function(){this.finalizeComposition(true)};h.prototype.keydown=function(e){if(this.isComposing||this.isSendingComposition){if(e.keyCode===229){return false}else if(e.keyCode===16||e.keyCode===17||e.keyCode===18){return false}else{this.finalizeComposition(false)}}if(e.keyCode===229){this.handleAnyTextareaChanges();return false}return true};h.prototype.finalizeComposition=function(e){this.compositionView.classList.remove("active");this.isComposing=false;this.clearTextareaPosition();if(!e){this.isSendingComposition=false;var t=this.textarea.value.substring(this.compositionPosition.start,this.compositionPosition.end);this.terminal.handler(t)}else{var r={start:this.compositionPosition.start,end:this.compositionPosition.end};var i=this;this.isSendingComposition=true;C(function(){if(i.isSendingComposition){i.isSendingComposition=false;var e;if(i.isComposing){e=i.textarea.value.substring(r.start,r.end)}else{e=i.textarea.value.substring(r.start)}i.terminal.handler(e)}},0)}};h.prototype.handleAnyTextareaChanges=function(){var e=this.textarea.value;var t=this;C(function(){if(!t.isComposing){var r=t.textarea.value;var i=r.replace(e,"");if(i.length>0){t.terminal.handler(i)}}},0)};h.prototype.updateCompositionElements=function(e){if(!this.isComposing){return}var t=this.terminal.element.querySelector(".terminal-cursor");if(t){this.compositionView.style.left=t.offsetLeft+"px";this.compositionView.style.top=t.offsetTop+"px";var r=this.compositionView.getBoundingClientRect();this.textarea.style.left=t.offsetLeft+r.width+"px";this.textarea.style.top=t.offsetTop+t.offsetHeight+"px"}if(!e){C(this.updateCompositionElements.bind(this,true),0)}};h.prototype.clearTextareaPosition=function(){this.textarea.style.left="";this.textarea.style.top=""};function l(e,t,r,i){this.terminal=e;this.viewportElement=t;this.scrollArea=r;this.charMeasureElement=i;this.currentRowHeight=0;this.lastRecordedBufferLength=0;this.lastRecordedViewportHeight=0;this.terminal.on("scroll",this.syncScrollArea.bind(this));this.terminal.on("resize",this.syncScrollArea.bind(this));this.viewportElement.addEventListener("scroll",this.onScroll.bind(this));this.syncScrollArea()}l.prototype.refresh=function(e){var t=e||this.charMeasureElement.getBoundingClientRect();if(t.height>0){var r=t.height!==this.currentRowHeight;if(r){this.currentRowHeight=t.height;this.viewportElement.style.lineHeight=t.height+"px";this.terminal.rowContainer.style.lineHeight=t.height+"px"}var i=this.lastRecordedViewportHeight!==this.terminal.rows;if(r||i){this.lastRecordedViewportHeight=this.terminal.rows;this.viewportElement.style.height=t.height*this.terminal.rows+"px"}this.scrollArea.style.height=t.height*this.lastRecordedBufferLength+"px"}};l.prototype.syncScrollArea=function(){if(this.isApplicationMode){this.lastRecordedBufferLength=this.terminal.rows;this.refresh();return}if(this.lastRecordedBufferLength!==this.terminal.lines.length){this.lastRecordedBufferLength=this.terminal.lines.length;this.refresh()}else if(this.lastRecordedViewportHeight!==this.terminal.rows){this.refresh()}else{var e=this.charMeasureElement.getBoundingClientRect();if(e.height!==this.currentRowHeight){this.refresh(e)}}var t=this.terminal.ydisp*this.currentRowHeight;if(this.viewportElement.scrollTop!==t){this.viewportElement.scrollTop=t}};l.prototype.setApplicationMode=function(e){this.isApplicationMode=e;this.syncScrollArea()};l.prototype.onScroll=function(e){if(this.isApplicationMode){return}var t=Math.round(this.viewportElement.scrollTop/this.currentRowHeight);var r=t-this.terminal.ydisp;this.terminal.scrollDisp(r,true)};l.prototype.onWheel=function(e){if(e.deltaY===0){return}var t=1;if(e.deltaMode===WheelEvent.DOM_DELTA_LINE){t=this.currentRowHeight}else if(e.deltaMode===WheelEvent.DOM_DELTA_PAGE){t=this.currentRowHeight*this.terminal.rows}this.viewportElement.scrollTop+=e.deltaY*t;e.preventDefault()};var c=0,u=1,f=2,p=3,d=4,y=5,m=6;function v(e){var t=this;if(!(this instanceof v)){return new v(arguments[0],arguments[1],arguments[2])}t.cancel=v.cancel;a.call(this);if(typeof e==="number"){e={cols:arguments[0],rows:arguments[1],handler:arguments[2]}}e=e||{};Object.keys(v.defaults).forEach(function(r){if(e[r]==null){e[r]=v.options[r];if(v[r]!==v.defaults[r]){e[r]=v[r]}}t[r]=e[r]});if(e.colors.length===8){e.colors=e.colors.concat(v._colors.slice(8))}else if(e.colors.length===16){e.colors=e.colors.concat(v._colors.slice(16))}else if(e.colors.length===10){e.colors=e.colors.slice(0,-2).concat(v._colors.slice(8,-2),e.colors.slice(-2))}else if(e.colors.length===18){e.colors=e.colors.concat(v._colors.slice(16,-2),e.colors.slice(-2))}this.colors=e.colors;this.options=e;this.parent=e.body||e.parent||(o?o.getElementsByTagName("body")[0]:null);this.cols=e.cols||e.geometry[0];this.rows=e.rows||e.geometry[1];if(e.handler){this.on("data",e.handler)}this.ybase=0;this.ydisp=0;this.x=0;this.y=0;this.isRefreshing=false;this.cursorState=0;this.cursorHidden=false;this.convertEol;this.state=0;this.queue="";this.scrollTop=0;this.scrollBottom=this.rows-1;this.customKeydownHandler=null;this.applicationKeypad=false;this.applicationCursor=false;this.originMode=false;this.insertMode=false;this.wraparoundMode=true;this.normal=null;this.charset=null;this.gcharset=null;this.glevel=0;this.charsets=[null];this.decLocator;this.x10Mouse;this.vt200Mouse;this.vt300Mouse;this.normalMouse;this.mouseEvents;this.sendFocus;this.utfMouse;this.sgrMouse;this.urxvtMouse;this.element;this.children;this.refreshStart;this.refreshEnd;this.savedX;this.savedY;this.savedCols;this.readable=true;this.writable=true;this.defAttr=0<<18|257<<9|256<<0;this.curAttr=this.defAttr;this.params=[];this.currentParam=0;this.prefix="";this.postfix="";this.surrogate_high="";this.lines=[];var r=this.rows;while(r--){this.lines.push(this.blankLine())}this.tabs;this.setupStops()}_(v,a);v.prototype.eraseAttr=function(){return this.defAttr&~511|this.curAttr&511};v.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"];v.colors=function(){var e=v.tangoColors.slice(),t=[0,95,135,175,215,255],r;r=0;for(;r<216;r++){i(t[r/36%6|0],t[r/6%6|0],t[r%6])}r=0;for(;r<24;r++){t=8+r*10;i(t,t,t)}function i(t,r,i){e.push("#"+s(t)+s(r)+s(i))}function s(e){e=e.toString(16);return e.length<2?"0"+e:e}return e}();v._colors=v.colors.slice();v.vcolors=function(){var e=[],t=v.colors,r=0,i;for(;r<256;r++){i=parseInt(t[r].substring(1),16);e.push([i>>16&255,i>>8&255,i&255])}return e}();v.defaults={colors:v.colors,theme:"default",convertEol:false,termName:"xterm",geometry:[80,24],cursorBlink:false,visualBell:false,popOnBell:false,scrollback:1e3,screenKeys:false,debug:false,cancelEvents:false};v.options={};v.focus=null;I(P(v.defaults),function(e){v[e]=v.defaults[e];v.options[e]=v.defaults[e]});v.prototype.focus=function(){return this.textarea.focus()};v.bindFocus=function(e){b(e.textarea,"focus",function(t){if(e.sendFocus){e.send("[I")}e.element.classList.add("focus");e.showCursor();v.focus=e;e.emit("focus",{terminal:e})})};v.prototype.blur=function(){return this.textarea.blur()};v.bindBlur=function(e){b(e.textarea,"blur",function(t){e.refresh(e.y,e.y);if(e.sendFocus){e.send("[O")}e.element.classList.remove("focus");v.focus=null;e.emit("blur",{terminal:e})})};v.prototype.initGlobal=function(){v.bindPaste(this);v.bindKeys(this);v.bindCopy(this);v.bindFocus(this);v.bindBlur(this)};v.bindPaste=function(e){b([e.textarea,e.element],"paste",function(t){t.stopPropagation();if(t.clipboardData){var r=t.clipboardData.getData("text/plain");e.handler(r);e.textarea.value="";return e.cancel(t)}})};v.prepareCopiedTextForClipboard=function(e){var t=E.fromCharCode(32),r=E.fromCharCode(160),i=new RegExp(r,"g"),s=e.split("\n").map(function(e){var r=e.replace(/\s+$/g,"").replace(i,t);return r}).join("\n");return s};v.bindKeys=function(e){b(e.element,"keydown",function(t){if(o.activeElement!=this){return}e.keyDown(t)},true);b(e.element,"keypress",function(t){if(o.activeElement!=this){return}e.keyPress(t)},true);b(e.element,"keyup",e.focus.bind(e));b(e.textarea,"keydown",function(t){e.keyDown(t)},true);b(e.textarea,"keypress",function(t){e.keyPress(t);this.value=""},true);b(e.textarea,"compositionstart",e.compositionHelper.compositionstart.bind(e.compositionHelper));b(e.textarea,"compositionupdate",e.compositionHelper.compositionupdate.bind(e.compositionHelper));b(e.textarea,"compositionend",e.compositionHelper.compositionend.bind(e.compositionHelper));e.on("refresh",e.compositionHelper.updateCompositionElements.bind(e.compositionHelper))};v.bindCopy=function(e){b(e.element,"copy",function(e){return})};v.prototype.insertRow=function(e){if(typeof e!="object"){e=o.createElement("div")}this.rowContainer.appendChild(e);this.children.push(e);return e};v.prototype.open=function(e){var t=this,r=0,i;this.parent=e||this.parent;if(!this.parent){throw new Error("Terminal requires a parent element.")}this.context=this.parent.ownerDocument.defaultView;this.document=this.parent.ownerDocument;this.body=this.document.getElementsByTagName("body")[0];if(this.context.navigator&&this.context.navigator.userAgent){this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")}if(this.context.navigator&&this.context.navigator.platform){this.isMac=g(this.context.navigator.platform,["Macintosh","MacIntel","MacPPC","Mac68K"]);this.isIpad=this.context.navigator.platform==="iPad";this.isIphone=this.context.navigator.platform==="iPhone";this.isMSWindows=g(this.context.navigator.platform,["Windows","Win16","Win32","WinCE"])}this.element=this.document.createElement("div");this.element.classList.add("terminal");this.element.classList.add("xterm");this.element.classList.add("xterm-theme-"+this.theme);this.element.style.height;this.element.setAttribute("tabindex",0);this.viewportElement=o.createElement("div");this.viewportElement.classList.add("xterm-viewport");this.element.appendChild(this.viewportElement);this.viewportScrollArea=o.createElement("div");this.viewportScrollArea.classList.add("xterm-scroll-area");this.viewportElement.appendChild(this.viewportScrollArea);this.rowContainer=o.createElement("div");this.rowContainer.classList.add("xterm-rows");this.element.appendChild(this.rowContainer);this.children=[];this.helperContainer=o.createElement("div");this.helperContainer.classList.add("xterm-helpers");this.element.appendChild(this.helperContainer);this.textarea=o.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea");this.textarea.setAttribute("autocorrect","off");this.textarea.setAttribute("autocapitalize","off");this.textarea.setAttribute("spellcheck","false");this.textarea.tabIndex=0;this.textarea.addEventListener("focus",function(){t.emit("focus",{terminal:t})});this.textarea.addEventListener("blur",function(){t.emit("blur",{terminal:t})});this.helperContainer.appendChild(this.textarea);this.compositionView=o.createElement("div");this.compositionView.classList.add("composition-view");this.compositionHelper=new h(this.textarea,this.compositionView,this);this.helperContainer.appendChild(this.compositionView);this.charMeasureElement=o.createElement("div");this.charMeasureElement.classList.add("xterm-char-measure-element");this.charMeasureElement.innerHTML="W";this.helperContainer.appendChild(this.charMeasureElement);for(;r<this.rows;r++){this.insertRow()}this.parent.appendChild(this.element);this.viewport=new l(this,this.viewportElement,this.viewportScrollArea,this.charMeasureElement);this.refresh(0,this.rows-1);this.initGlobal();this.focus();b(this.element,"mouseup",function(){var e=o.getSelection(),r=e.isCollapsed,i=typeof r=="boolean"?!r:e.type=="Range";if(!i){t.focus()}});this.bindMouse();if(v.brokenBold==null){v.brokenBold=x(this.document)}this.emit("open")};v.loadAddon=function(n,o){if(typeof i==="object"&&typeof r==="object"){return t(s+"/../addons/"+n)}else if(typeof e=="function"){return t(["../addons/"+n+"/"+n],o)}else{console.error("Cannot load a module without a CommonJS or RequireJS environment.");return false}};v.prototype.bindMouse=function(){var e=this.element,t=this,r=32;function i(e){var t,i;t=a(e);i=h(e);if(!i)return;o(t,i);switch(e.overrideType||e.type){case"mousedown":r=t;break;case"mouseup":r=32;break;case"wheel":break}}function s(e){var t=r,i;i=h(e);if(!i)return;t+=32;o(t,i)}function n(e,r){if(!t.utfMouse){if(r===255)return e.push(0);if(r>127)r=127;e.push(r)}else{if(r===2047)return e.push(0);if(r<127){e.push(r)}else{if(r>2047)r=2047;e.push(192|r>>6);e.push(128|r&63)}}}function o(e,r){if(t.vt300Mouse){e&=3;r.x-=32;r.y-=32;var i="[24";if(e===0)i+="1";else if(e===1)i+="3";else if(e===2)i+="5";else if(e===3)return;else i+="0";i+="~["+r.x+","+r.y+"]\r";t.send(i);return}if(t.decLocator){e&=3;r.x-=32;r.y-=32;if(e===0)e=2;else if(e===1)e=4;else if(e===2)e=6;else if(e===3)e=3;t.send("["+e+";"+(e===3?4:0)+";"+r.y+";"+r.x+";"+(r.page||0)+"&w");return}if(t.urxvtMouse){r.x-=32;r.y-=32;r.x++;r.y++;t.send("["+e+";"+r.x+";"+r.y+"M");return}if(t.sgrMouse){r.x-=32;r.y-=32;t.send("[<"+((e&3)===3?e&~3:e)+";"+r.x+";"+r.y+((e&3)===3?"m":"M"));return}var i=[];n(i,e);n(i,r.x);n(i,r.y);t.send("[M"+E.fromCharCode.apply(E,i))}function a(e){var r,i,s,n,o;switch(e.overrideType||e.type){case"mousedown":r=e.button!=null?+e.button:e.which!=null?e.which-1:null;if(t.isMSIE){r=r===1?0:r===4?1:r}break;case"mouseup":r=3;break;case"DOMMouseScroll":r=e.detail<0?64:65;break;case"wheel":r=e.wheelDeltaY>0?64:65;break}i=e.shiftKey?4:0;s=e.metaKey?8:0;n=e.ctrlKey?16:0;o=i|s|n;if(t.vt200Mouse){o&=n}else if(!t.normalMouse){o=0}r=32+(o<<2)+r;return r}function h(e){var r,i,s,n,o;if(e.pageX==null)return;r=e.pageX;i=e.pageY;o=t.element;while(o&&o!==t.document.documentElement){r-=o.offsetLeft;i-=o.offsetTop;o="offsetParent"in o?o.offsetParent:o.parentNode}s=t.element.clientWidth;n=t.element.clientHeight;r=Math.ceil(r/s*t.cols);i=Math.ceil(i/n*t.rows);if(r<0)r=0;if(r>t.cols)r=t.cols;if(i<0)i=0;if(i>t.rows)i=t.rows;r+=32;i+=32;return{x:r,y:i,type:"wheel"}}b(e,"mousedown",function(e){if(!t.mouseEvents)return;i(e);t.focus();if(t.vt200Mouse){e.overrideType="mouseup";i(e);return t.cancel(e)}if(t.normalMouse)b(t.document,"mousemove",s);if(!t.x10Mouse){b(t.document,"mouseup",function r(e){i(e);if(t.normalMouse)w(t.document,"mousemove",s);w(t.document,"mouseup",r);return t.cancel(e)})}return t.cancel(e)});b(e,"wheel",function(e){if(!t.mouseEvents)return;if(t.x10Mouse||t.vt300Mouse||t.decLocator)return;i(e);return t.cancel(e)});b(e,"wheel",function(e){if(t.mouseEvents)return;if(t.applicationKeypad)return;t.viewport.onWheel(e);return t.cancel(e)})};v.prototype.destroy=function(){this.readable=false;this.writable=false;this._events={};this.handler=function(){};this.write=function(){};if(this.element.parentNode){this.element.parentNode.removeChild(this.element)}};v.flags={BOLD:1,UNDERLINE:2,BLINK:4,INVERSE:8,INVISIBLE:16};v.prototype.refresh=function(e,t,r){var i=this;r=typeof r=="undefined"?true:r;if(r){if(this._refreshIsQueued){this._fullRefreshNext=true}else{C(function(){i.refresh(e,t,false)},34);this._refreshIsQueued=true}return}this._refreshIsQueued=false;if(this._fullRefreshNext){e=0;t=this.rows-1;this._fullRefreshNext=false}var s,n,a,h,l,c,u,f,p,d,y,m,g,b,w,k,_,x=o.activeElement;if(t-e>=this.rows/2){_=this.element.parentNode;if(_){this.element.removeChild(this.rowContainer)}}p=this.cols;n=e;if(t>=this.rows.length){this.log("`end` is too large. Most likely a bad CSR.");t=this.rows.length-1}for(;n<=t;n++){k=n+this.ydisp;h=this.lines[k];l="";if(this.y===n-(this.ybase-this.ydisp)&&this.cursorState&&!this.cursorHidden){s=this.x}else{s=-1}y=this.defAttr;m=undefined;a=0;for(;a<p;a++){d=h[a][0];c=h[a][1];u=h[a][2];f=h[a][3];if(!u)continue;if(a===s)d=-1;if(m!==undefined&&m!==f){l+="</"+m.name+">"}if(d!==y){if(y!==this.defAttr){l+="</span>"}if(d!==this.defAttr){if(d===-1){l+='<span class="reverse-video terminal-cursor';if(this.cursorBlink){l+=" blinking"}l+='">'}else{var E=[];g=d&511;b=d>>9&511;w=d>>18;if(w&v.flags.BOLD){if(!v.brokenBold){E.push("xterm-bold")}if(b<8)b+=8}if(w&v.flags.UNDERLINE){E.push("xterm-underline")}if(w&v.flags.BLINK){E.push("xterm-blink")}if(w&v.flags.INVERSE){g=[b,b=g][0];if(w&1&&b<8)b+=8}if(w&v.flags.INVISIBLE){E.push("xterm-hidden")}if(w&v.flags.INVERSE){if(g==257){g=15}if(b==256){b=0}}if(g<256){E.push("xterm-bg-color-"+g)}if(b<256){E.push("xterm-color-"+b)}l+="<span";if(E.length){l+=' class="'+E.join(" ")+'"'}l+=">"}}}if(f!==undefined&&f!==m){var L=f.name;var A=f.attrs;l+="<"+L;for(var R in A){if(!A.hasOwnProperty(R))continue;var S=A[R];l+=" "+R+'="'+S+'"'}l+=">"}switch(c){case"&":l+="&amp;";break;case"<":l+="&lt;";break;case">":l+="&gt;";break;default:if(c<=" "){l+="&nbsp;"}else{l+=c}break}y=d;m=f}if(m!==undefined){l+="</"+m.name+">"}if(y!==this.defAttr){l+="</span>"}this.children[n].innerHTML=l}if(_){this.element.appendChild(this.rowContainer)}this.emit("refresh",{element:this.element,start:e,end:t})};v.prototype.showCursor=function(){if(!this.cursorState){this.cursorState=1;this.refresh(this.y,this.y)}};v.prototype.scroll=function(){var e;if(++this.ybase===this.scrollback){this.ybase=this.ybase/2|0;this.lines=this.lines.slice(-(this.ybase+this.rows)+1)}this.ydisp=this.ybase;e=this.ybase+this.rows-1;e-=this.rows-1-this.scrollBottom;if(e===this.lines.length){this.lines.push(this.blankLine())}else{this.lines.splice(e,0,this.blankLine())}if(this.scrollTop!==0){if(this.ybase!==0){this.ybase--;this.ydisp=this.ybase}this.lines.splice(this.ybase+this.scrollTop,1)}this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);this.emit("scroll",this.ydisp)};v.prototype.scrollDisp=function(e,t){this.ydisp+=e;if(this.ydisp>this.ybase){this.ydisp=this.ybase}else if(this.ydisp<0){this.ydisp=0}if(!t){this.emit("scroll",this.ydisp)}this.refresh(0,this.rows-1)};v.prototype.write=function(e){var t=e.length,r=0,i,s,n,o,a,h,l;this.refreshStart=this.y;this.refreshEnd=this.y;if(this.ybase!==this.ydisp){this.ydisp=this.ybase;this.emit("scroll",this.ydisp);this.maxRange()}if(this.surrogate_high){e=this.surrogate_high+e;this.surrogate_high=""}for(;r<t;r++){n=e[r];o=e.charCodeAt(r);if(55296<=o&&o<=56319){a=e.charCodeAt(r+1);if(isNaN(a)){this.surrogate_high=n;continue}o=(o-55296)*1024+(a-56320)+65536;n+=e.charAt(r+1)}if(56320<=o&&o<=57343)continue;switch(this.state){case c:switch(n){case"":this.bell();break;case"\n":case"":case"\f":if(this.convertEol){this.x=0}this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll()}break;case"\r":this.x=0;break;case"\b":if(this.x>0){this.x--}break;case"	":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=u;break;default:h=T(o);if(n>=" "){if(this.charset&&this.charset[n]){n=this.charset[n]}l=this.y+this.ybase;if(!h&&this.x){if(this.lines[l][this.x-1]){if(!this.lines[l][this.x-1][2]){if(this.lines[l][this.x-2])this.lines[l][this.x-2][1]+=n}else{this.lines[l][this.x-1][1]+=n}this.updateRange(this.y)}break}if(this.x+h-1>=this.cols){if(this.wraparoundMode){this.x=0;this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll()}}else{this.x=this.cols-1;if(h===2)continue}}l=this.y+this.ybase;if(this.insertMode){for(var g=0;g<h;++g){var b=this.lines[this.y+this.ybase].pop();if(b[2]===0&&this.lines[l][this.cols-2]&&this.lines[l][this.cols-2][2]===2)this.lines[l][this.cols-2]=[this.curAttr," ",1,this.tag];this.lines[l].splice(this.x,0,[this.curAttr," ",1,this.tag])}}this.lines[l][this.x]=[this.curAttr,n,h,this.tag];this.x++;this.updateRange(this.y);if(h===2){this.lines[l][this.x]=[this.curAttr,"",0,this.tag];this.x++}}break}break;case u:switch(n){case"[":this.params=[];this.currentParam=0;this.state=f;break;case"]":this.params=[];this.currentParam=0;this.state=p;break;case"P":this.params=[];this.currentParam=0;this.state=y;break;case"_":this.state=m;break;case"^":this.state=m;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0);this.setgCharset(0,v.charsets.US);this.state=c;r++;break;case"(":case")":case"*":case"+":case"-":case".":switch(n){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2;break}this.state=d;break;case"/":this.gcharset=3;this.state=d;r--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor();this.state=c;break;case"8":this.restoreCursor();this.state=c;break;case"#":this.state=c;r++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad.");this.applicationKeypad=true;this.viewport.setApplicationMode(true);this.state=c;break;case">":this.log("Switching back to normal keypad.");this.applicationKeypad=false;this.viewport.setApplicationMode(false);this.state=c;break;default:this.state=c;this.error("Unknown ESC control: %s.",n);break}break;case d:switch(n){case"0":s=v.charsets.SCLD;break;case"A":s=v.charsets.UK;break;case"B":s=v.charsets.US;break;case"4":s=v.charsets.Dutch;break;case"C":case"5":s=v.charsets.Finnish;break;case"R":s=v.charsets.French;break;case"Q":s=v.charsets.FrenchCanadian;break;case"K":s=v.charsets.German;break;case"Y":s=v.charsets.Italian;break;case"E":case"6":s=v.charsets.NorwegianDanish;break;case"Z":s=v.charsets.Spanish;break;case"H":case"7":s=v.charsets.Swedish;break;case"=":s=v.charsets.Swiss;break;case"/":s=v.charsets.ISOLatin;r++;break;default:s=v.charsets.US;break}this.setgCharset(this.gcharset,s);this.gcharset=null;this.state=c;break;case p:if(n===""||n===""){if(n==="")r++;this.params.push(this.currentParam);switch(this.params[0]){case 0:case 1:case 2:if(this.params[1]){this.title=this.params[1];this.handleTitle(this.title)}break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:break}this.params=[];this.currentParam=0;this.state=c}else{if(!this.params.length){if(n>="0"&&n<="9"){this.currentParam=this.currentParam*10+n.charCodeAt(0)-48}else if(n===";"){this.params.push(this.currentParam);this.currentParam=""}}else{this.currentParam+=n}}break;case f:if(n==="?"||n===">"||n==="!"){this.prefix=n;break}if(n>="0"&&n<="9"){this.currentParam=this.currentParam*10+n.charCodeAt(0)-48;break}if(n==="$"||n==='"'||n===" "||n==="'"){this.postfix=n;break}this.params.push(this.currentParam);this.currentParam=0;if(n===";")break;this.state=c;switch(n){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":if(!this.prefix){this.charAttributes(this.params)}break;case"n":if(!this.prefix){this.deviceStatus(this.params)}break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":if(this.params.length<2&&!this.prefix){this.scrollDown(this.params)}break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params);break}break;default:this.error("Unknown CSI code: %s.",n);break}this.prefix="";this.postfix="";break;case y:if(n===""||n===""){if(n==="")r++;switch(this.prefix){case"":break;case"$q":var w=this.currentParam,k=false;switch(w){case'"q':w='0"q';break;case'"p':w='61"p';break;case"r":w=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case"m":w="0m";break;default:this.error("Unknown DCS Pt: %s.",w);w="";break}this.send("P"+ +k+"$r"+w+"\\");break;case"+p":break;case"+q":var w=this.currentParam,k=false;this.send("P"+ +k+"+r"+w+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix);break}this.currentParam=0;this.prefix="";this.state=c}else if(!this.currentParam){if(!this.prefix&&n!=="$"&&n!=="+"){this.currentParam=n}else if(this.prefix.length===2){this.currentParam=n}else{this.prefix+=n}}else{this.currentParam+=n}break;case m:if(n===""||n===""){if(n==="")r++;this.state=c}break}}this.updateRange(this.y);this.refresh(this.refreshStart,this.refreshEnd)};v.prototype.writeln=function(e){this.write(e+"\r\n")};v.prototype.writeWithinTag=function(e,t){this.tag=t;this.write(e);this.tag=undefined};v.prototype.attachCustomKeydownHandler=function(e){this.customKeydownHandler=e};v.prototype.keyDown=function(e){if(this.customKeydownHandler&&this.customKeydownHandler(e)===false){return false}if(!this.compositionHelper.keydown.bind(this.compositionHelper)(e)){return false}var t=this;var r=this.evaluateKeyEscapeSequence(e);if(r.scrollDisp){this.scrollDisp(r.scrollDisp);return this.cancel(e)}if(R(this,e)){return true}if(r.cancel){this.cancel(e,true)}if(!r.key){return true}this.emit("keydown",e);this.emit("key",r.key,e);this.showCursor();this.handler(r.key);return this.cancel(e,true)};v.prototype.evaluateKeyEscapeSequence=function(e){var t={cancel:false,key:undefined,scrollDisp:undefined};var r=e.shiftKey<<0|e.altKey<<1|e.ctrlKey<<2|e.metaKey<<3;switch(e.keyCode){case 8:if(e.shiftKey){t.key="\b";break}t.key="";break;case 9:if(e.shiftKey){t.key="[Z";break}t.key="	";t.cancel=true;break;case 13:t.key="\r";t.cancel=true;break;case 27:t.key="";t.cancel=true;break;case 37:if(r)t.key="[1;"+(r+1)+"D";else if(this.applicationCursor)t.key="OD";else t.key="[D";break;case 39:if(r)t.key="[1;"+(r+1)+"C";else if(this.applicationCursor)t.key="OC";else t.key="[C";break;case 38:if(r)t.key="[1;"+(r+1)+"A";else if(this.applicationCursor)t.key="OA";else t.key="[A";break;case 40:if(r)t.key="[1;"+(r+1)+"B";else if(this.applicationCursor)t.key="OB";else t.key="[B";break;case 45:if(!e.shiftKey&&!e.ctrlKey){t.key="[2~"}break;case 46:t.key="[3~";break;case 36:if(r)t.key="[1;"+(r+1)+"H";else if(this.applicationCursor)t.key="OH";else t.key="[H";break;case 35:if(r)t.key="[1;"+(r+1)+"F";else if(this.applicationCursor)t.key="OF";else t.key="[F";break;case 33:if(e.shiftKey){t.scrollDisp=-(this.rows-1)}else{t.key="[5~"}break;case 34:if(e.shiftKey){t.scrollDisp=this.rows-1}else{t.key="[6~"}break;case 112:t.key="OP";break;case 113:t.key="OQ";break;case 114:t.key="OR";break;case 115:t.key="OS";break;case 116:t.key="[15~";break;case 117:t.key="[17~";break;case 118:t.key="[18~";break;case 119:t.key="[19~";break;case 120:t.key="[20~";break;case 121:t.key="[21~";break;case 122:t.key="[23~";break;case 123:t.key="[24~";break;default:if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){if(e.keyCode>=65&&e.keyCode<=90){t.key=E.fromCharCode(e.keyCode-64)}else if(e.keyCode===32){t.key=E.fromCharCode(0)}else if(e.keyCode>=51&&e.keyCode<=55){t.key=E.fromCharCode(e.keyCode-51+27)}else if(e.keyCode===56){t.key=E.fromCharCode(127)}else if(e.keyCode===219){t.key=E.fromCharCode(27)}else if(e.keyCode===221){t.key=E.fromCharCode(29)}}else if(!this.isMac&&e.altKey&&!e.ctrlKey&&!e.metaKey){if(e.keyCode>=65&&e.keyCode<=90){
t.key=""+E.fromCharCode(e.keyCode+32)}else if(e.keyCode===192){t.key="`"}else if(e.keyCode>=48&&e.keyCode<=57){t.key=""+(e.keyCode-48)}}break}return t};v.prototype.setgLevel=function(e){this.glevel=e;this.charset=this.charsets[e]};v.prototype.setgCharset=function(e,t){this.charsets[e]=t;if(this.glevel===e){this.charset=t}};v.prototype.keyPress=function(e){var t;this.cancel(e);if(e.charCode){t=e.charCode}else if(e.which==null){t=e.keyCode}else if(e.which!==0&&e.charCode!==0){t=e.which}else{return false}if(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!R(this,e)){return false}t=E.fromCharCode(t);this.emit("keypress",t,e);this.emit("key",t,e);this.showCursor();this.handler(t);return false};v.prototype.send=function(e){var t=this;if(!this.queue){C(function(){t.handler(t.queue);t.queue=""},1)}this.queue+=e};v.prototype.bell=function(){if(!this.visualBell)return;var e=this;this.element.style.borderColor="white";C(function(){e.element.style.borderColor=""},10);if(this.popOnBell)this.focus()};v.prototype.log=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.log)return;var e=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,e)};v.prototype.error=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.error)return;var e=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,e)};v.prototype.resize=function(e,t){var r,i,s,n,o,a;if(e===this.cols&&t===this.rows){return}if(e<1)e=1;if(t<1)t=1;n=this.cols;if(n<e){o=[this.defAttr," ",1];s=this.lines.length;while(s--){while(this.lines[s].length<e){this.lines[s].push(o)}}}else{s=this.lines.length;while(s--){while(this.lines[s].length>e){this.lines[s].pop()}}}this.setupStops(n);this.cols=e;n=this.rows;a=0;if(n<t){i=this.element;while(n++<t){if(this.lines.length<t+this.ybase){if(this.ybase>0&&this.lines.length<=this.ybase+this.y+a+1){this.ybase--;a++;if(this.ydisp>0){this.ydisp--}}else{this.lines.push(this.blankLine())}}if(this.children.length<t){this.insertRow()}}}else{while(n-->t){if(this.lines.length>t+this.ybase){if(this.lines.length>this.ybase+this.y+1){this.lines.pop()}else{this.ybase++;this.ydisp++}}if(this.children.length>t){i=this.children.shift();if(!i)continue;i.parentNode.removeChild(i)}}}this.rows=t;if(this.y>=t){this.y=t-1}if(a){this.y+=a}if(this.x>=e){this.x=e-1}this.scrollTop=0;this.scrollBottom=t-1;this.refresh(0,this.rows-1);this.normal=null;this.emit("resize",{terminal:this,cols:e,rows:t})};v.prototype.updateRange=function(e){if(e<this.refreshStart)this.refreshStart=e;if(e>this.refreshEnd)this.refreshEnd=e};v.prototype.maxRange=function(){this.refreshStart=0;this.refreshEnd=this.rows-1};v.prototype.setupStops=function(e){if(e!=null){if(!this.tabs[e]){e=this.prevStop(e)}}else{this.tabs={};e=0}for(;e<this.cols;e+=8){this.tabs[e]=true}};v.prototype.prevStop=function(e){if(e==null)e=this.x;while(!this.tabs[--e]&&e>0);return e>=this.cols?this.cols-1:e<0?0:e};v.prototype.nextStop=function(e){if(e==null)e=this.x;while(!this.tabs[++e]&&e<this.cols);return e>=this.cols?this.cols-1:e<0?0:e};v.prototype.eraseRight=function(e,t){var r=this.lines[this.ybase+t],i=[this.eraseAttr()," ",1];for(;e<this.cols;e++){r[e]=i}this.updateRange(t)};v.prototype.eraseLeft=function(e,t){var r=this.lines[this.ybase+t],i=[this.eraseAttr()," ",1];e++;while(e--)r[e]=i;this.updateRange(t)};v.prototype.eraseLine=function(e){this.eraseRight(0,e)};v.prototype.blankLine=function(e){var t=e?this.eraseAttr():this.defAttr;var r=[t," ",1],i=[],s=0;for(;s<this.cols;s++){i[s]=r}return i};v.prototype.ch=function(e){return e?[this.eraseAttr()," ",1]:[this.defAttr," ",1]};v.prototype.is=function(e){var t=this.termName;return(t+"").indexOf(e)===0};v.prototype.handler=function(e){this.emit("data",e)};v.prototype.handleTitle=function(e){this.emit("title",e)};v.prototype.index=function(){this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll()}this.state=c};v.prototype.reverseIndex=function(){var e;this.y--;if(this.y<this.scrollTop){this.y++;this.lines.splice(this.y+this.ybase,0,this.blankLine(true));e=this.rows-1-this.scrollBottom;this.lines.splice(this.rows-1+this.ybase-e+1,1);this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom)}this.state=c};v.prototype.reset=function(){this.options.rows=this.rows;this.options.cols=this.cols;var e=this.customKeydownHandler;v.call(this,this.options);this.customKeydownHandler=e;this.refresh(0,this.rows-1)};v.prototype.tabSet=function(){this.tabs[this.x]=true;this.state=c};v.prototype.cursorUp=function(e){var t=e[0];if(t<1)t=1;this.y-=t;if(this.y<0)this.y=0};v.prototype.cursorDown=function(e){var t=e[0];if(t<1)t=1;this.y+=t;if(this.y>=this.rows){this.y=this.rows-1}};v.prototype.cursorForward=function(e){var t=e[0];if(t<1)t=1;this.x+=t;if(this.x>=this.cols){this.x=this.cols-1}};v.prototype.cursorBackward=function(e){var t=e[0];if(t<1)t=1;this.x-=t;if(this.x<0)this.x=0};v.prototype.cursorPos=function(e){var t,r;t=e[0]-1;if(e.length>=2){r=e[1]-1}else{r=0}if(t<0){t=0}else if(t>=this.rows){t=this.rows-1}if(r<0){r=0}else if(r>=this.cols){r=this.cols-1}this.x=r;this.y=t};v.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:this.eraseRight(this.x,this.y);t=this.y+1;for(;t<this.rows;t++){this.eraseLine(t)}break;case 1:this.eraseLeft(this.x,this.y);t=this.y;while(t--){this.eraseLine(t)}break;case 2:t=this.rows;while(t--)this.eraseLine(t);break;case 3:;break}};v.prototype.eraseInLine=function(e){switch(e[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y);break}};v.prototype.charAttributes=function(e){if(e.length===1&&e[0]===0){this.curAttr=this.defAttr;return}var t=e.length,r=0,i=this.curAttr>>18,s=this.curAttr>>9&511,n=this.curAttr&511,o;for(;r<t;r++){o=e[r];if(o>=30&&o<=37){s=o-30}else if(o>=40&&o<=47){n=o-40}else if(o>=90&&o<=97){o+=8;s=o-90}else if(o>=100&&o<=107){o+=8;n=o-100}else if(o===0){i=this.defAttr>>18;s=this.defAttr>>9&511;n=this.defAttr&511}else if(o===1){i|=1}else if(o===4){i|=2}else if(o===5){i|=4}else if(o===7){i|=8}else if(o===8){i|=16}else if(o===22){i&=~1}else if(o===24){i&=~2}else if(o===25){i&=~4}else if(o===27){i&=~8}else if(o===28){i&=~16}else if(o===39){s=this.defAttr>>9&511}else if(o===49){n=this.defAttr&511}else if(o===38){if(e[r+1]===2){r+=2;s=S(e[r]&255,e[r+1]&255,e[r+2]&255);if(s===-1)s=511;r+=2}else if(e[r+1]===5){r+=2;o=e[r]&255;s=o}}else if(o===48){if(e[r+1]===2){r+=2;n=S(e[r]&255,e[r+1]&255,e[r+2]&255);if(n===-1)n=511;r+=2}else if(e[r+1]===5){r+=2;o=e[r]&255;n=o}}else if(o===100){s=this.defAttr>>9&511;n=this.defAttr&511}else{this.error("Unknown SGR attribute: %d.",o)}}this.curAttr=i<<18|s<<9|n};v.prototype.deviceStatus=function(e){if(!this.prefix){switch(e[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R");break}}else if(this.prefix==="?"){switch(e[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:break}}};v.prototype.insertChars=function(e){var t,r,i,s;t=e[0];if(t<1)t=1;r=this.y+this.ybase;i=this.x;s=[this.eraseAttr()," ",1];while(t--&&i<this.cols){this.lines[r].splice(i++,0,s);this.lines[r].pop()}};v.prototype.cursorNextLine=function(e){var t=e[0];if(t<1)t=1;this.y+=t;if(this.y>=this.rows){this.y=this.rows-1}this.x=0};v.prototype.cursorPrecedingLine=function(e){var t=e[0];if(t<1)t=1;this.y-=t;if(this.y<0)this.y=0;this.x=0};v.prototype.cursorCharAbsolute=function(e){var t=e[0];if(t<1)t=1;this.x=t-1};v.prototype.insertLines=function(e){var t,r,i;t=e[0];if(t<1)t=1;r=this.y+this.ybase;i=this.rows-1-this.scrollBottom;i=this.rows-1+this.ybase-i+1;while(t--){this.lines.splice(r,0,this.blankLine(true));this.lines.splice(i,1)}this.updateRange(this.y);this.updateRange(this.scrollBottom)};v.prototype.deleteLines=function(e){var t,r,i;t=e[0];if(t<1)t=1;r=this.y+this.ybase;i=this.rows-1-this.scrollBottom;i=this.rows-1+this.ybase-i;while(t--){this.lines.splice(i+1,0,this.blankLine(true));this.lines.splice(r,1)}this.updateRange(this.y);this.updateRange(this.scrollBottom)};v.prototype.deleteChars=function(e){var t,r,i;t=e[0];if(t<1)t=1;r=this.y+this.ybase;i=[this.eraseAttr()," ",1];while(t--){this.lines[r].splice(this.x,1);this.lines[r].push(i)}};v.prototype.eraseChars=function(e){var t,r,i,s;t=e[0];if(t<1)t=1;r=this.y+this.ybase;i=this.x;s=[this.eraseAttr()," ",1];while(t--&&i<this.cols){this.lines[r][i++]=s}};v.prototype.charPosAbsolute=function(e){var t=e[0];if(t<1)t=1;this.x=t-1;if(this.x>=this.cols){this.x=this.cols-1}};v.prototype.HPositionRelative=function(e){var t=e[0];if(t<1)t=1;this.x+=t;if(this.x>=this.cols){this.x=this.cols-1}};v.prototype.sendDeviceAttributes=function(e){if(e[0]>0)return;if(!this.prefix){if(this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")){this.send("[?1;2c")}else if(this.is("linux")){this.send("[?6c")}}else if(this.prefix===">"){if(this.is("xterm")){this.send("[>0;276;0c")}else if(this.is("rxvt-unicode")){this.send("[>85;95;0c")}else if(this.is("linux")){this.send(e[0]+"c")}else if(this.is("screen")){this.send("[>83;40003;0c")}}};v.prototype.linePosAbsolute=function(e){var t=e[0];if(t<1)t=1;this.y=t-1;if(this.y>=this.rows){this.y=this.rows-1}};v.prototype.VPositionRelative=function(e){var t=e[0];if(t<1)t=1;this.y+=t;if(this.y>=this.rows){this.y=this.rows-1}};v.prototype.HVPosition=function(e){if(e[0]<1)e[0]=1;if(e[1]<1)e[1]=1;this.y=e[0]-1;if(this.y>=this.rows){this.y=this.rows-1}this.x=e[1]-1;if(this.x>=this.cols){this.x=this.cols-1}};v.prototype.setMode=function(e){if(typeof e==="object"){var t=e.length,r=0;for(;r<t;r++){this.setMode(e[r])}return}if(!this.prefix){switch(e){case 4:this.insertMode=true;break;case 20:break}}else if(this.prefix==="?"){switch(e){case 1:this.applicationCursor=true;break;case 2:this.setgCharset(0,v.charsets.US);this.setgCharset(1,v.charsets.US);this.setgCharset(2,v.charsets.US);this.setgCharset(3,v.charsets.US);break;case 3:this.savedCols=this.cols;this.resize(132,this.rows);break;case 6:this.originMode=true;break;case 7:this.wraparoundMode=true;break;case 12:break;case 66:this.log("Serial port requested application keypad.");this.applicationKeypad=true;this.viewport.setApplicationMode(true);break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=e===9;this.vt200Mouse=e===1e3;this.normalMouse=e>1e3;this.mouseEvents=true;this.element.style.cursor="default";this.log("Binding to mouse events.");break;case 1004:this.sendFocus=true;break;case 1005:this.utfMouse=true;break;case 1006:this.sgrMouse=true;break;case 1015:this.urxvtMouse=true;break;case 25:this.cursorHidden=false;break;case 1049:;case 47:case 1047:if(!this.normal){var i={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset();this.normal=i;this.showCursor()}break}}};v.prototype.resetMode=function(e){if(typeof e==="object"){var t=e.length,r=0;for(;r<t;r++){this.resetMode(e[r])}return}if(!this.prefix){switch(e){case 4:this.insertMode=false;break;case 20:break}}else if(this.prefix==="?"){switch(e){case 1:this.applicationCursor=false;break;case 3:if(this.cols===132&&this.savedCols){this.resize(this.savedCols,this.rows)}delete this.savedCols;break;case 6:this.originMode=false;break;case 7:this.wraparoundMode=false;break;case 12:break;case 66:this.log("Switching back to normal keypad.");this.viewport.setApplicationMode(false);this.applicationKeypad=false;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=false;this.vt200Mouse=false;this.normalMouse=false;this.mouseEvents=false;this.element.style.cursor="";break;case 1004:this.sendFocus=false;break;case 1005:this.utfMouse=false;break;case 1006:this.sgrMouse=false;break;case 1015:this.urxvtMouse=false;break;case 25:this.cursorHidden=true;break;case 1049:;case 47:case 1047:if(this.normal){this.lines=this.normal.lines;this.ybase=this.normal.ybase;this.ydisp=this.normal.ydisp;this.x=this.normal.x;this.y=this.normal.y;this.scrollTop=this.normal.scrollTop;this.scrollBottom=this.normal.scrollBottom;this.tabs=this.normal.tabs;this.normal=null;this.refresh(0,this.rows-1);this.showCursor()}break}}};v.prototype.setScrollRegion=function(e){if(this.prefix)return;this.scrollTop=(e[0]||1)-1;this.scrollBottom=(e[1]||this.rows)-1;this.x=0;this.y=0};v.prototype.saveCursor=function(e){this.savedX=this.x;this.savedY=this.y};v.prototype.restoreCursor=function(e){this.x=this.savedX||0;this.y=this.savedY||0};v.prototype.cursorForwardTab=function(e){var t=e[0]||1;while(t--){this.x=this.nextStop()}};v.prototype.scrollUp=function(e){var t=e[0]||1;while(t--){this.lines.splice(this.ybase+this.scrollTop,1);this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine())}this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom)};v.prototype.scrollDown=function(e){var t=e[0]||1;while(t--){this.lines.splice(this.ybase+this.scrollBottom,1);this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine())}this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom)};v.prototype.initMouseTracking=function(e){};v.prototype.resetTitleModes=function(e){};v.prototype.cursorBackwardTab=function(e){var t=e[0]||1;while(t--){this.x=this.prevStop()}};v.prototype.repeatPrecedingCharacter=function(e){var t=e[0]||1,r=this.lines[this.ybase+this.y],i=r[this.x-1]||[this.defAttr," ",1];while(t--)r[this.x++]=i};v.prototype.tabClear=function(e){var t=e[0];if(t<=0){delete this.tabs[this.x]}else if(t===3){this.tabs={}}};v.prototype.mediaCopy=function(e){};v.prototype.setResources=function(e){};v.prototype.disableModifiers=function(e){};v.prototype.setPointerMode=function(e){};v.prototype.softReset=function(e){this.cursorHidden=false;this.insertMode=false;this.originMode=false;this.wraparoundMode=false;this.applicationKeypad=false;this.applicationCursor=false;this.scrollTop=0;this.scrollBottom=this.rows-1;this.curAttr=this.defAttr;this.x=this.y=0;this.charset=null;this.glevel=0;this.charsets=[null]};v.prototype.requestAnsiMode=function(e){};v.prototype.requestPrivateMode=function(e){};v.prototype.setConformanceLevel=function(e){};v.prototype.loadLEDs=function(e){};v.prototype.setCursorStyle=function(e){};v.prototype.setCharProtectionAttr=function(e){};v.prototype.restorePrivateValues=function(e){};v.prototype.setAttrInRectangle=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],n=e[4];var o,a;for(;t<i+1;t++){o=this.lines[this.ybase+t];for(a=r;a<s;a++){o[a]=[n,o[a][1]]}}this.updateRange(e[0]);this.updateRange(e[2])};v.prototype.fillRectangle=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],n=e[4];var o,a;for(;r<s+1;r++){o=this.lines[this.ybase+r];for(a=i;a<n;a++){o[a]=[o[a][0],E.fromCharCode(t)]}}this.updateRange(e[1]);this.updateRange(e[3])};v.prototype.enableLocatorReporting=function(e){var t=e[0]>0};v.prototype.eraseRectangle=function(e){var t=e[0],r=e[1],i=e[2],s=e[3];var n,o,a;a=[this.eraseAttr()," ",1];for(;t<i+1;t++){n=this.lines[this.ybase+t];for(o=r;o<s;o++){n[o]=a}}this.updateRange(e[0]);this.updateRange(e[2])};v.prototype.insertColumns=function(){var e=params[0],t=this.ybase+this.rows,r=[this.eraseAttr()," ",1],i;while(e--){for(i=this.ybase;i<t;i++){this.lines[i].splice(this.x+1,0,r);this.lines[i].pop()}}this.maxRange()};v.prototype.deleteColumns=function(){var e=params[0],t=this.ybase+this.rows,r=[this.eraseAttr()," ",1],i;while(e--){for(i=this.ybase;i<t;i++){this.lines[i].splice(this.x,1);this.lines[i].push(r)}}this.maxRange()};v.charsets={};v.charsets.SCLD={"`":"â—†",a:"â–’",b:"	",c:"\f",d:"\r",e:"\n",f:"Â°",g:"Â±",h:"â¤",i:"",j:"â”˜",k:"â”",l:"â”Œ",m:"â””",n:"â”¼",o:"âŽº",p:"âŽ»",q:"â”€",r:"âŽ¼",s:"âŽ½",t:"â”œ",u:"â”¤",v:"â”´",w:"â”¬",x:"â”‚",y:"â‰¤",z:"â‰¥","{":"Ï€","|":"â‰ ","}":"Â£","~":"Â·"};v.charsets.UK=null;v.charsets.US=null;v.charsets.Dutch=null;v.charsets.Finnish=null;v.charsets.French=null;v.charsets.FrenchCanadian=null;v.charsets.German=null;v.charsets.Italian=null;v.charsets.NorwegianDanish=null;v.charsets.Spanish=null;v.charsets.Swedish=null;v.charsets.Swiss=null;v.charsets.ISOLatin=null;function g(e,t){for(var r=0;r<t.length;r+=1){if(e===t[r]){return true}}return false}function b(e,t,r,i){if(!Array.isArray(e)){e=[e]}e.forEach(function(e){e.addEventListener(t,r,i||false)})}function w(e,t,r,i){e.removeEventListener(t,r,i||false)}function k(e,t){if(!this.cancelEvents&&!t){return}e.preventDefault();e.stopPropagation();return false}function _(e,t){function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r}function x(e){var t=e.getElementsByTagName("body")[0];var r=e.createElement("span");r.innerHTML="hello world";t.appendChild(r);var i=r.scrollWidth;r.style.fontWeight="bold";var s=r.scrollWidth;t.removeChild(r);return i!==s}var E=this.String;var C=this.setTimeout;var L=this.setInterval;function A(e,t){var r=e.length;while(r--){if(e[r]===t)return r}return-1}function R(e,t){var r=e.isMac&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isMSWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;if(t.type=="keypress"){return r}return r&&(!t.keyCode||t.keyCode>47)}function S(e,t,r){var i=e<<16|t<<8|r;if(S._cache[i]!=null){return S._cache[i]}var s=Infinity,n=-1,o=0,a,h,l,c,u;for(;o<v.vcolors.length;o++){a=v.vcolors[o];h=a[0];l=a[1];c=a[2];u=S.distance(e,t,r,h,l,c);if(u===0){n=o;break}if(u<s){s=u;n=o}}return S._cache[i]=n}S._cache={};S.distance=function(e,t,r,i,s,n){return Math.pow(30*(e-i),2)+Math.pow(59*(t-s),2)+Math.pow(11*(r-n),2)};function I(e,t,r){if(e.forEach)return e.forEach(t,r);for(var i=0;i<e.length;i++){t.call(r,e[i],i,e)}}function P(e){if(Object.keys)return Object.keys(e);var t,r=[];for(t in e){if(Object.prototype.hasOwnProperty.call(e,t)){r.push(t)}}return r}var T=function(e){var t=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];function r(e){var r=0;var i=t.length-1;var s;if(e<t[0][0]||e>t[i][1])return false;while(i>=r){s=Math.floor((r+i)/2);if(e>t[s][1])r=s+1;else if(e<t[s][0])i=s-1;else return true}return false}function i(t){if(t===0)return e.nul;if(t<32||t>=127&&t<160)return e.control;if(r(t))return 0;return 1+(t>=4352&&(t<=4447||t==9001||t==9002||t>=11904&&t<=42191&&t!=12351||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}return i}({nul:0,control:0});v.EventEmitter=a;v.CompositionHelper=h;v.Viewport=l;v.inherits=_;v.on=b;v.off=w;v.cancel=k;return v})}).call(this,"/lib/xterm.js/src")},{}],4:[function(e,t,r){var i=e("base64-js");var s=e("ieee754");var n=e("is-array");r.Buffer=h;r.SlowBuffer=b;r.INSPECT_MAX_BYTES=50;h.poolSize=8192;var o={};h.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new ArrayBuffer(0);var r=new Uint8Array(t);r.foo=function(){return 42};r.constructor=e;return r.foo()===42&&r.constructor===e&&typeof r.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(i){return false}}();function a(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(e){if(!(this instanceof h)){if(arguments.length>1)return new h(e,arguments[1]);return new h(e)}this.length=0;this.parent=undefined;if(typeof e==="number"){return l(this,e)}if(typeof e==="string"){return c(this,e,arguments.length>1?arguments[1]:"utf8")}return u(this,e)}function l(e,t){e=v(e,t<0?0:g(t)|0);if(!h.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;r++){e[r]=0}}return e}function c(e,t,r){if(typeof r!=="string"||r==="")r="utf8";var i=w(t,r)|0;e=v(e,i);e.write(t,r);return e}function u(e,t){if(h.isBuffer(t))return f(e,t);if(n(t))return p(e,t);if(t==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer){return d(e,t)}if(t.length)return y(e,t);return m(e,t)}function f(e,t){var r=g(t.length)|0;e=v(e,r);t.copy(e,0,0,r);return e}function p(e,t){var r=g(t.length)|0;e=v(e,r);for(var i=0;i<r;i+=1){e[i]=t[i]&255}return e}function d(e,t){var r=g(t.length)|0;e=v(e,r);for(var i=0;i<r;i+=1){e[i]=t[i]&255}return e}function y(e,t){var r=g(t.length)|0;e=v(e,r);for(var i=0;i<r;i+=1){e[i]=t[i]&255}return e}function m(e,t){var r;var i=0;if(t.type==="Buffer"&&n(t.data)){r=t.data;i=g(r.length)|0}e=v(e,i);for(var s=0;s<i;s+=1){e[s]=r[s]&255}return e}function v(e,t){if(h.TYPED_ARRAY_SUPPORT){e=h._augment(new Uint8Array(t))}else{e.length=t;e._isBuffer=true}var r=t!==0&&t<=h.poolSize>>>1;if(r)e.parent=o;return e}function g(e){if(e>=a()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+a().toString(16)+" bytes")}return e|0}function b(e,t){if(!(this instanceof b))return new b(e,t);var r=new h(e,t);delete r.parent;return r}h.isBuffer=function Z(e){return!!(e!=null&&e._isBuffer)};h.compare=function Q(e,t){if(!h.isBuffer(e)||!h.isBuffer(t)){throw new TypeError("Arguments must be Buffers")}if(e===t)return 0;var r=e.length;var i=t.length;var s=0;var n=Math.min(r,i);while(s<n){if(e[s]!==t[s])break;++s}if(s!==n){r=e[s];i=t[s]}if(r<i)return-1;if(i<r)return 1;return 0};h.isEncoding=function ee(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};h.concat=function te(e,t){if(!n(e))throw new TypeError("list argument must be an Array of Buffers.");if(e.length===0){return new h(0)}else if(e.length===1){return e[0]}var r;if(t===undefined){t=0;for(r=0;r<e.length;r++){t+=e[r].length}}var i=new h(t);var s=0;for(r=0;r<e.length;r++){var o=e[r];o.copy(i,s);s+=o.length}return i};function w(e,t){if(typeof e!=="string")e=""+e;var r=e.length;if(r===0)return 0;var i=false;for(;;){switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return $(e).length;default:if(i)return V(e).length;t=(""+t).toLowerCase();i=true}}}h.byteLength=w;h.prototype.length=undefined;h.prototype.parent=undefined;function k(e,t,r){var i=false;t=t|0;r=r===undefined||r===Infinity?this.length:r|0;if(!e)e="utf8";if(t<0)t=0;if(r>this.length)r=this.length;if(r<=t)return"";while(true){switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return I(this,t,r);case"binary":return P(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();i=true}}}h.prototype.toString=function re(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return S(this,0,e);return k.apply(this,arguments)};h.prototype.equals=function ie(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return h.compare(this,e)===0};h.prototype.inspect=function se(){var e="";var t=r.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};h.prototype.compare=function ne(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return 0;return h.compare(this,e)};h.prototype.indexOf=function oe(e,t){if(t>2147483647)t=2147483647;else if(t<-2147483648)t=-2147483648;t>>=0;if(this.length===0)return-1;if(t>=this.length)return-1;if(t<0)t=Math.max(this.length+t,0);if(typeof e==="string"){if(e.length===0)return-1;return String.prototype.indexOf.call(this,e,t)}if(h.isBuffer(e)){return r(this,e,t)}if(typeof e==="number"){if(h.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,e,t)}return r(this,[e],t)}function r(e,t,r){var i=-1;for(var s=0;r+s<e.length;s++){if(e[r+s]===t[i===-1?0:s-i]){if(i===-1)i=s;if(s-i+1===t.length)return r+i}else{i=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};h.prototype.get=function ae(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};h.prototype.set=function he(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};function _(e,t,r,i){r=Number(r)||0;var s=e.length-r;if(!i){i=s}else{i=Number(i);if(i>s){i=s}}var n=t.length;if(n%2!==0)throw new Error("Invalid hex string");if(i>n/2){i=n/2}for(var o=0;o<i;o++){var a=parseInt(t.substr(o*2,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[r+o]=a}return o}function x(e,t,r,i){return J(V(t,e.length-r),e,r,i)}function E(e,t,r,i){return J(q(t),e,r,i)}function C(e,t,r,i){return E(e,t,r,i)}function L(e,t,r,i){return J($(t),e,r,i)}function A(e,t,r,i){return J(G(t,e.length-r),e,r,i)}h.prototype.write=function le(e,t,r,i){if(t===undefined){i="utf8";r=this.length;t=0}else if(r===undefined&&typeof t==="string"){i=t;r=this.length;t=0}else if(isFinite(t)){t=t|0;if(isFinite(r)){r=r|0;if(i===undefined)i="utf8"}else{i=r;r=undefined}}else{var s=i;i=t;t=r|0;r=s}var n=this.length-t;if(r===undefined||r>n)r=n;if(e.length>0&&(r<0||t<0)||t>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!i)i="utf8";var o=false;for(;;){switch(i){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return E(this,e,t,r);case"binary":return C(this,e,t,r);case"base64":return L(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();o=true}}};h.prototype.toJSON=function ce(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(e,t,r){if(t===0&&r===e.length){return i.fromByteArray(e)}else{return i.fromByteArray(e.slice(t,r))}}function S(e,t,r){var i="";var s="";r=Math.min(e.length,r);for(var n=t;n<r;n++){if(e[n]<=127){i+=X(s)+String.fromCharCode(e[n]);s=""}else{s+="%"+e[n].toString(16)}}return i+X(s)}function I(e,t,r){var i="";r=Math.min(e.length,r);for(var s=t;s<r;s++){i+=String.fromCharCode(e[s]&127)}return i}function P(e,t,r){var i="";r=Math.min(e.length,r);for(var s=t;s<r;s++){i+=String.fromCharCode(e[s])}return i}function T(e,t,r){var i=e.length;if(!t||t<0)t=0;if(!r||r<0||r>i)r=i;var s="";for(var n=t;n<r;n++){s+=W(e[n])}return s}function B(e,t,r){var i=e.slice(t,r);var s="";for(var n=0;n<i.length;n+=2){s+=String.fromCharCode(i[n]+i[n+1]*256)}return s}h.prototype.slice=function ue(e,t){var r=this.length;e=~~e;t=t===undefined?r:~~t;if(e<0){e+=r;if(e<0)e=0}else if(e>r){e=r}if(t<0){t+=r;if(t<0)t=0}else if(t>r){t=r}if(t<e)t=e;var i;if(h.TYPED_ARRAY_SUPPORT){i=h._augment(this.subarray(e,t))}else{var s=t-e;i=new h(s,undefined);for(var n=0;n<s;n++){i[n]=this[n+e]}}if(i.length)i.parent=this.parent||this;return i};function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function fe(e,t,r){e=e|0;t=t|0;if(!r)M(e,t,this.length);var i=this[e];var s=1;var n=0;while(++n<t&&(s*=256)){i+=this[e+n]*s}return i};h.prototype.readUIntBE=function pe(e,t,r){e=e|0;t=t|0;if(!r){M(e,t,this.length)}var i=this[e+--t];var s=1;while(t>0&&(s*=256)){i+=this[e+--t]*s}return i};h.prototype.readUInt8=function de(e,t){if(!t)M(e,1,this.length);return this[e]};h.prototype.readUInt16LE=function ye(e,t){if(!t)M(e,2,this.length);return this[e]|this[e+1]<<8};h.prototype.readUInt16BE=function me(e,t){if(!t)M(e,2,this.length);return this[e]<<8|this[e+1]};h.prototype.readUInt32LE=function ve(e,t){if(!t)M(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};h.prototype.readUInt32BE=function ge(e,t){if(!t)M(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};h.prototype.readIntLE=function be(e,t,r){e=e|0;t=t|0;if(!r)M(e,t,this.length);var i=this[e];var s=1;var n=0;while(++n<t&&(s*=256)){i+=this[e+n]*s}s*=128;if(i>=s)i-=Math.pow(2,8*t);return i};h.prototype.readIntBE=function we(e,t,r){e=e|0;t=t|0;if(!r)M(e,t,this.length);var i=t;var s=1;var n=this[e+--i];while(i>0&&(s*=256)){n+=this[e+--i]*s}s*=128;if(n>=s)n-=Math.pow(2,8*t);return n};h.prototype.readInt8=function ke(e,t){if(!t)M(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};h.prototype.readInt16LE=function _e(e,t){if(!t)M(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};h.prototype.readInt16BE=function xe(e,t){if(!t)M(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};h.prototype.readInt32LE=function Ee(e,t){if(!t)M(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};h.prototype.readInt32BE=function Ce(e,t){if(!t)M(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};h.prototype.readFloatLE=function Le(e,t){if(!t)M(e,4,this.length);return s.read(this,e,true,23,4)};h.prototype.readFloatBE=function Ae(e,t){if(!t)M(e,4,this.length);return s.read(this,e,false,23,4)};h.prototype.readDoubleLE=function Re(e,t){if(!t)M(e,8,this.length);return s.read(this,e,true,52,8)};h.prototype.readDoubleBE=function Se(e,t){if(!t)M(e,8,this.length);return s.read(this,e,false,52,8)};function O(e,t,r,i,s,n){if(!h.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>s||t<n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}h.prototype.writeUIntLE=function Ie(e,t,r,i){e=+e;t=t|0;r=r|0;if(!i)O(this,e,t,r,Math.pow(2,8*r),0);var s=1;var n=0;this[t]=e&255;while(++n<r&&(s*=256)){this[t+n]=e/s&255}return t+r};h.prototype.writeUIntBE=function Pe(e,t,r,i){e=+e;t=t|0;r=r|0;if(!i)O(this,e,t,r,Math.pow(2,8*r),0);var s=r-1;var n=1;this[t+s]=e&255;while(--s>=0&&(n*=256)){this[t+s]=e/n&255}return t+r};h.prototype.writeUInt8=function Te(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,1,255,0);if(!h.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e;return t+1};function D(e,t,r,i){if(t<0)t=65535+t+1;for(var s=0,n=Math.min(e.length-r,2);s<n;s++){e[r+s]=(t&255<<8*(i?s:1-s))>>>(i?s:1-s)*8}}h.prototype.writeUInt16LE=function Be(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,2,65535,0);if(h.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{D(this,e,t,true)}return t+2};h.prototype.writeUInt16BE=function Me(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,2,65535,0);if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{D(this,e,t,false)}return t+2};function U(e,t,r,i){if(t<0)t=4294967295+t+1;for(var s=0,n=Math.min(e.length-r,4);s<n;s++){e[r+s]=t>>>(i?s:3-s)*8&255}}h.prototype.writeUInt32LE=function Oe(e,t,r){e=+e;t=t|0;
if(!r)O(this,e,t,4,4294967295,0);if(h.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e}else{U(this,e,t,true)}return t+4};h.prototype.writeUInt32BE=function De(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,4,4294967295,0);if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{U(this,e,t,false)}return t+4};h.prototype.writeIntLE=function Ue(e,t,r,i){e=+e;t=t|0;if(!i){var s=Math.pow(2,8*r-1);O(this,e,t,r,s-1,-s)}var n=0;var o=1;var a=e<0?1:0;this[t]=e&255;while(++n<r&&(o*=256)){this[t+n]=(e/o>>0)-a&255}return t+r};h.prototype.writeIntBE=function Ne(e,t,r,i){e=+e;t=t|0;if(!i){var s=Math.pow(2,8*r-1);O(this,e,t,r,s-1,-s)}var n=r-1;var o=1;var a=e<0?1:0;this[t+n]=e&255;while(--n>=0&&(o*=256)){this[t+n]=(e/o>>0)-a&255}return t+r};h.prototype.writeInt8=function je(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,1,127,-128);if(!h.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e;return t+1};h.prototype.writeInt16LE=function Ke(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,2,32767,-32768);if(h.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{D(this,e,t,true)}return t+2};h.prototype.writeInt16BE=function He(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,2,32767,-32768);if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{D(this,e,t,false)}return t+2};h.prototype.writeInt32LE=function Ye(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,4,2147483647,-2147483648);if(h.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else{U(this,e,t,true)}return t+4};h.prototype.writeInt32BE=function Fe(e,t,r){e=+e;t=t|0;if(!r)O(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{U(this,e,t,false)}return t+4};function N(e,t,r,i,s,n){if(t>s||t<n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function j(e,t,r,i,n){if(!n){N(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38)}s.write(e,t,r,i,23,4);return r+4}h.prototype.writeFloatLE=function ze(e,t,r){return j(this,e,t,true,r)};h.prototype.writeFloatBE=function We(e,t,r){return j(this,e,t,false,r)};function K(e,t,r,i,n){if(!n){N(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308)}s.write(e,t,r,i,52,8);return r+8}h.prototype.writeDoubleLE=function Ve(e,t,r){return K(this,e,t,true,r)};h.prototype.writeDoubleBE=function qe(e,t,r){return K(this,e,t,false,r)};h.prototype.copy=function Ge(e,t,r,i){if(!r)r=0;if(!i&&i!==0)i=this.length;if(t>=e.length)t=e.length;if(!t)t=0;if(i>0&&i<r)i=r;if(i===r)return 0;if(e.length===0||this.length===0)return 0;if(t<0){throw new RangeError("targetStart out of bounds")}if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(e.length-t<i-r){i=e.length-t+r}var s=i-r;if(s<1e3||!h.TYPED_ARRAY_SUPPORT){for(var n=0;n<s;n++){e[n+t]=this[n+r]}}else{e._set(this.subarray(r,r+s),t)}return s};h.prototype.fill=function $e(e,t,r){if(!e)e=0;if(!t)t=0;if(!r)r=this.length;if(r<t)throw new RangeError("end < start");if(r===t)return;if(this.length===0)return;if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var i;if(typeof e==="number"){for(i=t;i<r;i++){this[i]=e}}else{var s=V(e.toString());var n=s.length;for(i=t;i<r;i++){this[i]=s[i%n]}}return this};h.prototype.toArrayBuffer=function Je(){if(typeof Uint8Array!=="undefined"){if(h.TYPED_ARRAY_SUPPORT){return new h(this).buffer}else{var e=new Uint8Array(this.length);for(var t=0,r=e.length;t<r;t+=1){e[t]=this[t]}return e.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var H=h.prototype;h._augment=function Xe(e){e.constructor=h;e._isBuffer=true;e._set=e.set;e.get=H.get;e.set=H.set;e.write=H.write;e.toString=H.toString;e.toLocaleString=H.toString;e.toJSON=H.toJSON;e.equals=H.equals;e.compare=H.compare;e.indexOf=H.indexOf;e.copy=H.copy;e.slice=H.slice;e.readUIntLE=H.readUIntLE;e.readUIntBE=H.readUIntBE;e.readUInt8=H.readUInt8;e.readUInt16LE=H.readUInt16LE;e.readUInt16BE=H.readUInt16BE;e.readUInt32LE=H.readUInt32LE;e.readUInt32BE=H.readUInt32BE;e.readIntLE=H.readIntLE;e.readIntBE=H.readIntBE;e.readInt8=H.readInt8;e.readInt16LE=H.readInt16LE;e.readInt16BE=H.readInt16BE;e.readInt32LE=H.readInt32LE;e.readInt32BE=H.readInt32BE;e.readFloatLE=H.readFloatLE;e.readFloatBE=H.readFloatBE;e.readDoubleLE=H.readDoubleLE;e.readDoubleBE=H.readDoubleBE;e.writeUInt8=H.writeUInt8;e.writeUIntLE=H.writeUIntLE;e.writeUIntBE=H.writeUIntBE;e.writeUInt16LE=H.writeUInt16LE;e.writeUInt16BE=H.writeUInt16BE;e.writeUInt32LE=H.writeUInt32LE;e.writeUInt32BE=H.writeUInt32BE;e.writeIntLE=H.writeIntLE;e.writeIntBE=H.writeIntBE;e.writeInt8=H.writeInt8;e.writeInt16LE=H.writeInt16LE;e.writeInt16BE=H.writeInt16BE;e.writeInt32LE=H.writeInt32LE;e.writeInt32BE=H.writeInt32BE;e.writeFloatLE=H.writeFloatLE;e.writeFloatBE=H.writeFloatBE;e.writeDoubleLE=H.writeDoubleLE;e.writeDoubleBE=H.writeDoubleBE;e.fill=H.fill;e.inspect=H.inspect;e.toArrayBuffer=H.toArrayBuffer;return e};var Y=/[^+\/0-9A-z\-]/g;function F(e){e=z(e).replace(Y,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function z(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function W(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function V(e,t){t=t||Infinity;var r;var i=e.length;var s=null;var n=[];var o=0;for(;o<i;o++){r=e.charCodeAt(o);if(r>55295&&r<57344){if(s){if(r<56320){if((t-=3)>-1)n.push(239,191,189);s=r;continue}else{r=s-55296<<10|r-56320|65536;s=null}}else{if(r>56319){if((t-=3)>-1)n.push(239,191,189);continue}else if(o+1===i){if((t-=3)>-1)n.push(239,191,189);continue}else{s=r;continue}}}else if(s){if((t-=3)>-1)n.push(239,191,189);s=null}if(r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<2097152){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return n}function q(e){var t=[];for(var r=0;r<e.length;r++){t.push(e.charCodeAt(r)&255)}return t}function G(e,t){var r,i,s;var n=[];for(var o=0;o<e.length;o++){if((t-=2)<0)break;r=e.charCodeAt(o);i=r>>8;s=r%256;n.push(s);n.push(i)}return n}function $(e){return i.toByteArray(F(e))}function J(e,t,r,i){for(var s=0;s<i;s++){if(s+r>=t.length||s>=e.length)break;t[s+r]=e[s]}return s}function X(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}},{"base64-js":5,ieee754:6,"is-array":7}],5:[function(e,t,r){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";var t=typeof Uint8Array!=="undefined"?Uint8Array:Array;var r="+".charCodeAt(0);var s="/".charCodeAt(0);var n="0".charCodeAt(0);var o="a".charCodeAt(0);var a="A".charCodeAt(0);var h="-".charCodeAt(0);var l="_".charCodeAt(0);function c(e){var t=e.charCodeAt(0);if(t===r||t===h)return 62;if(t===s||t===l)return 63;if(t<n)return-1;if(t<n+10)return t-n+26+26;if(t<a+26)return t-a;if(t<o+26)return t-o+26}function u(e){var r,i,s,n,o,a;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var h=e.length;o="="===e.charAt(h-2)?2:"="===e.charAt(h-1)?1:0;a=new t(e.length*3/4-o);s=o>0?e.length-4:e.length;var l=0;function u(e){a[l++]=e}for(r=0,i=0;r<s;r+=4,i+=3){n=c(e.charAt(r))<<18|c(e.charAt(r+1))<<12|c(e.charAt(r+2))<<6|c(e.charAt(r+3));u((n&16711680)>>16);u((n&65280)>>8);u(n&255)}if(o===2){n=c(e.charAt(r))<<2|c(e.charAt(r+1))>>4;u(n&255)}else if(o===1){n=c(e.charAt(r))<<10|c(e.charAt(r+1))<<4|c(e.charAt(r+2))>>2;u(n>>8&255);u(n&255)}return a}function f(e){var t,r=e.length%3,s="",n,o;function a(e){return i.charAt(e)}function h(e){return a(e>>18&63)+a(e>>12&63)+a(e>>6&63)+a(e&63)}for(t=0,o=e.length-r;t<o;t+=3){n=(e[t]<<16)+(e[t+1]<<8)+e[t+2];s+=h(n)}switch(r){case 1:n=e[e.length-1];s+=a(n>>2);s+=a(n<<4&63);s+="==";break;case 2:n=(e[e.length-2]<<8)+e[e.length-1];s+=a(n>>10);s+=a(n>>4&63);s+=a(n<<2&63);s+="=";break}return s}e.toByteArray=u;e.fromByteArray=f})(typeof r==="undefined"?this.base64js={}:r)},{}],6:[function(e,t,r){r.read=function(e,t,r,i,s){var n,o;var a=s*8-i-1;var h=(1<<a)-1;var l=h>>1;var c=-7;var u=r?s-1:0;var f=r?-1:1;var p=e[t+u];u+=f;n=p&(1<<-c)-1;p>>=-c;c+=a;for(;c>0;n=n*256+e[t+u],u+=f,c-=8){}o=n&(1<<-c)-1;n>>=-c;c+=i;for(;c>0;o=o*256+e[t+u],u+=f,c-=8){}if(n===0){n=1-l}else if(n===h){return o?NaN:(p?-1:1)*Infinity}else{o=o+Math.pow(2,i);n=n-l}return(p?-1:1)*o*Math.pow(2,n-i)};r.write=function(e,t,r,i,s,n){var o,a,h;var l=n*8-s-1;var c=(1<<l)-1;var u=c>>1;var f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=i?0:n-1;var d=i?1:-1;var y=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;o=c}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(h=Math.pow(2,-o))<1){o--;h*=2}if(o+u>=1){t+=f/h}else{t+=f*Math.pow(2,1-u)}if(t*h>=2){o++;h/=2}if(o+u>=c){a=0;o=c}else if(o+u>=1){a=(t*h-1)*Math.pow(2,s);o=o+u}else{a=t*Math.pow(2,u-1)*Math.pow(2,s);o=0}}for(;s>=8;e[r+p]=a&255,p+=d,a/=256,s-=8){}o=o<<s|a;l+=s;for(;l>0;e[r+p]=o&255,p+=d,o/=256,l-=8){}e[r+p-d]|=y*128}},{}],7:[function(e,t,r){var i=Array.isArray;var s=Object.prototype.toString;t.exports=i||function(e){return!!e&&"[object Array]"==s.call(e)}},{}],8:[function(e,t,r){function i(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=i;i.EventEmitter=i;i.prototype._events=undefined;i.prototype._maxListeners=undefined;i.defaultMaxListeners=10;i.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};i.prototype.emit=function(e){var t,r,i,n,h,l;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}r=this._events[e];if(a(r))return false;if(s(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=arguments.length;n=new Array(i-1);for(h=1;h<i;h++)n[h-1]=arguments[h];r.apply(this,n)}}else if(o(r)){i=arguments.length;n=new Array(i-1);for(h=1;h<i;h++)n[h-1]=arguments[h];l=r.slice();i=l.length;for(h=0;h<i;h++)l[h].apply(this,n)}return true};i.prototype.addListener=function(e,t){var r;if(!s(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,s(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var r;if(!a(this._maxListeners)){r=this._maxListeners}else{r=i.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(e,t){if(!s(t))throw TypeError("listener must be a function");var r=false;function i(){this.removeListener(e,i);if(!r){r=true;t.apply(this,arguments)}}i.listener=t;this.on(e,i);return this};i.prototype.removeListener=function(e,t){var r,i,n,a;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];n=r.length;i=-1;if(r===t||s(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(r)){for(a=n;a-->0;){if(r[a]===t||r[a].listener&&r[a].listener===t){i=a;break}}if(i<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(i,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(s(r)){this.removeListener(e,r)}else{while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};i.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(s(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};i.listenerCount=function(e,t){var r;if(!e._events||!e._events[t])r=0;else if(s(e._events[t]))r=1;else r=e._events[t].length;return r};function s(e){return typeof e==="function"}function n(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function a(e){return e===void 0}},{}],9:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function i(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function s(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}}},{}],10:[function(e,t,r){var i=t.exports={};var s=[];var n=false;function o(){if(n){return}n=true;var e;var t=s.length;while(t){e=s;s=[];var r=-1;while(++r<t){e[r]()}t=s.length}n=false}i.nextTick=function(e){s.push(e);if(!n){setTimeout(o,0)}};i.title="browser";i.browser=true;i.env={};i.argv=[];i.version="";i.versions={};function a(){}i.on=a;i.addListener=a;i.once=a;i.off=a;i.removeListener=a;i.removeAllListeners=a;i.emit=a;i.binding=function(e){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(e){throw new Error("process.chdir is not supported")};i.umask=function(){return 0}},{}],11:[function(e,t,r){var i=e("buffer").Buffer;var s=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function n(e){if(e&&!s(e)){throw new Error("Unknown encoding: "+e)}}var o=r.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");n(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=h;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=l;break;default:this.write=a;return}this.charBuffer=new i(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var t="";while(this.charLength){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,r);this.charReceived+=r;if(this.charReceived<this.charLength){return""}e=e.slice(r,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var s=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,s);s-=this.charReceived}t+=e.toString(this.encoding,0,s);var s=t.length-1;var i=t.charCodeAt(s);if(i>=55296&&i<=56319){var n=this.surrogateSize;this.charLength+=n;this.charReceived+=n;this.charBuffer.copy(this.charBuffer,n,0,n);e.copy(this.charBuffer,0,0,n);return t.substring(0,s)}return t};o.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var r=e[e.length-t];if(t==1&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t};o.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var r=this.charReceived;var i=this.charBuffer;var s=this.encoding;t+=i.slice(0,r).toString(s)}return t};function a(e){return e.toString(this.encoding)}function h(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function l(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},{buffer:4}],12:[function(e,t,r){t.exports=function i(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],13:[function(e,t,r){(function(t,i){var s=/%[sdj%]/g;r.format=function(e){if(!_(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(a(arguments[r]))}return t.join(" ")}var r=1;var i=arguments;var n=i.length;var o=String(e).replace(s,function(e){if(e==="%%")return"%";if(r>=n)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(t){return"[Circular]"}default:return e}});for(var h=i[r];r<n;h=i[++r]){if(b(h)||!L(h)){o+=" "+h}else{o+=" "+a(h)}}return o};r.deprecate=function(e,s){if(E(i.process)){return function(){return r.deprecate(e,s).apply(this,arguments)}}if(t.noDeprecation===true){return e}var n=false;function o(){if(!n){if(t.throwDeprecation){throw new Error(s)}else if(t.traceDeprecation){console.trace(s)}else{console.error(s)}n=true}return e.apply(this,arguments)}return o};var n={};var o;r.debuglog=function(e){if(E(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!n[e]){if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=t.pid;n[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,i,t)}}else{n[e]=function(){}}}return n[e]};function a(e,t){var i={seen:[],stylize:l};if(arguments.length>=3)i.depth=arguments[2];if(arguments.length>=4)i.colors=arguments[3];if(g(t)){i.showHidden=t}else if(t){r._extend(i,t)}if(E(i.showHidden))i.showHidden=false;if(E(i.depth))i.depth=2;if(E(i.colors))i.colors=false;if(E(i.customInspect))i.customInspect=true;if(i.colors)i.stylize=h;return u(i,e,i.depth)}r.inspect=a;a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function h(e,t){var r=a.styles[t];if(r){return"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m"}else{return e}}function l(e,t){return e}function c(e){var t={};e.forEach(function(e,r){t[e]=true});return t}function u(e,t,i){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==r.inspect&&!(t.constructor&&t.constructor.prototype===t)){var s=t.inspect(i,e);if(!_(s)){s=u(e,s,i)}return s}var n=f(e,t);if(n){return n}var o=Object.keys(t);var a=c(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)}if(R(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return p(t)}if(o.length===0){if(S(t)){var h=t.name?": "+t.name:"";return e.stylize("[Function"+h+"]","special")}if(C(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(A(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(R(t)){return p(t)}}var l="",g=false,b=["{","}"];if(v(t)){g=true;b=["[","]"]}if(S(t)){var w=t.name?": "+t.name:"";l=" [Function"+w+"]"}if(C(t)){l=" "+RegExp.prototype.toString.call(t)}if(A(t)){l=" "+Date.prototype.toUTCString.call(t)}if(R(t)){l=" "+p(t)}if(o.length===0&&(!g||t.length==0)){return b[0]+l+b[1]}if(i<0){if(C(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var k;if(g){k=d(e,t,i,a,o)}else{k=o.map(function(r){return y(e,t,i,a,r,g)})}e.seen.pop();return m(k,l,b)}function f(e,t){if(E(t))return e.stylize("undefined","undefined");if(_(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(k(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,i,s){var n=[];for(var o=0,a=t.length;o<a;++o){if(O(t,String(o))){n.push(y(e,t,r,i,String(o),true))}else{n.push("")}}s.forEach(function(s){if(!s.match(/^\d+$/)){n.push(y(e,t,r,i,s,true))}});return n}function y(e,t,r,i,s,n){var o,a,h;h=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]};if(h.get){if(h.set){a=e.stylize("[Getter/Setter]","special")}else{a=e.stylize("[Getter]","special")}}else{if(h.set){a=e.stylize("[Setter]","special")}}if(!O(i,s)){o="["+s+"]"}if(!a){if(e.seen.indexOf(h.value)<0){if(b(r)){a=u(e,h.value,null)}else{a=u(e,h.value,r-1)}if(a.indexOf("\n")>-1){if(n){a=a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{a="\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{a=e.stylize("[Circular]","special")}}if(E(o)){if(n&&s.match(/^\d+$/)){return a}o=JSON.stringify(""+s);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+a}function m(e,t,r){var i=0;var s=e.reduce(function(e,t){i++;if(t.indexOf("\n")>=0)i++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(s>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function v(e){return Array.isArray(e)}r.isArray=v;function g(e){return typeof e==="boolean"}r.isBoolean=g;function b(e){return e===null}r.isNull=b;function w(e){return e==null}r.isNullOrUndefined=w;function k(e){return typeof e==="number"}r.isNumber=k;function _(e){return typeof e==="string"}r.isString=_;function x(e){return typeof e==="symbol"}r.isSymbol=x;function E(e){return e===void 0}r.isUndefined=E;function C(e){return L(e)&&P(e)==="[object RegExp]"}r.isRegExp=C;function L(e){return typeof e==="object"&&e!==null}r.isObject=L;function A(e){return L(e)&&P(e)==="[object Date]"}r.isDate=A;function R(e){return L(e)&&(P(e)==="[object Error]"||e instanceof Error)}r.isError=R;function S(e){return typeof e==="function"}r.isFunction=S;function I(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=I;r.isBuffer=e("./support/isBuffer");function P(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date;var t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),B[e.getMonth()],t].join(" ")}r.log=function(){console.log("%s - %s",M(),r.format.apply(r,arguments))};r.inherits=e("inherits");r._extend=function(e,t){if(!t||!L(t))return e;var r=Object.keys(t);var i=r.length;while(i--){e[r[i]]=t[r[i]]}return e};function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":12,_process:10,inherits:9}],14:[function(e,t,r){(function(r){"use strict";var i=e("escape-string-regexp");var s=e("ansi-styles");var n=e("strip-ansi");var o=e("has-ansi");var a=e("supports-color");var h=Object.defineProperties;var l=r.platform==="win32"&&!/^xterm/i.test(r.env.TERM);function c(e){this.enabled=!e||e.enabled===undefined?a:e.enabled}if(l){s.blue.open="[94m"}var u=function(){var e={};Object.keys(s).forEach(function(t){s[t].closeRe=new RegExp(i(s[t].close),"g");e[t]={get:function(){return p.call(this,this._styles.concat(t))}}});return e}();var f=h(function m(){},u);function p(e){var t=function r(){return d.apply(r,arguments)};t._styles=e;t.enabled=this.enabled;t.__proto__=f;return t}function d(){var e=arguments;var t=e.length;var r=t!==0&&String(arguments[0]);if(t>1){for(var i=1;i<t;i++){r+=" "+e[i]}}if(!this.enabled||!r){return r}var n=this._styles;var o=n.length;var a=s.dim.open;if(l&&(n.indexOf("gray")!==-1||n.indexOf("grey")!==-1)){s.dim.open=""}while(o--){var h=s[n[o]];r=h.open+r.replace(h.closeRe,h.open)+h.close}s.dim.open=a;return r}function y(){var e={};Object.keys(u).forEach(function(t){e[t]={get:function(){return p.call(this,[t])}}});return e}h(c.prototype,y());t.exports=new c;t.exports.styles=s;t.exports.hasColor=o;t.exports.stripColor=n;t.exports.supportsColor=a}).call(this,e("_process"))},{_process:10,"ansi-styles":15,"escape-string-regexp":16,"has-ansi":17,"strip-ansi":19,"supports-color":21}],15:[function(e,t,r){"use strict";function i(){var e={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};e.colors.grey=e.colors.gray;Object.keys(e).forEach(function(t){var r=e[t];Object.keys(r).forEach(function(t){var i=r[t];e[t]=r[t]={open:"["+i[0]+"m",close:"["+i[1]+"m"}});Object.defineProperty(e,t,{value:r,enumerable:false})});return e}Object.defineProperty(t,"exports",{enumerable:true,get:i})},{}],16:[function(e,t,r){"use strict";var i=/[|\\{}()[\]^$+*?.]/g;t.exports=function(e){if(typeof e!=="string"){throw new TypeError("Expected a string")}return e.replace(i,"\\$&")}},{}],17:[function(e,t,r){"use strict";var i=e("ansi-regex");var s=new RegExp(i().source);t.exports=s.test.bind(s)},{"ansi-regex":18}],18:[function(e,t,r){"use strict";t.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g}},{}],19:[function(e,t,r){"use strict";var i=e("ansi-regex")();t.exports=function(e){return typeof e==="string"?e.replace(i,""):e}},{"ansi-regex":20}],20:[function(e,t,r){arguments[4][18][0].apply(r,arguments)},{dup:18}],21:[function(e,t,r){(function(e){"use strict";var r=e.argv;var i=r.indexOf("--");var s=function(e){e="--"+e;var t=r.indexOf(e);return t!==-1&&(i!==-1?t<i:true)};t.exports=function(){if("FORCE_COLOR"in e.env){return true}if(s("no-color")||s("no-colors")||s("color=false")){return false}if(s("color")||s("colors")||s("color=true")||s("color=always")){return true}if(e.stdout&&!e.stdout.isTTY){return false}if(e.platform==="win32"){return true}if("COLORTERM"in e.env){return true}if(e.env.TERM==="dumb"){return false}if(/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(e.env.TERM)){return true}return false}()}).call(this,e("_process"))},{_process:10}],22:[function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty;var s=Object.prototype.toString;var n=function a(e){if(typeof Array.isArray==="function"){return Array.isArray(e)}return s.call(e)==="[object Array]"};var o=function h(e){if(!e||s.call(e)!=="[object Object]"){return false}var t=i.call(e,"constructor");var r=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r){return false}var n;for(n in e){}return typeof n==="undefined"||i.call(e,n)};t.exports=function l(){var e,t,r,i,s,a,h=arguments[0],c=1,u=arguments.length,f=false;if(typeof h==="boolean"){f=h;h=arguments[1]||{};c=2}else if(typeof h!=="object"&&typeof h!=="function"||h==null){h={}}for(;c<u;++c){e=arguments[c];if(e!=null){for(t in e){r=h[t];i=e[t];if(h!==i){if(f&&i&&(o(i)||(s=n(i)))){if(s){s=false;a=r&&n(r)?r:[]}else{a=r&&o(r)?r:{}}h[t]=l(f,a,i)}else if(typeof i!=="undefined"){h[t]=i}}}}}return h}},{}],23:[function(e,t,r){(function(r){var i=e("events").EventEmitter;var s=e("util");var n=e("./fs.js");var o=e("./nodejs/readline.js");var a=e("./termstyle.js");var h=e("extend");function l(e,t){i.call(this);this._term=e;this._options=t||{};this._options.welcomeMsg=this._options.welcomeMsg||"";this._options.promptTemplate=this._options.promptTemplate||"";var s=this;r.onPathClickedInTerminal=function(e){e.preventDefault();var t=e.target?e.target:e.srcElement;var r=t.dataset.url;var i=t.dataset.path;if(r){s.emit("loadurl",r)}else{s.run("cd "+i+" && ls")}return false};var n=function(e){return s._complete(e)};var a=this._rl=o.createInterface(e.keyboard,e.output,n,true);a.on("line",function(e){s._realRun(e)})}s.inherits(l,i);l.prototype.init=function(e){this._welcome();this._prompt()};l.prototype.run=function(e){this._writeLine(e);this._realRun(e)};l.prototype._realRun=function(e){var t=e.split("&&");for(var r=0;r<t.length;r++){this._realRunOne(t[r])}this._prompt()};l.prototype._realRunOne=function(e){var t=this._cmdTokenize(e);if(t.length===0)return;var r=t[0];t=t.slice(1);switch(r){case"cd":this._cd(t);break;case"help":this._help(t);break;case"ls":this._ls(t);break;case"open":this._open(t);break;case"welcome":this._welcome(t);break;case"":break;default:this._writeLine("-bash: "+r+": command not found")}};l.prototype._complete=function(e){var t=e.split("&&");var r=t[t.length-1];var i=this._cmdTokenize(r);if(i.length>0&&e.endsWith(" ")&&!e.endsWith("\\ ")){var s=n.cwd().res;var o=s.children.map(function(e){return e.displayName()});return[o,""]}var a=i.length<=1;var h;if(a){var l=i[0]||"";var c=["cd","help","ls","open","welcome"];var u=c.filter(function(e){return e.indexOf(l)===0});if(u.length===1)u[0]=u[0]+" ";h=[u,l]}else{var f=i[i.length-1];var p=n.getINodesByPrefix(f);if(!p||p.length===0)return[null,null];if(p.length===1){p[0]=p[0].replace(/ /g,"\\ ")}var d="";if(p.length>0){var y=f.lastIndexOf("/");if(y<0)d=f;else{d=f.slice(y+1)}}d=d.replace(/ /g,"\\ ");h=[p,d]}console.log(h[0]+":"+h[1]);return h};l.prototype._cmdTokenize=function(e){var t=[];var r=0,i=0,s=e.length;while(r<s){while(r<s&&e[r]===" ")r++;if(r===s)break;i=r+1;while(i<s&&(e[i]!==" "||e[i-1]==="\\"))i++;var n=e.substring(r,i);var o=n.replace(/\\ /g," ");console.debug(n+"|"+o);t.push(o);r=i}return t};l.prototype._writeLine=function(e){var t=(e||"")+"\r\n";this._term.write(t)};l.prototype._writeInode=function(e){this._term.writeWithinTag(e.displayName(),{name:"a",attrs:{href:"#","data-path":e.toPath(true),"data-url":e.url(),onclick:"return onPathClickedInTerminal(event)"}})};l.prototype._prompt=function(){var e=n.cwd().res;var t=e.toPath();t=t.slice(0,t.length-1);var r=s.format(this._options.promptTemplate,t);var i=a.red(r);this._rl.setPrompt(i,r.length);this._rl.prompt()};l.prototype._ls=function(e){var t=n.ls(e[0]);if(t.err){this._writeLine("ls: "+e[0]+": "+t.err);return}var r=t.res;for(var i=0;i<r.length;i++){var s=r[i];this._writeInode(s);this._writeLine()}};l.prototype._cd=function(e){var t=n.cd(e[0]);if(!t.err)return;this._writeLine("cd: "+e[0]+": "+t.err)};l.prototype._open=function(e){if(e.length===0){this._writeLine("Usage: open <path>");return}var t=e[0];var r=n.getINodeByPath(t);if(!r){this._writeLine("open: "+t+": No such file or directory");return}if(!r.isAccessible()){this._writeLine("open: "+t+": Permission denied");return}if(r.isDirectory()){this._cd([t]);this._ls([])}else{this.emit("loadurl",r.url())}};l.prototype._welcome=function(){if(this._options.welcomeMsg)this._writeLine(this._options.welcomeMsg)};l.prototype._help=function(e){var t="Available commands are listed below:\r\n"+"    `cd [dir]`     -- change current working directory\r\n"+"    `help`         -- show this list\r\n"+"    `ls [file]`    -- list directory content\r\n"+"    `open [file]`  -- open a file\r\n"+"    `welcome`      -- show the welcome message";this._writeLine(t)};t.exports=l}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./fs.js":26,"./nodejs/readline.js":27,"./termstyle.js":28,events:8,extend:22,util:13}],24:[function(e,t,r){var i=e("events").EventEmitter;var s=e("util");var n=function(e){i.call(this);this._buf=[];this._paused=true;var t=this;e.on("keydown",function(e){var r={ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};var i;
switch(e.keyCode){case 8:i="backspace";break;case 9:i="tab";break;case 13:i="enter";break;case 37:i="left";break;case 38:i="up";break;case 39:i="right";break;case 40:i="down";break}if(!i)return;r.name=i;t.press(null,r)});e.on("keypress",function(e,r){if(!e||r.ctrlKey||r.altKey||r.metaKey)return;t.press(e,null)})};s.inherits(n,i);n.prototype.press=function(e,t){if(this._paused)this._buf.push({s:e,k:t});else this.emit("keypress",e,t)};n.prototype.pause=function(){this._paused=true};n.prototype.resume=function(){this._paused=false;for(var e in this._buf){var t=this._buf[e];this.emit("keypress",t.s,t.k)}this._buf=[]};t.exports=n},{events:8,util:13}],25:[function(e,t,r){var i=e("events").EventEmitter;var s=e("util");var n=e("../lib/xterm.js/src/xterm.js");var o=e("../lib/xterm.js/addons/fit/fit.js");var a=e("./TermKeyboard.js");var h=function(e,t){i.call(this);var r=this._term=this.output=new n(t);var s=this.keyboard=new a(r);r.open(e);r.fit();r.columns=r.cols;r.lastTouchY=null;e.parentElement.addEventListener("touchstart",function(e){var t=event.targetTouches[0];r.lastTouchY=t.pageY;return r.cancel(e)});e.parentElement.addEventListener("touchmove",function(e){var t=event.targetTouches[0];e.deltaY=-t.pageY+r.lastTouchY;r.lastTouchY=t.pageY;r.viewport.onWheel(e);return r.cancel(e)});window.addEventListener("resize",function(){var e=r.proposeGeometry(),t=e.cols,i=e.rows;r.resize(t,i)})};s.inherits(h,i);h.prototype.__defineGetter__("columns",function(){return this._term.cols});h.prototype.write=function(e){this._term.write(e)};h.prototype.writeWithinTag=function(e,t){this._term.writeWithinTag(e,t)};t.exports=h},{"../lib/xterm.js/addons/fit/fit.js":2,"../lib/xterm.js/src/xterm.js":3,"./TermKeyboard.js":24,events:8,util:13}],26:[function(e,t,r){var i=function(e){this.name=e;this.parent=null};i.prototype.toPath=function(e){if(e&&this.isHome())return"~/";var t="";if(!this.isRoot()&&this.parent)t+=this.parent.toPath(e);t+=this.name;if(this.isDirectory())t+="/";return t};i.prototype.addChild=function(e){if(!this.children)this.children=[];e.parent=this;this.children.push(e)};i.prototype.isRoot=function(){return this===this.parent};i.prototype.isHome=function(){return!!this._isHome};i.prototype.isDirectory=function(){return!!this.children};i.prototype.isAccessible=function(){return!this._denyAccess};i.prototype.displayName=function(){return this.name+(this.isDirectory()?"/":"")};i.prototype.url=function(){return this._url?this._url:""};i.loadFromJson=function(e){var t=new i(e.name);if(e.name===""){t.parent=t}t._denyAccess=!!e.denyAccess;t._url=e.url;var r=e.nodes;if(!r)return t;var s=e.nodes.length;for(var n=0;n<s;n++){var o=i.loadFromJson(e.nodes[n]);t.addChild(o)}return t};function s(e){if(!e||e==="")return null;if(e[0]==="~"){e="/home/tatetian"+e.slice(1)}if(e[0]!=="/"){e=l.toPath()+e}var t=e.split("/");var r=a;for(var i=1;i<t.length;i++){var s=t[i];if(s===""||s==="."){if(!r.isDirectory())return null;else continue}if(s===".."){r=r.parent;continue}var n=r.children;if(!n)return null;var o=n.length;for(var h=0;h<o;h++){var c=n[h];if(s===c.name){r=c;break}}if(h===o)return null}return r}var n={name:"tatetian",home:true,nodes:[{name:"README",url:"/README"},{name:"index",url:"/"},{name:"projects",url:"/projects"},{name:"posts",nodes:[{name:"2016-01-25 File IO Inside Intel SGX Enclave",url:"/2016/01/25/file-io-inside-intel-sgx-enclave"},{name:"2015-06-15 SSH Essentials in Three Steps",url:"/2015/06/15/ssh-essentials-in-three-steps"},{name:"2015-01-30 A* Algorithm Saves Me 1 Dollar Per Day",url:"/2015/01/30/a-star-algorithm-saves-me-1-dollar-per-day"},{name:"2015-01-15 Why Should I (or Any Tech Telant) Start Blogging",url:"/2015/01/15/why-should-i-or-any-tech-telant-start-blogging"}]}]};var o={name:"",nodes:[{name:"home",nodes:[n],denyAccess:true}],denyAccess:true};var a=i.loadFromJson(o);var h=s("/home/tatetian");h._isHome=true;var l=h;var c={};c.ls=function(e){if(!e)e=".";var t=s(e);if(!t)return{err:"No such file or directory"};if(!t.isAccessible())return{err:"Permission denied"};return{res:t.isDirectory()?t.children:[t]}};c.cd=function(e){if(!e)e="~";var t=s(e);if(!t)return{err:"No such file or directory"};if(!t.isDirectory())return{err:"Not a directory"};if(!t.isAccessible())return{err:"Permission denied"};l=t;return{res:l}};c.cwd=function(){return{res:l}};c.getINodeByPath=s;c.getINodesByPrefix=function(e){if(!e||e==="")return null;var t=e.split("/");var r,i;switch(t[0]){case"~":r=h;i=true;break;case"":r=a;i=true;break;default:r=l;i=false}var s=[];var n=t.length;for(var o=i?1:0;o<n;o++){var c=t[o];if(c===""){if(!r.isDirectory())return null;if(o!==n-1)continue}if(c==="."){if(!r.isDirectory())return null;continue}if(c===".."){r=r.parent;continue}var u=r.children;if(!u)return null;var f=u.length;for(var p=0;p<f;p++){var d=u[p];if(o!==n-1&&c===d.name){r=d;break}else if(o===n-1&&d.name.indexOf(c)===0){s.push(d.name+(d.isDirectory()?"/":""))}}if(o!==n-1&&p===f)return null}console.dir(s);return s};t.exports=c},{}],27:[function(e,t,r){(function(t){var i=30;var s=e("util");var n=e("buffer").Buffer;var o=e("util").inherits;var a=e("events").EventEmitter;r.createInterface=function(e,t,r,i){var s;if(arguments.length===1){s=new h(e)}else{s=new h(e,t,r,i)}return s};function h(t,i,n,o){if(!(this instanceof h)){return new h(t,i,n,o)}this._sawReturn=false;a.call(this);if(arguments.length===1){i=t.output;n=t.completer;o=t.terminal;t=t.input}n=n||function(){return[]};if(!s.isFunction(n)){throw new TypeError("Argument 'completer' must be a function")}if(s.isUndefined(o)&&!s.isNullOrUndefined(i)){o=!!i.isTTY}var l=this;this.output=i;this.input=t;this.completer=n.length===2?n:function(e,t){t(null,n(e))};this.setPrompt("> ");this.terminal=!!o;function c(e){l._normalWrite(e)}function u(){if(s.isString(l._line_buffer)&&l._line_buffer.length>0){l.emit("line",l._line_buffer)}l.close()}function f(){if(s.isString(l.line)&&l.line.length>0){l.emit("line",l.line)}l.close()}function p(e,t){l._ttyWrite(e,t)}function d(){l._refreshLine()}if(!this.terminal){t.on("data",c);t.on("end",u);l.once("close",function(){t.removeListener("data",c);t.removeListener("end",u)});var y=e("string_decoder").StringDecoder;this._decoder=new y("utf8")}else{r.emitKeypressEvents(t);t.on("keypress",p);t.on("end",f);this.line="";this._setRawMode(true);this.terminal=true;this.cursor=0;this.history=[];this.historyIndex=-1;if(!s.isNullOrUndefined(i))i.on("resize",d);l.once("close",function(){t.removeListener("keypress",p);t.removeListener("end",f);if(!s.isNullOrUndefined(i)){i.removeListener("resize",d)}})}t.resume()}o(h,a);h.prototype.__defineGetter__("columns",function(){var e=Infinity;if(this.output&&this.output.columns)e=this.output.columns;return e});h.prototype.setPrompt=function(e){this._prompt=e};h.prototype._setRawMode=function(e){if(s.isFunction(this.input.setRawMode)){return this.input.setRawMode(e)}};h.prototype.prompt=function(e){if(this.paused)this.resume();if(this.terminal){if(!e)this.cursor=0;this._refreshLine()}else{this._writeToOutput(this._prompt)}};h.prototype.question=function(e,t){if(s.isFunction(t)){if(this._questionCallback){this.prompt()}else{this._oldPrompt=this._prompt;this.setPrompt(e);this._questionCallback=t;this.prompt()}}};h.prototype._onLine=function(e){if(this._questionCallback){var t=this._questionCallback;this._questionCallback=null;this.setPrompt(this._oldPrompt);t(e)}else{this.emit("line",e)}};h.prototype._writeToOutput=function A(e){if(!s.isString(e))throw new TypeError("stringToWrite must be a string");if(!s.isNullOrUndefined(this.output))this.output.write(e)};h.prototype._addHistory=function(){if(this.line.length===0)return"";if(this.history.length===0||this.history[0]!==this.line){this.history.unshift(this.line);if(this.history.length>i)this.history.pop()}this.historyIndex=-1;return this.history[0]};h.prototype._refreshLine=function(){var e=this._prompt+this.line;var t=this._getDisplayPos(e);var i=t.cols;var s=t.rows;var n=this._getCursorPos();var o=this.prevRows||0;if(o>0){r.moveCursor(this.output,0,-o)}r.cursorTo(this.output,0);r.clearScreenDown(this.output);this._writeToOutput(e);if(i===0){this._writeToOutput(" ")}r.cursorTo(this.output,n.cols);var a=s-n.rows;if(a>0){r.moveCursor(this.output,0,-a)}this.prevRows=n.rows};h.prototype.close=function(){if(this.closed)return;this.pause();if(this.terminal){this._setRawMode(false)}this.closed=true;this.emit("close")};h.prototype.pause=function(){if(this.paused)return;this.input.pause();this.paused=true;this.emit("pause");return this};h.prototype.resume=function(){if(!this.paused)return;this.input.resume();this.paused=false;this.emit("resume");return this};h.prototype.write=function(e,t){if(this.paused)this.resume();this.terminal?this._ttyWrite(e,t):this._normalWrite(e)};var l=/\r?\n|\r(?!\n)/;h.prototype._normalWrite=function(e){if(s.isUndefined(e)){return}var t=this._decoder.write(e);if(this._sawReturn){t=t.replace(/^\n/,"");this._sawReturn=false}var r=l.test(t);if(this._line_buffer){t=this._line_buffer+t;this._line_buffer=null}if(r){this._sawReturn=/\r$/.test(t);var i=t.split(l);t=i.pop();this._line_buffer=t;i.forEach(function(e){this._onLine(e)},this)}else if(t){this._line_buffer=t}};h.prototype._insertString=function(e){if(this.cursor<this.line.length){var t=this.line.slice(0,this.cursor);var r=this.line.slice(this.cursor,this.line.length);this.line=t+e+r;this.cursor+=e.length;this._refreshLine()}else{this.line+=e;this.cursor+=e.length;if(this._getCursorPos().cols===0){this._refreshLine()}else{this._writeToOutput(e)}this._moveCursor(0)}};h.prototype._tabComplete=function(){var e=this;e.pause();e.completer(e.line.slice(0,e.cursor),function(t,r){e.resume();if(t){return}var i=r[0],s=r[1];console.dir(i);if(i&&i.length){if(i.length===1){e._insertString(i[0].slice(s.length))}else{console.log("else");e._writeToOutput("\r\n");var n=i.reduce(function(e,t){return e.length>t.length?e:t}).length+2;var o=Math.floor(e.columns/n)||1;var a=[],h;for(var l=0,f=i.length;l<f;l++){h=i[l];if(h===""){c(e,a,n,o);a=[]}else{a.push(h)}}c(e,a,n,o,true);var p=i.filter(function(e){if(e)return e});var d=u(p);if(d.length>s.length){e._insertString(d.slice(s.length))}}e._refreshLine()}})};function c(e,t,r,i,s){if(t.length==0){return}var n=Math.ceil(t.length/i);for(var o=0;o<n;o++){for(var a=0;a<i;a++){var h=o*i+a;if(h>=t.length){break}var l=t[h];e._writeToOutput(l);if(a<i-1){for(var c=0,u=l.length;c<r-u;c++){e._writeToOutput(" ")}}}e._writeToOutput("\r\n")}if(!s)e._writeToOutput("\r\n")}function u(e){if(!e||e.length==0){return""}var t=e.slice().sort();var r=t[0];var i=t[t.length-1];for(var s=0,n=r.length;s<n;s++){if(r[s]!=i[s]){return r.slice(0,s)}}return r}h.prototype._wordLeft=function(){if(this.cursor>0){var e=this.line.slice(0,this.cursor);var t=e.match(/([^\w\s]+|\w+|)\s*$/);this._moveCursor(-t[0].length)}};h.prototype._wordRight=function(){if(this.cursor<this.line.length){var e=this.line.slice(this.cursor);var t=e.match(/^(\s+|\W+|\w+)\s*/);this._moveCursor(t[0].length)}};h.prototype._deleteLeft=function(){if(this.cursor>0&&this.line.length>0){this.line=this.line.slice(0,this.cursor-1)+this.line.slice(this.cursor,this.line.length);this.cursor--;this._refreshLine()}};h.prototype._deleteRight=function(){this.line=this.line.slice(0,this.cursor)+this.line.slice(this.cursor+1,this.line.length);this._refreshLine()};h.prototype._deleteWordLeft=function(){if(this.cursor>0){var e=this.line.slice(0,this.cursor);var t=e.match(/([^\w\s]+|\w+|)\s*$/);e=e.slice(0,e.length-t[0].length);this.line=e+this.line.slice(this.cursor,this.line.length);this.cursor=e.length;this._refreshLine()}};h.prototype._deleteWordRight=function(){if(this.cursor<this.line.length){var e=this.line.slice(this.cursor);var t=e.match(/^(\s+|\W+|\w+)\s*/);this.line=this.line.slice(0,this.cursor)+e.slice(t[0].length);this._refreshLine()}};h.prototype._deleteLineLeft=function(){this.line=this.line.slice(this.cursor);this.cursor=0;this._refreshLine()};h.prototype._deleteLineRight=function(){this.line=this.line.slice(0,this.cursor);this._refreshLine()};h.prototype.clearLine=function(){this._moveCursor(+Infinity);this._writeToOutput("\r\n");this.line="";this.cursor=0;this.prevRows=0};h.prototype._line=function(){var e=this._addHistory();this.clearLine();this._onLine(e)};h.prototype._historyNext=function(){if(this.historyIndex>0){this.historyIndex--;this.line=this.history[this.historyIndex];this.cursor=this.line.length;this._refreshLine()}else if(this.historyIndex===0){this.historyIndex=-1;this.cursor=0;this.line="";this._refreshLine()}};h.prototype._historyPrev=function(){if(this.historyIndex+1<this.history.length){this.historyIndex++;this.line=this.history[this.historyIndex];this.cursor=this.line.length;this._refreshLine()}};h.prototype._getDisplayPos=function(e){var t=0;var r=this.columns;var i=0;var s;e=L(e);for(var n=0,o=e.length;n<o;n++){s=C(e,n);if(s>=65536){n++}if(s===10){t=0;i+=1;continue}if(E(s)){if((t+1)%r===0){t++}t+=2}else{t++}}var a=t%r;var h=i+(t-a)/r;return{cols:a,rows:h}};h.prototype._getCursorPos=function(){var e=this.columns;var t=this._prompt+this.line.substring(0,this.cursor);var r=this._getDisplayPos(L(t));var i=r.cols;var s=r.rows;if(i+1===e&&this.cursor<this.line.length&&E(C(this.line,this.cursor))){s++;i=0}return{cols:i,rows:s}};h.prototype._moveCursor=function(e){var t=this.cursor;var i=this._getCursorPos();this.cursor+=e;if(this.cursor<0)this.cursor=0;else if(this.cursor>this.line.length)this.cursor=this.line.length;var s=this._getCursorPos();if(i.rows===s.rows){var n=this.cursor-t;var o;if(n<0){o=-x(this.line.substring(this.cursor,t))}else if(n>0){o=x(this.line.substring(this.cursor,t))}r.moveCursor(this.output,o,0);this.prevRows=s.rows}else{this._refreshLine()}};h.prototype._ttyWrite=function(e,i){i=i||{};if(i.name=="escape")return;if(i.ctrl&&i.shift){switch(i.name){case"backspace":this._deleteLineLeft();break;case"delete":this._deleteLineRight();break}}else if(i.ctrl){switch(i.name){case"c":if(a.listenerCount(this,"SIGINT")>0){this.emit("SIGINT")}else{this.close()}break;case"h":this._deleteLeft();break;case"d":if(this.cursor===0&&this.line.length===0){this.close()}else if(this.cursor<this.line.length){this._deleteRight()}break;case"u":this.cursor=0;this.line="";this._refreshLine();break;case"k":this._deleteLineRight();break;case"a":this._moveCursor(-Infinity);break;case"e":this._moveCursor(+Infinity);break;case"b":this._moveCursor(-1);break;case"f":this._moveCursor(+1);break;case"l":r.cursorTo(this.output,0,0);r.clearScreenDown(this.output);this._refreshLine();break;case"n":this._historyNext();break;case"p":this._historyPrev();break;case"z":if(t.platform=="win32")break;if(a.listenerCount(this,"SIGTSTP")>0){this.emit("SIGTSTP")}else{t.once("SIGCONT",function(e){return function(){if(!e.paused){e.pause();e.emit("SIGCONT")}e._setRawMode(true);e._refreshLine()}}(this));this._setRawMode(false);t.kill(t.pid,"SIGTSTP")}break;case"w":case"backspace":this._deleteWordLeft();break;case"delete":this._deleteWordRight();break;case"left":this._wordLeft();break;case"right":this._wordRight();break}}else if(i.meta){switch(i.name){case"b":this._wordLeft();break;case"f":this._wordRight();break;case"d":case"delete":this._deleteWordRight();break;case"backspace":this._deleteWordLeft();break}}else{if(this._sawReturn&&i.name!=="enter")this._sawReturn=false;switch(i.name){case"return":this._sawReturn=true;this._line();break;case"enter":if(this._sawReturn)this._sawReturn=false;else this._line();break;case"backspace":this._deleteLeft();break;case"delete":this._deleteRight();break;case"tab":this._tabComplete();break;case"left":this._moveCursor(-1);break;case"right":this._moveCursor(+1);break;case"home":this._moveCursor(-Infinity);break;case"end":this._moveCursor(+Infinity);break;case"up":this._historyPrev();break;case"down":this._historyNext();break;default:if(s.isBuffer(e))e=e.toString("utf-8");if(e){var n=e.split(/\r\n|\n|\r/);for(var o=0,h=n.length;o<h;o++){if(o>0){this._line()}this._insertString(n[o])}}}}};r.Interface=h;function f(t){if(t._keypressDecoder)return;var r=e("string_decoder").StringDecoder;t._keypressDecoder=new r("utf8");function i(e){if(a.listenerCount(t,"keypress")>0){var r=t._keypressDecoder.write(e);if(r)g(t,r)}else{t.removeListener("data",i);t.on("newListener",s)}}function s(e){if(e=="keypress"){t.on("data",i);t.removeListener("newListener",s)}}if(a.listenerCount(t,"keypress")>0){t.on("data",i)}else{t.on("newListener",s)}}r.emitKeypressEvents=f;var p=/(?:\x1b)([a-zA-Z0-9])/;var d=new RegExp("^"+p.source+"$");var y=new RegExp("(?:+)(O|N|\\[|\\[\\[)(?:"+["(\\d+)(?:;(\\d+))?([~^$])","(?:M([@ #!a`])(.)(.))","(?:1;)?(\\d+)?([a-zA-Z])"].join("|")+")");var m=new RegExp("^"+y.source);var v=new RegExp([y.source,p.source,/\x1b./.source].join("|"));function g(e,t){if(s.isBuffer(t)){if(t[0]>127&&s.isUndefined(t[1])){t[0]-=128;t=""+t.toString(e.encoding||"utf-8")}else{t=t.toString(e.encoding||"utf-8")}}var r=[];var i;while(i=v.exec(t)){r=r.concat(t.slice(0,i.index).split(""));r.push(i[0]);t=t.slice(i.index+i[0].length)}r=r.concat(t.split(""));r.forEach(function(t){var r,i={sequence:t,name:undefined,ctrl:false,meta:false,shift:false},n;if(t==="\r"){i.name="return"}else if(t==="\n"){i.name="enter"}else if(t==="	"){i.name="tab"}else if(t==="\b"||t===""||t===""||t==="\b"){i.name="backspace";i.meta=t.charAt(0)===""}else if(t===""||t===""){i.name="escape";i.meta=t.length===2}else if(t===" "||t===" "){i.name="space";i.meta=t.length===2}else if(t.length===1&&t<=""){i.name=String.fromCharCode(t.charCodeAt(0)+"a".charCodeAt(0)-1);i.ctrl=true}else if(t.length===1&&t>="a"&&t<="z"){i.name=t}else if(t.length===1&&t>="A"&&t<="Z"){i.name=t.toLowerCase();i.shift=true}else if(n=d.exec(t)){i.name=n[1].toLowerCase();i.meta=true;i.shift=/^[A-Z]$/.test(n[1])}else if(n=m.exec(t)){var o=(n[1]||"")+(n[2]||"")+(n[4]||"")+(n[9]||""),a=(n[3]||n[8]||1)-1;i.ctrl=!!(a&4);i.meta=!!(a&10);i.shift=!!(a&1);i.code=o;switch(o){case"OP":i.name="f1";break;case"OQ":i.name="f2";break;case"OR":i.name="f3";break;case"OS":i.name="f4";break;case"[11~":i.name="f1";break;case"[12~":i.name="f2";break;case"[13~":i.name="f3";break;case"[14~":i.name="f4";break;case"[[A":i.name="f1";break;case"[[B":i.name="f2";break;case"[[C":i.name="f3";break;case"[[D":i.name="f4";break;case"[[E":i.name="f5";break;case"[15~":i.name="f5";break;case"[17~":i.name="f6";break;case"[18~":i.name="f7";break;case"[19~":i.name="f8";break;case"[20~":i.name="f9";break;case"[21~":i.name="f10";break;case"[23~":i.name="f11";break;case"[24~":i.name="f12";break;case"[A":i.name="up";break;case"[B":i.name="down";break;case"[C":i.name="right";break;case"[D":i.name="left";break;case"[E":i.name="clear";break;case"[F":i.name="end";break;case"[H":i.name="home";break;case"OA":i.name="up";break;case"OB":i.name="down";break;case"OC":i.name="right";break;case"OD":i.name="left";break;case"OE":i.name="clear";break;case"OF":i.name="end";break;case"OH":i.name="home";break;case"[1~":i.name="home";break;case"[2~":i.name="insert";break;case"[3~":i.name="delete";break;case"[4~":i.name="end";break;case"[5~":i.name="pageup";break;case"[6~":i.name="pagedown";break;case"[[5~":i.name="pageup";break;case"[[6~":i.name="pagedown";break;case"[7~":i.name="home";break;case"[8~":i.name="end";break;case"[a":i.name="up";i.shift=true;break;case"[b":i.name="down";i.shift=true;break;case"[c":i.name="right";i.shift=true;break;case"[d":i.name="left";i.shift=true;break;case"[e":i.name="clear";i.shift=true;break;case"[2$":i.name="insert";i.shift=true;break;case"[3$":i.name="delete";i.shift=true;break;case"[5$":i.name="pageup";i.shift=true;break;case"[6$":i.name="pagedown";i.shift=true;break;case"[7$":i.name="home";i.shift=true;break;case"[8$":i.name="end";i.shift=true;break;case"Oa":i.name="up";i.ctrl=true;break;case"Ob":i.name="down";i.ctrl=true;break;case"Oc":i.name="right";i.ctrl=true;break;case"Od":i.name="left";i.ctrl=true;break;case"Oe":i.name="clear";i.ctrl=true;break;case"[2^":i.name="insert";i.ctrl=true;break;case"[3^":i.name="delete";i.ctrl=true;break;case"[5^":i.name="pageup";i.ctrl=true;break;case"[6^":i.name="pagedown";i.ctrl=true;break;case"[7^":i.name="home";i.ctrl=true;break;case"[8^":i.name="end";i.ctrl=true;break;case"[Z":i.name="tab";i.shift=true;break;default:i.name="undefined";break}}if(s.isUndefined(i.name)){i=undefined}if(t.length===1){r=t}if(i||r){e.emit("keypress",r,i)}})}function b(e,t,r){if(s.isNullOrUndefined(e))return;if(!s.isNumber(t)&&!s.isNumber(r))return;if(!s.isNumber(t))throw new Error("Can't set cursor row without also setting it's column");if(!s.isNumber(r)){e.write("["+(t+1)+"G")}else{e.write("["+(r+1)+";"+(t+1)+"H")}}r.cursorTo=b;function w(e,t,r){if(s.isNullOrUndefined(e))return;if(t<0){e.write("["+-t+"D")}else if(t>0){e.write("["+t+"C")}if(r<0){e.write("["+-r+"A")}else if(r>0){e.write("["+r+"B")}}r.moveCursor=w;function k(e,t){if(s.isNullOrUndefined(e))return;if(t<0){e.write("[1K")}else if(t>0){e.write("[0K")}else{e.write("[2K")}}r.clearLine=k;function _(e){if(s.isNullOrUndefined(e))return;e.write("[0J")}r.clearScreenDown=_;function x(e){var t=0;e=L(e);for(var r=0,i=e.length;r<i;r++){var s=C(e,r);if(s>=65536){r++}if(E(s)){t+=2}else{t++}}return t}r.getStringWidth=x;function E(e){if(isNaN(e)){return false}if(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)){return true}return false}r.isFullWidthCodePoint=E;function C(e,t){var r=e.charCodeAt(t);var i;if(55296<=r&&r<=56319){i=e.charCodeAt(t+1);if(!isNaN(i)){r=65536+(r-55296)*1024+(i-56320)}}return r}r.codePointAt=C;function L(e){e=e.replace(new RegExp(y.source,"g"),"");return e.replace(new RegExp(p.source,"g"),"")}r.stripVTControlCharacters=L}).call(this,e("_process"))},{_process:10,buffer:4,events:8,string_decoder:11,util:13}],28:[function(e,t,r){var i=e("chalk");var s=new i.constructor({enabled:true});t.exports=s},{chalk:14}]},{},[1])(1)});
