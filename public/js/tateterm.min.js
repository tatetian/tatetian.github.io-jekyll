(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.tateterm=e()}})(function(){var e,t,s;return function i(e,t,s){function r(o,a){if(!t[o]){if(!e[o]){var h=typeof require=="function"&&require;if(!a&&h)return h(o,!0);if(n)return n(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(t){var s=e[o][1][t];return r(s?s:t)},f,f.exports,i,e,t,s)}return t[o].exports}var n=typeof require=="function"&&require;for(var o=0;o<s.length;o++)r(s[o]);return r}({1:[function(e,t,s){var i=e("./src/Terminal.js");var r=e("./src/Shell.js");t.exports={Shell:r,Terminal:i}},{"./src/Shell.js":30,"./src/Terminal.js":32}],2:[function(e,t,s){},{}],3:[function(e,t,s){var i=e("base64-js");var r=e("ieee754");var n=e("is-array");s.Buffer=h;s.SlowBuffer=g;s.INSPECT_MAX_BYTES=50;h.poolSize=8192;var o={};h.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new ArrayBuffer(0);var s=new Uint8Array(t);s.foo=function(){return 42};s.constructor=e;return s.foo()===42&&s.constructor===e&&typeof s.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(i){return false}}();function a(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(e){if(!(this instanceof h)){if(arguments.length>1)return new h(e,arguments[1]);return new h(e)}this.length=0;this.parent=undefined;if(typeof e==="number"){return l(this,e)}if(typeof e==="string"){return f(this,e,arguments.length>1?arguments[1]:"utf8")}return c(this,e)}function l(e,t){e=m(e,t<0?0:b(t)|0);if(!h.TYPED_ARRAY_SUPPORT){for(var s=0;s<t;s++){e[s]=0}}return e}function f(e,t,s){if(typeof s!=="string"||s==="")s="utf8";var i=w(t,s)|0;e=m(e,i);e.write(t,s);return e}function c(e,t){if(h.isBuffer(t))return u(e,t);if(n(t))return p(e,t);if(t==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer){return d(e,t)}if(t.length)return y(e,t);return v(e,t)}function u(e,t){var s=b(t.length)|0;e=m(e,s);t.copy(e,0,0,s);return e}function p(e,t){var s=b(t.length)|0;e=m(e,s);for(var i=0;i<s;i+=1){e[i]=t[i]&255}return e}function d(e,t){var s=b(t.length)|0;e=m(e,s);for(var i=0;i<s;i+=1){e[i]=t[i]&255}return e}function y(e,t){var s=b(t.length)|0;e=m(e,s);for(var i=0;i<s;i+=1){e[i]=t[i]&255}return e}function v(e,t){var s;var i=0;if(t.type==="Buffer"&&n(t.data)){s=t.data;i=b(s.length)|0}e=m(e,i);for(var r=0;r<i;r+=1){e[r]=s[r]&255}return e}function m(e,t){if(h.TYPED_ARRAY_SUPPORT){e=h._augment(new Uint8Array(t))}else{e.length=t;e._isBuffer=true}var s=t!==0&&t<=h.poolSize>>>1;if(s)e.parent=o;return e}function b(e){if(e>=a()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+a().toString(16)+" bytes")}return e|0}function g(e,t){if(!(this instanceof g))return new g(e,t);var s=new h(e,t);delete s.parent;return s}h.isBuffer=function X(e){return!!(e!=null&&e._isBuffer)};h.compare=function Q(e,t){if(!h.isBuffer(e)||!h.isBuffer(t)){throw new TypeError("Arguments must be Buffers")}if(e===t)return 0;var s=e.length;var i=t.length;var r=0;var n=Math.min(s,i);while(r<n){if(e[r]!==t[r])break;++r}if(r!==n){s=e[r];i=t[r]}if(s<i)return-1;if(i<s)return 1;return 0};h.isEncoding=function ee(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};h.concat=function te(e,t){if(!n(e))throw new TypeError("list argument must be an Array of Buffers.");if(e.length===0){return new h(0)}else if(e.length===1){return e[0]}var s;if(t===undefined){t=0;for(s=0;s<e.length;s++){t+=e[s].length}}var i=new h(t);var r=0;for(s=0;s<e.length;s++){var o=e[s];o.copy(i,r);r+=o.length}return i};function w(e,t){if(typeof e!=="string")e=""+e;var s=e.length;if(s===0)return 0;var i=false;for(;;){switch(t){case"ascii":case"binary":case"raw":case"raws":return s;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return V(e).length;default:if(i)return W(e).length;t=(""+t).toLowerCase();i=true}}}h.byteLength=w;h.prototype.length=undefined;h.prototype.parent=undefined;function k(e,t,s){var i=false;t=t|0;s=s===undefined||s===Infinity?this.length:s|0;if(!e)e="utf8";if(t<0)t=0;if(s>this.length)s=this.length;if(s<=t)return"";while(true){switch(e){case"hex":return T(this,t,s);case"utf8":case"utf-8":return M(this,t,s);case"ascii":return R(this,t,s);case"binary":return P(this,t,s);case"base64":return S(this,t,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,s);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();i=true}}}h.prototype.toString=function se(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return M(this,0,e);return k.apply(this,arguments)};h.prototype.equals=function ie(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return h.compare(this,e)===0};h.prototype.inspect=function re(){var e="";var t=s.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};h.prototype.compare=function ne(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return 0;return h.compare(this,e)};h.prototype.indexOf=function oe(e,t){if(t>2147483647)t=2147483647;else if(t<-2147483648)t=-2147483648;t>>=0;if(this.length===0)return-1;if(t>=this.length)return-1;if(t<0)t=Math.max(this.length+t,0);if(typeof e==="string"){if(e.length===0)return-1;return String.prototype.indexOf.call(this,e,t)}if(h.isBuffer(e)){return s(this,e,t)}if(typeof e==="number"){if(h.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,e,t)}return s(this,[e],t)}function s(e,t,s){var i=-1;for(var r=0;s+r<e.length;r++){if(e[s+r]===t[i===-1?0:r-i]){if(i===-1)i=r;if(r-i+1===t.length)return s+i}else{i=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};h.prototype.get=function ae(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};h.prototype.set=function he(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};function x(e,t,s,i){s=Number(s)||0;var r=e.length-s;if(!i){i=r}else{i=Number(i);if(i>r){i=r}}var n=t.length;if(n%2!==0)throw new Error("Invalid hex string");if(i>n/2){i=n/2}for(var o=0;o<i;o++){var a=parseInt(t.substr(o*2,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[s+o]=a}return o}function _(e,t,s,i){return Z(W(t,e.length-s),e,s,i)}function E(e,t,s,i){return Z($(t),e,s,i)}function C(e,t,s,i){return E(e,t,s,i)}function A(e,t,s,i){return Z(V(t),e,s,i)}function L(e,t,s,i){return Z(G(t,e.length-s),e,s,i)}h.prototype.write=function le(e,t,s,i){if(t===undefined){i="utf8";s=this.length;t=0}else if(s===undefined&&typeof t==="string"){i=t;s=this.length;t=0}else if(isFinite(t)){t=t|0;if(isFinite(s)){s=s|0;if(i===undefined)i="utf8"}else{i=s;s=undefined}}else{var r=i;i=t;t=s|0;s=r}var n=this.length-t;if(s===undefined||s>n)s=n;if(e.length>0&&(s<0||t<0)||t>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!i)i="utf8";var o=false;for(;;){switch(i){case"hex":return x(this,e,t,s);case"utf8":case"utf-8":return _(this,e,t,s);case"ascii":return E(this,e,t,s);case"binary":return C(this,e,t,s);case"base64":return A(this,e,t,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,s);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();o=true}}};h.prototype.toJSON=function fe(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,s){if(t===0&&s===e.length){return i.fromByteArray(e)}else{return i.fromByteArray(e.slice(t,s))}}function M(e,t,s){var i="";var r="";s=Math.min(e.length,s);for(var n=t;n<s;n++){if(e[n]<=127){i+=J(r)+String.fromCharCode(e[n]);r=""}else{r+="%"+e[n].toString(16)}}return i+J(r)}function R(e,t,s){var i="";s=Math.min(e.length,s);for(var r=t;r<s;r++){i+=String.fromCharCode(e[r]&127)}return i}function P(e,t,s){var i="";s=Math.min(e.length,s);for(var r=t;r<s;r++){i+=String.fromCharCode(e[r])}return i}function T(e,t,s){var i=e.length;if(!t||t<0)t=0;if(!s||s<0||s>i)s=i;var r="";for(var n=t;n<s;n++){r+=H(e[n])}return r}function I(e,t,s){var i=e.slice(t,s);var r="";for(var n=0;n<i.length;n+=2){r+=String.fromCharCode(i[n]+i[n+1]*256)}return r}h.prototype.slice=function ce(e,t){var s=this.length;e=~~e;t=t===undefined?s:~~t;if(e<0){e+=s;if(e<0)e=0}else if(e>s){e=s}if(t<0){t+=s;if(t<0)t=0}else if(t>s){t=s}if(t<e)t=e;var i;if(h.TYPED_ARRAY_SUPPORT){i=h._augment(this.subarray(e,t))}else{var r=t-e;i=new h(r,undefined);for(var n=0;n<r;n++){i[n]=this[n+e]}}if(i.length)i.parent=this.parent||this;return i};function O(e,t,s){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>s)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function ue(e,t,s){e=e|0;t=t|0;if(!s)O(e,t,this.length);var i=this[e];var r=1;var n=0;while(++n<t&&(r*=256)){i+=this[e+n]*r}return i};h.prototype.readUIntBE=function pe(e,t,s){e=e|0;t=t|0;if(!s){O(e,t,this.length)}var i=this[e+--t];var r=1;while(t>0&&(r*=256)){i+=this[e+--t]*r}return i};h.prototype.readUInt8=function de(e,t){if(!t)O(e,1,this.length);return this[e]};h.prototype.readUInt16LE=function ye(e,t){if(!t)O(e,2,this.length);return this[e]|this[e+1]<<8};h.prototype.readUInt16BE=function ve(e,t){if(!t)O(e,2,this.length);return this[e]<<8|this[e+1]};h.prototype.readUInt32LE=function me(e,t){if(!t)O(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};h.prototype.readUInt32BE=function be(e,t){if(!t)O(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};h.prototype.readIntLE=function ge(e,t,s){e=e|0;t=t|0;if(!s)O(e,t,this.length);var i=this[e];var r=1;var n=0;while(++n<t&&(r*=256)){i+=this[e+n]*r}r*=128;if(i>=r)i-=Math.pow(2,8*t);return i};h.prototype.readIntBE=function we(e,t,s){e=e|0;t=t|0;if(!s)O(e,t,this.length);var i=t;var r=1;var n=this[e+--i];while(i>0&&(r*=256)){n+=this[e+--i]*r}r*=128;if(n>=r)n-=Math.pow(2,8*t);return n};h.prototype.readInt8=function ke(e,t){if(!t)O(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};h.prototype.readInt16LE=function xe(e,t){if(!t)O(e,2,this.length);var s=this[e]|this[e+1]<<8;return s&32768?s|4294901760:s};h.prototype.readInt16BE=function _e(e,t){if(!t)O(e,2,this.length);var s=this[e+1]|this[e]<<8;return s&32768?s|4294901760:s};h.prototype.readInt32LE=function Ee(e,t){if(!t)O(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};h.prototype.readInt32BE=function Ce(e,t){if(!t)O(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};h.prototype.readFloatLE=function Ae(e,t){if(!t)O(e,4,this.length);return r.read(this,e,true,23,4)};h.prototype.readFloatBE=function Le(e,t){if(!t)O(e,4,this.length);return r.read(this,e,false,23,4)};h.prototype.readDoubleLE=function Se(e,t){if(!t)O(e,8,this.length);return r.read(this,e,true,52,8)};h.prototype.readDoubleBE=function Me(e,t){if(!t)O(e,8,this.length);return r.read(this,e,false,52,8)};function B(e,t,s,i,r,n){if(!h.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>r||t<n)throw new RangeError("value is out of bounds");if(s+i>e.length)throw new RangeError("index out of range")}h.prototype.writeUIntLE=function Re(e,t,s,i){e=+e;t=t|0;s=s|0;if(!i)B(this,e,t,s,Math.pow(2,8*s),0);var r=1;var n=0;this[t]=e&255;while(++n<s&&(r*=256)){this[t+n]=e/r&255}return t+s};h.prototype.writeUIntBE=function Pe(e,t,s,i){e=+e;t=t|0;s=s|0;if(!i)B(this,e,t,s,Math.pow(2,8*s),0);var r=s-1;var n=1;this[t+r]=e&255;while(--r>=0&&(n*=256)){this[t+r]=e/n&255}return t+s};h.prototype.writeUInt8=function Te(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,1,255,0);if(!h.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e;return t+1};function D(e,t,s,i){if(t<0)t=65535+t+1;for(var r=0,n=Math.min(e.length-s,2);r<n;r++){e[s+r]=(t&255<<8*(i?r:1-r))>>>(i?r:1-r)*8}}h.prototype.writeUInt16LE=function Ie(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,2,65535,0);if(h.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{D(this,e,t,true)}return t+2};h.prototype.writeUInt16BE=function Oe(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,2,65535,0);if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{D(this,e,t,false)}return t+2};function U(e,t,s,i){if(t<0)t=4294967295+t+1;for(var r=0,n=Math.min(e.length-s,4);r<n;r++){e[s+r]=t>>>(i?r:3-r)*8&255}}h.prototype.writeUInt32LE=function Be(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,4,4294967295,0);if(h.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e}else{U(this,e,t,true)}return t+4};h.prototype.writeUInt32BE=function De(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,4,4294967295,0);if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{U(this,e,t,false)}return t+4};h.prototype.writeIntLE=function Ue(e,t,s,i){e=+e;t=t|0;if(!i){var r=Math.pow(2,8*s-1);B(this,e,t,s,r-1,-r)}var n=0;var o=1;var a=e<0?1:0;this[t]=e&255;while(++n<s&&(o*=256)){this[t+n]=(e/o>>0)-a&255}return t+s};h.prototype.writeIntBE=function je(e,t,s,i){e=+e;t=t|0;if(!i){var r=Math.pow(2,8*s-1);B(this,e,t,s,r-1,-r)}var n=s-1;var o=1;var a=e<0?1:0;this[t+n]=e&255;while(--n>=0&&(o*=256)){this[t+n]=(e/o>>0)-a&255}return t+s};h.prototype.writeInt8=function Ne(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,1,127,-128);if(!h.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e;return t+1};h.prototype.writeInt16LE=function Fe(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,2,32767,-32768);if(h.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{D(this,e,t,true)}return t+2};h.prototype.writeInt16BE=function qe(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,2,32767,-32768);if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{D(this,e,t,false)}return t+2};h.prototype.writeInt32LE=function Ke(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,4,2147483647,-2147483648);if(h.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else{U(this,e,t,true)}return t+4};h.prototype.writeInt32BE=function ze(e,t,s){e=+e;t=t|0;if(!s)B(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(h.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{U(this,e,t,false)}return t+4};function j(e,t,s,i,r,n){if(t>r||t<n)throw new RangeError("value is out of bounds");if(s+i>e.length)throw new RangeError("index out of range");if(s<0)throw new RangeError("index out of range")}function N(e,t,s,i,n){if(!n){j(e,t,s,4,3.4028234663852886e38,-3.4028234663852886e38)}r.write(e,t,s,i,23,4);return s+4}h.prototype.writeFloatLE=function Ye(e,t,s){return N(this,e,t,true,s)};h.prototype.writeFloatBE=function He(e,t,s){return N(this,e,t,false,s)};function F(e,t,s,i,n){if(!n){j(e,t,s,8,1.7976931348623157e308,-1.7976931348623157e308)}r.write(e,t,s,i,52,8);return s+8}h.prototype.writeDoubleLE=function We(e,t,s){return F(this,e,t,true,s)};h.prototype.writeDoubleBE=function $e(e,t,s){return F(this,e,t,false,s)};h.prototype.copy=function Ge(e,t,s,i){if(!s)s=0;if(!i&&i!==0)i=this.length;if(t>=e.length)t=e.length;if(!t)t=0;if(i>0&&i<s)i=s;if(i===s)return 0;if(e.length===0||this.length===0)return 0;if(t<0){throw new RangeError("targetStart out of bounds")}if(s<0||s>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(e.length-t<i-s){i=e.length-t+s}var r=i-s;if(r<1e3||!h.TYPED_ARRAY_SUPPORT){for(var n=0;n<r;n++){e[n+t]=this[n+s]}}else{e._set(this.subarray(s,s+r),t)}return r};h.prototype.fill=function Ve(e,t,s){if(!e)e=0;if(!t)t=0;if(!s)s=this.length;if(s<t)throw new RangeError("end < start");if(s===t)return;if(this.length===0)return;if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(s<0||s>this.length)throw new RangeError("end out of bounds");var i;if(typeof e==="number"){for(i=t;i<s;i++){this[i]=e}}else{var r=W(e.toString());var n=r.length;for(i=t;i<s;i++){this[i]=r[i%n]}}return this};h.prototype.toArrayBuffer=function Ze(){if(typeof Uint8Array!=="undefined"){if(h.TYPED_ARRAY_SUPPORT){return new h(this).buffer}else{var e=new Uint8Array(this.length);for(var t=0,s=e.length;t<s;t+=1){e[t]=this[t]}return e.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var q=h.prototype;h._augment=function Je(e){e.constructor=h;e._isBuffer=true;e._set=e.set;e.get=q.get;e.set=q.set;e.write=q.write;e.toString=q.toString;e.toLocaleString=q.toString;e.toJSON=q.toJSON;e.equals=q.equals;e.compare=q.compare;e.indexOf=q.indexOf;e.copy=q.copy;e.slice=q.slice;e.readUIntLE=q.readUIntLE;e.readUIntBE=q.readUIntBE;e.readUInt8=q.readUInt8;e.readUInt16LE=q.readUInt16LE;e.readUInt16BE=q.readUInt16BE;e.readUInt32LE=q.readUInt32LE;e.readUInt32BE=q.readUInt32BE;e.readIntLE=q.readIntLE;e.readIntBE=q.readIntBE;e.readInt8=q.readInt8;e.readInt16LE=q.readInt16LE;e.readInt16BE=q.readInt16BE;e.readInt32LE=q.readInt32LE;e.readInt32BE=q.readInt32BE;e.readFloatLE=q.readFloatLE;e.readFloatBE=q.readFloatBE;e.readDoubleLE=q.readDoubleLE;e.readDoubleBE=q.readDoubleBE;e.writeUInt8=q.writeUInt8;e.writeUIntLE=q.writeUIntLE;e.writeUIntBE=q.writeUIntBE;e.writeUInt16LE=q.writeUInt16LE;e.writeUInt16BE=q.writeUInt16BE;e.writeUInt32LE=q.writeUInt32LE;e.writeUInt32BE=q.writeUInt32BE;e.writeIntLE=q.writeIntLE;e.writeIntBE=q.writeIntBE;e.writeInt8=q.writeInt8;e.writeInt16LE=q.writeInt16LE;e.writeInt16BE=q.writeInt16BE;e.writeInt32LE=q.writeInt32LE;e.writeInt32BE=q.writeInt32BE;e.writeFloatLE=q.writeFloatLE;e.writeFloatBE=q.writeFloatBE;e.writeDoubleLE=q.writeDoubleLE;e.writeDoubleBE=q.writeDoubleBE;e.fill=q.fill;e.inspect=q.inspect;e.toArrayBuffer=q.toArrayBuffer;return e};var K=/[^+\/0-9A-z\-]/g;function z(e){e=Y(e).replace(K,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function Y(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function H(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function W(e,t){t=t||Infinity;var s;var i=e.length;var r=null;var n=[];var o=0;for(;o<i;o++){s=e.charCodeAt(o);if(s>55295&&s<57344){if(r){if(s<56320){if((t-=3)>-1)n.push(239,191,189);r=s;continue}else{s=r-55296<<10|s-56320|65536;r=null}}else{if(s>56319){if((t-=3)>-1)n.push(239,191,189);continue}else if(o+1===i){if((t-=3)>-1)n.push(239,191,189);continue}else{r=s;continue}}}else if(r){if((t-=3)>-1)n.push(239,191,189);r=null}if(s<128){if((t-=1)<0)break;n.push(s)}else if(s<2048){if((t-=2)<0)break;n.push(s>>6|192,s&63|128)}else if(s<65536){if((t-=3)<0)break;n.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<2097152){if((t-=4)<0)break;n.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else{throw new Error("Invalid code point")}}return n}function $(e){var t=[];for(var s=0;s<e.length;s++){t.push(e.charCodeAt(s)&255)}return t}function G(e,t){var s,i,r;var n=[];for(var o=0;o<e.length;o++){if((t-=2)<0)break;s=e.charCodeAt(o);i=s>>8;r=s%256;n.push(r);n.push(i)}return n}function V(e){return i.toByteArray(z(e))}function Z(e,t,s,i){for(var r=0;r<i;r++){if(r+s>=t.length||r>=e.length)break;t[r+s]=e[r]}return r}function J(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}},{"base64-js":4,ieee754:5,"is-array":6}],4:[function(e,t,s){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";var t=typeof Uint8Array!=="undefined"?Uint8Array:Array;var s="+".charCodeAt(0);var r="/".charCodeAt(0);var n="0".charCodeAt(0);var o="a".charCodeAt(0);var a="A".charCodeAt(0);var h="-".charCodeAt(0);var l="_".charCodeAt(0);function f(e){var t=e.charCodeAt(0);if(t===s||t===h)return 62;if(t===r||t===l)return 63;if(t<n)return-1;if(t<n+10)return t-n+26+26;if(t<a+26)return t-a;if(t<o+26)return t-o+26}function c(e){var s,i,r,n,o,a;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var h=e.length;o="="===e.charAt(h-2)?2:"="===e.charAt(h-1)?1:0;a=new t(e.length*3/4-o);r=o>0?e.length-4:e.length;var l=0;function c(e){a[l++]=e}for(s=0,i=0;s<r;s+=4,i+=3){n=f(e.charAt(s))<<18|f(e.charAt(s+1))<<12|f(e.charAt(s+2))<<6|f(e.charAt(s+3));c((n&16711680)>>16);c((n&65280)>>8);c(n&255)}if(o===2){n=f(e.charAt(s))<<2|f(e.charAt(s+1))>>4;c(n&255)}else if(o===1){n=f(e.charAt(s))<<10|f(e.charAt(s+1))<<4|f(e.charAt(s+2))>>2;c(n>>8&255);c(n&255)}return a}function u(e){var t,s=e.length%3,r="",n,o;function a(e){return i.charAt(e)}function h(e){return a(e>>18&63)+a(e>>12&63)+a(e>>6&63)+a(e&63)}for(t=0,o=e.length-s;t<o;t+=3){n=(e[t]<<16)+(e[t+1]<<8)+e[t+2];r+=h(n)}switch(s){case 1:n=e[e.length-1];r+=a(n>>2);r+=a(n<<4&63);r+="==";break;case 2:n=(e[e.length-2]<<8)+e[e.length-1];r+=a(n>>10);r+=a(n>>4&63);r+=a(n<<2&63);r+="=";break}return r}e.toByteArray=c;e.fromByteArray=u})(typeof s==="undefined"?this.base64js={}:s)},{}],5:[function(e,t,s){s.read=function(e,t,s,i,r){var n,o;var a=r*8-i-1;var h=(1<<a)-1;var l=h>>1;var f=-7;var c=s?r-1:0;var u=s?-1:1;var p=e[t+c];c+=u;n=p&(1<<-f)-1;p>>=-f;f+=a;for(;f>0;n=n*256+e[t+c],c+=u,f-=8){}o=n&(1<<-f)-1;n>>=-f;f+=i;for(;f>0;o=o*256+e[t+c],c+=u,f-=8){}if(n===0){n=1-l}else if(n===h){return o?NaN:(p?-1:1)*Infinity}else{o=o+Math.pow(2,i);n=n-l}return(p?-1:1)*o*Math.pow(2,n-i)};s.write=function(e,t,s,i,r,n){var o,a,h;var l=n*8-r-1;var f=(1<<l)-1;var c=f>>1;var u=r===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=i?0:n-1;var d=i?1:-1;var y=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;o=f}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(h=Math.pow(2,-o))<1){o--;h*=2}if(o+c>=1){t+=u/h}else{t+=u*Math.pow(2,1-c)}if(t*h>=2){o++;h/=2}if(o+c>=f){a=0;o=f}else if(o+c>=1){a=(t*h-1)*Math.pow(2,r);o=o+c}else{a=t*Math.pow(2,c-1)*Math.pow(2,r);o=0}}for(;r>=8;e[s+p]=a&255,p+=d,a/=256,r-=8){}o=o<<r|a;l+=r;for(;l>0;e[s+p]=o&255,p+=d,o/=256,l-=8){}e[s+p-d]|=y*128}},{}],6:[function(e,t,s){var i=Array.isArray;var r=Object.prototype.toString;t.exports=i||function(e){return!!e&&"[object Array]"==r.call(e)}},{}],7:[function(e,t,s){function i(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=i;i.EventEmitter=i;i.prototype._events=undefined;i.prototype._maxListeners=undefined;i.defaultMaxListeners=10;i.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};i.prototype.emit=function(e){var t,s,i,n,h,l;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}s=this._events[e];if(a(s))return false;if(r(s)){switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:i=arguments.length;n=new Array(i-1);for(h=1;h<i;h++)n[h-1]=arguments[h];s.apply(this,n)}}else if(o(s)){i=arguments.length;n=new Array(i-1);for(h=1;h<i;h++)n[h-1]=arguments[h];l=s.slice();i=l.length;for(h=0;h<i;h++)l[h].apply(this,n)}return true};i.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,r(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var s;if(!a(this._maxListeners)){s=this._maxListeners}else{s=i.defaultMaxListeners}if(s&&s>0&&this._events[e].length>s){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var s=false;function i(){this.removeListener(e,i);if(!s){s=true;t.apply(this,arguments)}}i.listener=t;this.on(e,i);return this};i.prototype.removeListener=function(e,t){var s,i,n,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;s=this._events[e];n=s.length;i=-1;if(s===t||r(s.listener)&&s.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(s)){for(a=n;a-->0;){if(s[a]===t||s[a].listener&&s[a].listener===t){i=a;break}}if(i<0)return this;if(s.length===1){s.length=0;delete this._events[e]}else{s.splice(i,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};i.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}s=this._events[e];if(r(s)){this.removeListener(e,s)}else{while(s.length)this.removeListener(e,s[s.length-1])}delete this._events[e];return this};i.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(r(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};i.listenerCount=function(e,t){var s;if(!e._events||!e._events[t])s=0;else if(r(e._events[t]))s=1;else s=e._events[t].length;return s};function r(e){return typeof e==="function"}function n(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function a(e){return e===void 0}},{}],8:[function(e,t,s){if(typeof Object.create==="function"){t.exports=function i(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function r(e,t){e.super_=t;var s=function(){};s.prototype=t.prototype;e.prototype=new s;e.prototype.constructor=e}}},{}],9:[function(e,t,s){var i=t.exports={};var r=[];var n=false;function o(){if(n){return}n=true;var e;var t=r.length;while(t){e=r;r=[];var s=-1;while(++s<t){e[s]()}t=r.length}n=false}i.nextTick=function(e){r.push(e);if(!n){setTimeout(o,0)}};i.title="browser";i.browser=true;i.env={};i.argv=[];i.version="";i.versions={};function a(){}i.on=a;i.addListener=a;i.once=a;i.off=a;i.removeListener=a;i.removeAllListeners=a;i.emit=a;i.binding=function(e){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(e){throw new Error("process.chdir is not supported")};i.umask=function(){return 0}},{}],10:[function(t,s,i){(function(t){(function(r){var n=typeof i=="object"&&i;var o=typeof s=="object"&&s&&s.exports==n&&s;var a=typeof t=="object"&&t;if(a.global===a||a.window===a){r=a}var h,l=2147483647,f=36,c=1,u=26,p=38,d=700,y=72,v=128,m="-",b=/^xn--/,g=/[^ -~]/,w=/\x2E|\u3002|\uFF0E|\uFF61/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=f-c,_=Math.floor,E=String.fromCharCode,C;function A(e){throw RangeError(k[e])}function L(e,t){var s=e.length;while(s--){e[s]=t(e[s])}return e}function S(e,t){return L(e.split(w),t).join(".")}function M(e){var t=[],s=0,i=e.length,r,n;while(s<i){r=e.charCodeAt(s++);if(r>=55296&&r<=56319&&s<i){n=e.charCodeAt(s++);if((n&64512)==56320){t.push(((r&1023)<<10)+(n&1023)+65536)}else{t.push(r);s--}}else{t.push(r)}}return t}function R(e){return L(e,function(e){var t="";if(e>65535){e-=65536;t+=E(e>>>10&1023|55296);e=56320|e&1023}t+=E(e);return t}).join("")}function P(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return f}function T(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function I(e,t,s){var i=0;e=s?_(e/d):e>>1;e+=_(e/t);for(;e>x*u>>1;i+=f){e=_(e/x)}return _(i+(x+1)*e/(e+p))}function O(e){var t=[],s=e.length,i,r=0,n=v,o=y,a,h,p,d,b,g,w,k,x;a=e.lastIndexOf(m);if(a<0){a=0}for(h=0;h<a;++h){if(e.charCodeAt(h)>=128){A("not-basic")}t.push(e.charCodeAt(h))}for(p=a>0?a+1:0;p<s;){for(d=r,b=1,g=f;;g+=f){if(p>=s){A("invalid-input")}w=P(e.charCodeAt(p++));if(w>=f||w>_((l-r)/b)){A("overflow")}r+=w*b;k=g<=o?c:g>=o+u?u:g-o;if(w<k){break}x=f-k;if(b>_(l/x)){A("overflow")}b*=x}i=t.length+1;o=I(r-d,i,d==0);if(_(r/i)>l-n){A("overflow")}n+=_(r/i);r%=i;t.splice(r++,0,n)}return R(t)}function B(e){var t,s,i,r,n,o,a,h,p,d,b,g=[],w,k,x,C;e=M(e);w=e.length;t=v;s=0;n=y;for(o=0;o<w;++o){b=e[o];if(b<128){g.push(E(b))}}i=r=g.length;if(r){g.push(m)}while(i<w){for(a=l,o=0;o<w;++o){b=e[o];if(b>=t&&b<a){a=b}}k=i+1;if(a-t>_((l-s)/k)){A("overflow")}s+=(a-t)*k;t=a;for(o=0;o<w;++o){b=e[o];if(b<t&&++s>l){A("overflow")}if(b==t){for(h=s,p=f;;p+=f){d=p<=n?c:p>=n+u?u:p-n;if(h<d){break}C=h-d;x=f-d;g.push(E(T(d+C%x,0)));h=_(C/x)}g.push(E(T(h,0)));n=I(s,k,i==r);s=0;++i}}++s;++t}return g.join("")}function D(e){return S(e,function(e){return b.test(e)?O(e.slice(4).toLowerCase()):e})}function U(e){return S(e,function(e){return g.test(e)?"xn--"+B(e):e})}h={version:"1.2.4",ucs2:{decode:M,encode:R},decode:O,encode:B,toASCII:U,toUnicode:D};if(typeof e=="function"&&typeof e.amd=="object"&&e.amd){e("punycode",function(){return h})}else if(n&&!n.nodeType){if(o){o.exports=h}else{for(C in h){h.hasOwnProperty(C)&&(n[C]=h[C])}}}else{r.punycode=h}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],11:[function(e,t,s){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,s,n){t=t||"&";s=s||"=";var o={};if(typeof e!=="string"||e.length===0){return o}var a=/\+/g;e=e.split(t);var h=1e3;if(n&&typeof n.maxKeys==="number"){h=n.maxKeys}var l=e.length;if(h>0&&l>h){l=h}for(var f=0;f<l;++f){var c=e[f].replace(a,"%20"),u=c.indexOf(s),p,d,y,v;if(u>=0){p=c.substr(0,u);d=c.substr(u+1)}else{p=c;d=""}y=decodeURIComponent(p);v=decodeURIComponent(d);if(!i(o,y)){o[y]=v}else if(r(o[y])){o[y].push(v)}else{o[y]=[o[y],v]}}return o};var r=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],12:[function(e,t,s){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,s,a){t=t||"&";s=s||"=";if(e===null){e=undefined}if(typeof e==="object"){return n(o(e),function(o){var a=encodeURIComponent(i(o))+s;if(r(e[o])){return n(e[o],function(e){return a+encodeURIComponent(i(e))}).join(t)}else{return a+encodeURIComponent(i(e[o]))}}).join(t)}if(!a)return"";return encodeURIComponent(i(a))+s+encodeURIComponent(i(e))};var r=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function n(e,t){if(e.map)return e.map(t);var s=[];for(var i=0;i<e.length;i++){s.push(t(e[i],i))}return s}var o=Object.keys||function(e){var t=[];for(var s in e){if(Object.prototype.hasOwnProperty.call(e,s))t.push(s)}return t}},{}],13:[function(e,t,s){"use strict";s.decode=s.parse=e("./decode");s.encode=s.stringify=e("./encode")},{"./decode":11,"./encode":12}],14:[function(e,t,s){var i=e("buffer").Buffer;var r=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function n(e){if(e&&!r(e)){throw new Error("Unknown encoding: "+e)}}var o=s.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");n(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":
case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=h;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=l;break;default:this.write=a;return}this.charBuffer=new i(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var t="";while(this.charLength){var s=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,s);this.charReceived+=s;if(this.charReceived<this.charLength){return""}e=e.slice(s,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var r=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,r);r-=this.charReceived}t+=e.toString(this.encoding,0,r);var r=t.length-1;var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var n=this.surrogateSize;this.charLength+=n;this.charReceived+=n;this.charBuffer.copy(this.charBuffer,n,0,n);e.copy(this.charBuffer,0,0,n);return t.substring(0,r)}return t};o.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var s=e[e.length-t];if(t==1&&s>>5==6){this.charLength=2;break}if(t<=2&&s>>4==14){this.charLength=3;break}if(t<=3&&s>>3==30){this.charLength=4;break}}this.charReceived=t};o.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var s=this.charReceived;var i=this.charBuffer;var r=this.encoding;t+=i.slice(0,s).toString(r)}return t};function a(e){return e.toString(this.encoding)}function h(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function l(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},{buffer:3}],15:[function(e,t,s){var i=e("punycode");s.parse=g;s.resolve=k;s.resolveObject=x;s.format=w;s.Url=r;function r(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=["<",">",'"',"`"," ","\r","\n","	"],h=["{","}","|","\\","^","`"].concat(a),l=["'"].concat(h),f=["%","/","?",";","#"].concat(l),c=["/","?","#"],u=255,p=/^[a-z0-9A-Z_-]{0,63}$/,d=/^([a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:true,"javascript:":true},v={javascript:true,"javascript:":true},m={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},b=e("querystring");function g(e,t,s){if(e&&E(e)&&e instanceof r)return e;var i=new r;i.parse(e,t,s);return i}r.prototype.parse=function(e,t,s){if(!_(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var r=e;r=r.trim();var o=n.exec(r);if(o){o=o[0];var a=o.toLowerCase();this.protocol=a;r=r.substr(o.length)}if(s||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=r.substr(0,2)==="//";if(h&&!(o&&v[o])){r=r.substr(2);this.slashes=true}}if(!v[o]&&(h||o&&!m[o])){var g=-1;for(var w=0;w<c.length;w++){var k=r.indexOf(c[w]);if(k!==-1&&(g===-1||k<g))g=k}var x,E;if(g===-1){E=r.lastIndexOf("@")}else{E=r.lastIndexOf("@",g)}if(E!==-1){x=r.slice(0,E);r=r.slice(E+1);this.auth=decodeURIComponent(x)}g=-1;for(var w=0;w<f.length;w++){var k=r.indexOf(f[w]);if(k!==-1&&(g===-1||k<g))g=k}if(g===-1)g=r.length;this.host=r.slice(0,g);r=r.slice(g);this.parseHost();this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C){var A=this.hostname.split(/\./);for(var w=0,L=A.length;w<L;w++){var S=A[w];if(!S)continue;if(!S.match(p)){var M="";for(var R=0,P=S.length;R<P;R++){if(S.charCodeAt(R)>127){M+="x"}else{M+=S[R]}}if(!M.match(p)){var T=A.slice(0,w);var I=A.slice(w+1);var O=S.match(d);if(O){T.push(O[1]);I.unshift(O[2])}if(I.length){r="/"+I.join(".")+r}this.hostname=T.join(".");break}}}}if(this.hostname.length>u){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!C){var B=this.hostname.split(".");var D=[];for(var w=0;w<B.length;++w){var U=B[w];D.push(U.match(/[^A-Za-z0-9_-]/)?"xn--"+i.encode(U):U)}this.hostname=D.join(".")}var j=this.port?":"+this.port:"";var N=this.hostname||"";this.host=N+j;this.href+=this.host;if(C){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(r[0]!=="/"){r="/"+r}}}if(!y[a]){for(var w=0,L=l.length;w<L;w++){var F=l[w];var q=encodeURIComponent(F);if(q===F){q=escape(F)}r=r.split(F).join(q)}}var K=r.indexOf("#");if(K!==-1){this.hash=r.substr(K);r=r.slice(0,K)}var z=r.indexOf("?");if(z!==-1){this.search=r.substr(z);this.query=r.substr(z+1);if(t){this.query=b.parse(this.query)}r=r.slice(0,z)}else if(t){this.search="";this.query={}}if(r)this.pathname=r;if(m[a]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var j=this.pathname||"";var U=this.search||"";this.path=j+U}this.href=this.format();return this};function w(e){if(_(e))e=g(e);if(!(e instanceof r))return r.prototype.format.call(e);return e.format()}r.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",s=this.pathname||"",i=this.hash||"",r=false,n="";if(this.host){r=e+this.host}else if(this.hostname){r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){r+=":"+this.port}}if(this.query&&E(this.query)&&Object.keys(this.query).length){n=b.stringify(this.query)}var o=this.search||n&&"?"+n||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||m[t])&&r!==false){r="//"+(r||"");if(s&&s.charAt(0)!=="/")s="/"+s}else if(!r){r=""}if(i&&i.charAt(0)!=="#")i="#"+i;if(o&&o.charAt(0)!=="?")o="?"+o;s=s.replace(/[?#]/g,function(e){return encodeURIComponent(e)});o=o.replace("#","%23");return t+r+s+o+i};function k(e,t){return g(e,false,true).resolve(t)}r.prototype.resolve=function(e){return this.resolveObject(g(e,false,true)).format()};function x(e,t){if(!e)return t;return g(e,false,true).resolveObject(t)}r.prototype.resolveObject=function(e){if(_(e)){var t=new r;t.parse(e,false,true);e=t}var s=new r;Object.keys(this).forEach(function(e){s[e]=this[e]},this);s.hash=e.hash;if(e.href===""){s.href=s.format();return s}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){if(t!=="protocol")s[t]=e[t]});if(m[s.protocol]&&s.hostname&&!s.pathname){s.path=s.pathname="/"}s.href=s.format();return s}if(e.protocol&&e.protocol!==s.protocol){if(!m[e.protocol]){Object.keys(e).forEach(function(t){s[t]=e[t]});s.href=s.format();return s}s.protocol=e.protocol;if(!e.host&&!v[e.protocol]){var i=(e.pathname||"").split("/");while(i.length&&!(e.host=i.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(i[0]!=="")i.unshift("");if(i.length<2)i.unshift("");s.pathname=i.join("/")}else{s.pathname=e.pathname}s.search=e.search;s.query=e.query;s.host=e.host||"";s.auth=e.auth;s.hostname=e.hostname||e.host;s.port=e.port;if(s.pathname||s.search){var n=s.pathname||"";var o=s.search||"";s.path=n+o}s.slashes=s.slashes||e.slashes;s.href=s.format();return s}var a=s.pathname&&s.pathname.charAt(0)==="/",h=e.host||e.pathname&&e.pathname.charAt(0)==="/",l=h||a||s.host&&e.pathname,f=l,c=s.pathname&&s.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],u=s.protocol&&!m[s.protocol];if(u){s.hostname="";s.port=null;if(s.host){if(c[0]==="")c[0]=s.host;else c.unshift(s.host)}s.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(i[0]==="")i[0]=e.host;else i.unshift(e.host)}e.host=null}l=l&&(i[0]===""||c[0]==="")}if(h){s.host=e.host||e.host===""?e.host:s.host;s.hostname=e.hostname||e.hostname===""?e.hostname:s.hostname;s.search=e.search;s.query=e.query;c=i}else if(i.length){if(!c)c=[];c.pop();c=c.concat(i);s.search=e.search;s.query=e.query}else if(!A(e.search)){if(u){s.hostname=s.host=c.shift();var p=s.host&&s.host.indexOf("@")>0?s.host.split("@"):false;if(p){s.auth=p.shift();s.host=s.hostname=p.shift()}}s.search=e.search;s.query=e.query;if(!C(s.pathname)||!C(s.search)){s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")}s.href=s.format();return s}if(!c.length){s.pathname=null;if(s.search){s.path="/"+s.search}else{s.path=null}s.href=s.format();return s}var d=c.slice(-1)[0];var y=(s.host||e.host)&&(d==="."||d==="..")||d==="";var b=0;for(var g=c.length;g>=0;g--){d=c[g];if(d=="."){c.splice(g,1)}else if(d===".."){c.splice(g,1);b++}else if(b){c.splice(g,1);b--}}if(!l&&!f){for(;b--;b){c.unshift("..")}}if(l&&c[0]!==""&&(!c[0]||c[0].charAt(0)!=="/")){c.unshift("")}if(y&&c.join("/").substr(-1)!=="/"){c.push("")}var w=c[0]===""||c[0]&&c[0].charAt(0)==="/";if(u){s.hostname=s.host=w?"":c.length?c.shift():"";var p=s.host&&s.host.indexOf("@")>0?s.host.split("@"):false;if(p){s.auth=p.shift();s.host=s.hostname=p.shift()}}l=l||s.host&&c.length;if(l&&!w){c.unshift("")}if(!c.length){s.pathname=null;s.path=null}else{s.pathname=c.join("/")}if(!C(s.pathname)||!C(s.search)){s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")}s.auth=e.auth||s.auth;s.slashes=s.slashes||e.slashes;s.href=s.format();return s};r.prototype.parseHost=function(){var e=this.host;var t=o.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e};function _(e){return typeof e==="string"}function E(e){return typeof e==="object"&&e!==null}function C(e){return e===null}function A(e){return e==null}},{punycode:10,querystring:13}],16:[function(e,t,s){t.exports=function i(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],17:[function(e,t,s){(function(t,i){var r=/%[sdj%]/g;s.format=function(e){if(!x(e)){var t=[];for(var s=0;s<arguments.length;s++){t.push(a(arguments[s]))}return t.join(" ")}var s=1;var i=arguments;var n=i.length;var o=String(e).replace(r,function(e){if(e==="%%")return"%";if(s>=n)return e;switch(e){case"%s":return String(i[s++]);case"%d":return Number(i[s++]);case"%j":try{return JSON.stringify(i[s++])}catch(t){return"[Circular]"}default:return e}});for(var h=i[s];s<n;h=i[++s]){if(g(h)||!A(h)){o+=" "+h}else{o+=" "+a(h)}}return o};s.deprecate=function(e,r){if(E(i.process)){return function(){return s.deprecate(e,r).apply(this,arguments)}}if(t.noDeprecation===true){return e}var n=false;function o(){if(!n){if(t.throwDeprecation){throw new Error(r)}else if(t.traceDeprecation){console.trace(r)}else{console.error(r)}n=true}return e.apply(this,arguments)}return o};var n={};var o;s.debuglog=function(e){if(E(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!n[e]){if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=t.pid;n[e]=function(){var t=s.format.apply(s,arguments);console.error("%s %d: %s",e,i,t)}}else{n[e]=function(){}}}return n[e]};function a(e,t){var i={seen:[],stylize:l};if(arguments.length>=3)i.depth=arguments[2];if(arguments.length>=4)i.colors=arguments[3];if(b(t)){i.showHidden=t}else if(t){s._extend(i,t)}if(E(i.showHidden))i.showHidden=false;if(E(i.depth))i.depth=2;if(E(i.colors))i.colors=false;if(E(i.customInspect))i.customInspect=true;if(i.colors)i.stylize=h;return c(i,e,i.depth)}s.inspect=a;a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function h(e,t){var s=a.styles[t];if(s){return"["+a.colors[s][0]+"m"+e+"["+a.colors[s][1]+"m"}else{return e}}function l(e,t){return e}function f(e){var t={};e.forEach(function(e,s){t[e]=true});return t}function c(e,t,i){if(e.customInspect&&t&&M(t.inspect)&&t.inspect!==s.inspect&&!(t.constructor&&t.constructor.prototype===t)){var r=t.inspect(i,e);if(!x(r)){r=c(e,r,i)}return r}var n=u(e,t);if(n){return n}var o=Object.keys(t);var a=f(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)}if(S(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return p(t)}if(o.length===0){if(M(t)){var h=t.name?": "+t.name:"";return e.stylize("[Function"+h+"]","special")}if(C(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(L(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(S(t)){return p(t)}}var l="",b=false,g=["{","}"];if(m(t)){b=true;g=["[","]"]}if(M(t)){var w=t.name?": "+t.name:"";l=" [Function"+w+"]"}if(C(t)){l=" "+RegExp.prototype.toString.call(t)}if(L(t)){l=" "+Date.prototype.toUTCString.call(t)}if(S(t)){l=" "+p(t)}if(o.length===0&&(!b||t.length==0)){return g[0]+l+g[1]}if(i<0){if(C(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var k;if(b){k=d(e,t,i,a,o)}else{k=o.map(function(s){return y(e,t,i,a,s,b)})}e.seen.pop();return v(k,l,g)}function u(e,t){if(E(t))return e.stylize("undefined","undefined");if(x(t)){var s="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(s,"string")}if(k(t))return e.stylize(""+t,"number");if(b(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,s,i,r){var n=[];for(var o=0,a=t.length;o<a;++o){if(B(t,String(o))){n.push(y(e,t,s,i,String(o),true))}else{n.push("")}}r.forEach(function(r){if(!r.match(/^\d+$/)){n.push(y(e,t,s,i,r,true))}});return n}function y(e,t,s,i,r,n){var o,a,h;h=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]};if(h.get){if(h.set){a=e.stylize("[Getter/Setter]","special")}else{a=e.stylize("[Getter]","special")}}else{if(h.set){a=e.stylize("[Setter]","special")}}if(!B(i,r)){o="["+r+"]"}if(!a){if(e.seen.indexOf(h.value)<0){if(g(s)){a=c(e,h.value,null)}else{a=c(e,h.value,s-1)}if(a.indexOf("\n")>-1){if(n){a=a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{a="\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{a=e.stylize("[Circular]","special")}}if(E(o)){if(n&&r.match(/^\d+$/)){return a}o=JSON.stringify(""+r);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+a}function v(e,t,s){var i=0;var r=e.reduce(function(e,t){i++;if(t.indexOf("\n")>=0)i++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(r>60){return s[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+s[1]}return s[0]+t+" "+e.join(", ")+" "+s[1]}function m(e){return Array.isArray(e)}s.isArray=m;function b(e){return typeof e==="boolean"}s.isBoolean=b;function g(e){return e===null}s.isNull=g;function w(e){return e==null}s.isNullOrUndefined=w;function k(e){return typeof e==="number"}s.isNumber=k;function x(e){return typeof e==="string"}s.isString=x;function _(e){return typeof e==="symbol"}s.isSymbol=_;function E(e){return e===void 0}s.isUndefined=E;function C(e){return A(e)&&P(e)==="[object RegExp]"}s.isRegExp=C;function A(e){return typeof e==="object"&&e!==null}s.isObject=A;function L(e){return A(e)&&P(e)==="[object Date]"}s.isDate=L;function S(e){return A(e)&&(P(e)==="[object Error]"||e instanceof Error)}s.isError=S;function M(e){return typeof e==="function"}s.isFunction=M;function R(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}s.isPrimitive=R;s.isBuffer=e("./support/isBuffer");function P(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date;var t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}s.log=function(){console.log("%s - %s",O(),s.format.apply(s,arguments))};s.inherits=e("inherits");s._extend=function(e,t){if(!t||!A(t))return e;var s=Object.keys(t);var i=s.length;while(i--){e[s[i]]=t[s[i]]}return e};function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":16,_process:9,inherits:8}],18:[function(e,t,s){(function(s){"use strict";var i=e("escape-string-regexp");var r=e("ansi-styles");var n=e("strip-ansi");var o=e("has-ansi");var a=e("supports-color");var h=Object.defineProperties;var l=s.platform==="win32"&&!/^xterm/i.test(s.env.TERM);function f(e){this.enabled=!e||e.enabled===undefined?a:e.enabled}if(l){r.blue.open="[94m"}var c=function(){var e={};Object.keys(r).forEach(function(t){r[t].closeRe=new RegExp(i(r[t].close),"g");e[t]={get:function(){return p.call(this,this._styles.concat(t))}}});return e}();var u=h(function v(){},c);function p(e){var t=function s(){return d.apply(s,arguments)};t._styles=e;t.enabled=this.enabled;t.__proto__=u;return t}function d(){var e=arguments;var t=e.length;var s=t!==0&&String(arguments[0]);if(t>1){for(var i=1;i<t;i++){s+=" "+e[i]}}if(!this.enabled||!s){return s}var n=this._styles;var o=n.length;var a=r.dim.open;if(l&&(n.indexOf("gray")!==-1||n.indexOf("grey")!==-1)){r.dim.open=""}while(o--){var h=r[n[o]];s=h.open+s.replace(h.closeRe,h.open)+h.close}r.dim.open=a;return s}function y(){var e={};Object.keys(c).forEach(function(t){e[t]={get:function(){return p.call(this,[t])}}});return e}h(f.prototype,y());t.exports=new f;t.exports.styles=r;t.exports.hasColor=o;t.exports.stripColor=n;t.exports.supportsColor=a}).call(this,e("_process"))},{_process:9,"ansi-styles":19,"escape-string-regexp":20,"has-ansi":21,"strip-ansi":23,"supports-color":25}],19:[function(e,t,s){"use strict";function i(){var e={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};e.colors.grey=e.colors.gray;Object.keys(e).forEach(function(t){var s=e[t];Object.keys(s).forEach(function(t){var i=s[t];e[t]=s[t]={open:"["+i[0]+"m",close:"["+i[1]+"m"}});Object.defineProperty(e,t,{value:s,enumerable:false})});return e}Object.defineProperty(t,"exports",{enumerable:true,get:i})},{}],20:[function(e,t,s){"use strict";var i=/[|\\{}()[\]^$+*?.]/g;t.exports=function(e){if(typeof e!=="string"){throw new TypeError("Expected a string")}return e.replace(i,"\\$&")}},{}],21:[function(e,t,s){"use strict";var i=e("ansi-regex");var r=new RegExp(i().source);t.exports=r.test.bind(r)},{"ansi-regex":22}],22:[function(e,t,s){"use strict";t.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g}},{}],23:[function(e,t,s){"use strict";var i=e("ansi-regex")();t.exports=function(e){return typeof e==="string"?e.replace(i,""):e}},{"ansi-regex":24}],24:[function(e,t,s){arguments[4][22][0].apply(s,arguments)},{dup:22}],25:[function(e,t,s){(function(e){"use strict";var s=e.argv;var i=s.indexOf("--");var r=function(e){e="--"+e;var t=s.indexOf(e);return t!==-1&&(i!==-1?t<i:true)};t.exports=function(){if("FORCE_COLOR"in e.env){return true}if(r("no-color")||r("no-colors")||r("color=false")){return false}if(r("color")||r("colors")||r("color=true")||r("color=always")){return true}if(e.stdout&&!e.stdout.isTTY){return false}if(e.platform==="win32"){return true}if("COLORTERM"in e.env){return true}if(e.env.TERM==="dumb"){return false}if(/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(e.env.TERM)){return true}return false}()}).call(this,e("_process"))},{_process:9}],26:[function(e,t,s){"use strict";var i=Object.prototype.hasOwnProperty;var r=Object.prototype.toString;var n=function a(e){if(typeof Array.isArray==="function"){return Array.isArray(e)}return r.call(e)==="[object Array]"};var o=function h(e){if(!e||r.call(e)!=="[object Object]"){return false}var t=i.call(e,"constructor");var s=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!s){return false}var n;for(n in e){}return typeof n==="undefined"||i.call(e,n)};t.exports=function l(){var e,t,s,i,r,a,h=arguments[0],f=1,c=arguments.length,u=false;if(typeof h==="boolean"){u=h;h=arguments[1]||{};f=2}else if(typeof h!=="object"&&typeof h!=="function"||h==null){h={}}for(;f<c;++f){e=arguments[f];if(e!=null){for(t in e){s=h[t];i=e[t];if(h!==i){if(u&&i&&(o(i)||(r=n(i)))){if(r){r=false;a=s&&n(s)?s:[]}else{a=s&&o(s)?s:{}}h[t]=l(u,a,i)}else if(typeof i!=="undefined"){h[t]=i}}}}}return h}},{}],27:[function(e,t,s){t.exports=e("./lib/index.js")},{"./lib/index.js":28}],28:[function(e,t,s){(function(s,i){function r(e){return new r.Terminal(e)}r.middleware=function(t){var i=e("url");t=t||{};t.path=t.path||"/term.js";return function(e,n,o){if(i.parse(e.url).pathname!==t.path){return o()}if(+new Date(e.headers["if-modified-since"])===r.last){n.statusCode=304;n.end();return}n.writeHead(200,{"Content-Type":"application/javascript; charset=utf-8","Content-Length":s.byteLength(r.script),"Last-Modified":r.last});n.end(r.script)}};r.path=i+"/../src/term.js";r.__defineGetter__("script",function(){if(r._script)return r._script;r.last=+new Date;return r._script=e("fs").readFileSync(r.path,"utf8")});r.__defineGetter__("Terminal",function(){if(r._Terminal)return r._Terminal;return r._Terminal=e("../src/term")});t.exports=r}).call(this,e("buffer").Buffer,"/node_modules/term-with-url-support.js/lib")},{"../src/term":29,buffer:3,fs:2,url:15}],29:[function(e,t,s){(function(e){(function(){"use strict";var e=this,s=this.document;function i(){this._events=this._events||{}}i.prototype.addListener=function(e,t){this._events[e]=this._events[e]||[];this._events[e].push(t)};i.prototype.on=i.prototype.addListener;i.prototype.removeListener=function(e,t){if(!this._events[e])return;var s=this._events[e],i=s.length;while(i--){if(s[i]===t||s[i].listener===t){s.splice(i,1);return}}};i.prototype.off=i.prototype.removeListener;i.prototype.removeAllListeners=function(e){if(this._events[e])delete this._events[e]};i.prototype.once=function(e,t){function s(){var i=Array.prototype.slice.call(arguments);this.removeListener(e,s);return t.apply(this,i)}s.listener=t;return this.on(e,s)};i.prototype.emit=function(e){if(!this._events[e])return;var t=Array.prototype.slice.call(arguments,1),s=this._events[e],i=s.length,r=0;for(;r<i;r++){s[r].apply(this,t)}};i.prototype.listeners=function(e){return this._events[e]=this._events[e]||[]};var r=0,n=1,o=2,a=3,h=4,l=5,f=6,c={type:"udk"};function u(e){var t=this;if(!(this instanceof u)){return new u(arguments[0],arguments[1],arguments[2])}i.call(this);if(typeof e==="number"){e={cols:arguments[0],rows:arguments[1],handler:arguments[2]}}e=e||{};E(C(u.defaults),function(s){if(e[s]==null){e[s]=u.options[s];if(u[s]!==u.defaults[s]){e[s]=u[s]}}t[s]=e[s]});if(e.colors.length===8){e.colors=e.colors.concat(u._colors.slice(8))}else if(e.colors.length===16){e.colors=e.colors.concat(u._colors.slice(16))}else if(e.colors.length===10){e.colors=e.colors.slice(0,-2).concat(u._colors.slice(8,-2),e.colors.slice(-2))}else if(e.colors.length===18){e.colors=e.colors.slice(0,-2).concat(u._colors.slice(16,-2),e.colors.slice(-2))}this.colors=e.colors;this.options=e;this.parent=e.body||e.parent||(s?s.getElementsByTagName("body")[0]:null);this.cols=e.cols||e.geometry[0];this.rows=e.rows||e.geometry[1];if(e.handler){this.on("data",e.handler)}this.ybase=0;this.ydisp=0;this.x=0;this.y=0;this.cursorState=0;this.cursorHidden=false;this.convertEol;this.state=0;this.queue="";this.scrollTop=0;this.scrollBottom=this.rows-1;this.applicationKeypad=false;this.applicationCursor=false;this.originMode=false;this.insertMode=false;this.wraparoundMode=false;this.normal=null;this.prefixMode=false;this.selectMode=false;this.visualMode=false;this.searchMode=false;this.searchDown;this.entry="";this.entryPrefix="Search: ";this._real;this._selected;this._textarea;this.charset=null;this.gcharset=null;this.glevel=0;this.charsets=[null];this.decLocator;this.x10Mouse;this.vt200Mouse;this.vt300Mouse;this.normalMouse;this.mouseEvents;this.sendFocus;this.utfMouse;this.sgrMouse;this.urxvtMouse;this.element;this.children;this.refreshStart;this.refreshEnd;this.savedX;this.savedY;this.savedCols;this.readable=true;this.writable=true;this.defAttr=0<<18|257<<9|256<<0;this.curAttr=this.defAttr;this.curUrl=null;this.params=[];this.currentParam=0;this.prefix="";this.postfix="";this.lines=[];var r=this.rows;while(r--){this.lines.push(this.blankLine())}this.tabs;this.setupStops()}v(u,i);u.prototype.eraseAttr=function(){return this.defAttr&~511|this.curAttr&511};u.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"];u.xtermColors=["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"];u.colors=function(){var e=u.tangoColors.slice(),t=[0,95,135,175,215,255],s;s=0;for(;s<216;s++){i(t[s/36%6|0],t[s/6%6|0],t[s%6])}s=0;for(;s<24;s++){t=8+s*10;i(t,t,t)}function i(t,s,i){e.push("#"+r(t)+r(s)+r(i))}function r(e){e=e.toString(16);return e.length<2?"0"+e:e}return e}();u.colors[256]="#000000";u.colors[257]="#f0f0f0";u._colors=u.colors.slice();u.vcolors=function(){var e=[],t=u.colors,s=0,i;for(;s<256;s++){i=parseInt(t[s].substring(1),16);e.push([i>>16&255,i>>8&255,i&255])}return e}();u.defaults={colors:u.colors,convertEol:false,termName:"xterm",geometry:[80,24],cursorBlink:true,visualBell:false,popOnBell:false,scrollback:1e3,screenKeys:false,debug:false,useStyle:false};u.options={};E(C(u.defaults),function(e){u[e]=u.defaults[e];u.options[e]=u.defaults[e]});u.focus=null;u.prototype.focus=function(){if(u.focus===this)return;if(u.focus){u.focus.blur()}if(this.sendFocus)this.send("[I");this.showCursor();u.focus=this};u.prototype.blur=function(){if(u.focus!==this)return;this.cursorState=0;this.refresh(this.y,this.y);if(this.sendFocus)this.send("[O");u.focus=null};u.prototype.initGlobal=function(){var e=this.document;u._boundDocs=u._boundDocs||[];if(~k(u._boundDocs,e)){return}u._boundDocs.push(e);u.bindPaste(e);u.bindKeys(e);u.bindCopy(e);if(this.isMobile){this.fixMobile(e)}if(this.useStyle){u.insertStyle(e,this.colors[256],this.colors[257])}};u.bindPaste=function(e){var t=e.defaultView;p(t,"paste",function(e){var t=u.focus;if(!t)return;if(e.clipboardData){t.send(e.clipboardData.getData("text/plain"))}else if(t.context.clipboardData){t.send(t.context.clipboardData.getData("Text"))}t.element.contentEditable="inherit";return y(e)})};u.bindKeys=function(e){p(e,"keydown",function(e){if(!u.focus)return;var t=e.target||e.srcElement;if(!t)return;if(t===u.focus.element||t===u.focus.context||t===u.focus.document||t===u.focus.body||t===u._textarea||t===u.focus.parent){return u.focus.keyDown(e)}},true);p(e,"keypress",function(e){if(!u.focus)return;var t=e.target||e.srcElement;if(!t)return;if(t===u.focus.element||t===u.focus.context||t===u.focus.document||t===u.focus.body||t===u._textarea||t===u.focus.parent){return u.focus.keyPress(e)}},true);p(e,"mousedown",function(e){if(!u.focus)return;var t=e.target||e.srcElement;if(!t)return;do{if(t===u.focus.element)return}while(t=t.parentNode);u.focus.blur()})};u.bindCopy=function(e){var t=e.defaultView;p(t,"copy",function(e){var t=u.focus;if(!t)return;if(!t._selected)return;var s=t.getCopyTextarea();var i=t.grabText(t._selected.x1,t._selected.x2,t._selected.y1,t._selected.y2);t.emit("copy",i);s.focus();s.textContent=i;s.value=i;s.setSelectionRange(0,i.length);g(function(){t.element.focus();t.focus()},1)})};u.prototype.fixMobile=function(e){var t=this;var s=e.createElement("textarea");s.style.position="absolute";s.style.left="-32000px";s.style.top="-32000px";s.style.width="0px";s.style.height="0px";s.style.opacity="0";s.style.backgroundColor="transparent";s.style.borderStyle="none";s.style.outlineStyle="none";s.autocapitalize="none";s.autocorrect="off";e.getElementsByTagName("body")[0].appendChild(s);u._textarea=s;g(function(){s.focus()},1e3);if(this.isAndroid){p(s,"change",function(){var e=s.textContent||s.value;s.value="";s.textContent="";t.send(e+"\r")})}};u.insertStyle=function(e,t,s){var i=e.getElementById("term-style");if(i)return;var r=e.getElementsByTagName("head")[0];if(!r)return;var i=e.createElement("style");i.id="term-style";i.innerHTML=""+".terminal {\n"+"  float: left;\n"+"  border: "+t+" solid 5px;\n"+'  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n'+"  font-size: 11px;\n"+"  color: "+s+";\n"+"  background: "+t+";\n"+"}\n"+"\n"+".terminal-cursor {\n"+"  color: "+t+";\n"+"  background: "+s+";\n"+"}\n";r.insertBefore(i,r.firstChild)};u.prototype.open=function(e){var t=this,s=0,i;this.parent=e||this.parent;if(!this.parent){throw new Error("Terminal requires a parent element.")}this.context=this.parent.ownerDocument.defaultView;this.document=this.parent.ownerDocument;this.body=this.document.getElementsByTagName("body")[0];if(this.context.navigator&&this.context.navigator.userAgent){this.isMac=!!~this.context.navigator.userAgent.indexOf("Mac");this.isIpad=!!~this.context.navigator.userAgent.indexOf("iPad");this.isIphone=!!~this.context.navigator.userAgent.indexOf("iPhone");this.isAndroid=!!~this.context.navigator.userAgent.indexOf("Android");this.isMobile=this.isIpad||this.isIphone||this.isAndroid;this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")}this.element=this.document.createElement("div");this.element.className="terminal";this.element.style.outline="none";this.element.setAttribute("tabindex",0);this.element.setAttribute("spellcheck","false");this.element.style.backgroundColor=this.colors[256];this.element.style.color=this.colors[257];this.children=[];for(;s<this.rows;s++){i=this.document.createElement("div");this.element.appendChild(i);this.children.push(i)}this.parent.appendChild(this.element);this.refresh(0,this.rows-1);if(!("useEvents"in this.options)||this.options.useEvents){this.initGlobal()}if(!("useFocus"in this.options)||this.options.useFocus){this.focus();this.startBlink();p(this.element,"focus",function(){t.focus();if(t.isMobile){u._textarea.focus()}});p(this.element,"mousedown",function(){t.focus()});p(this.element,"mousedown",function(e){var s=e.button!=null?+e.button:e.which!=null?e.which-1:null;if(t.isMSIE){s=s===1?0:s===4?1:s}if(s!==2)return;t.element.contentEditable="true";g(function(){t.element.contentEditable="inherit"},1)},true)}if(!("useMouse"in this.options)||this.options.useMouse){this.bindMouse()}if(!("useFocus"in this.options)||this.options.useFocus){g(function(){t.element.focus()},100)}if(u.brokenBold==null){u.brokenBold=m(this.document)}};u.prototype.bindMouse=function(){var e=this.element,t=this,s=32;var i="onmousewheel"in this.context?"mousewheel":"DOMMouseScroll";function r(e){var t,r;t=h(e);r=l(e);if(!r)return;a(t,r);switch(e.type){case"mousedown":s=t;break;case"mouseup":s=32;break;case i:break}}function n(e){var t=s,i;i=l(e);if(!i)return;t+=32;a(t,i)}function o(e,s){if(!t.utfMouse){if(s===255)return e.push(0);if(s>127)s=127;e.push(s)}else{if(s===2047)return e.push(0);if(s<127){e.push(s)}else{if(s>2047)s=2047;e.push(192|s>>6);e.push(128|s&63)}}}function a(e,s){if(t.vt300Mouse){e&=3;s.x-=32;s.y-=32;var i="[24";if(e===0)i+="1";else if(e===1)i+="3";else if(e===2)i+="5";else if(e===3)return;else i+="0";i+="~["+s.x+","+s.y+"]\r";t.send(i);return}if(t.decLocator){e&=3;s.x-=32;s.y-=32;if(e===0)e=2;else if(e===1)e=4;else if(e===2)e=6;else if(e===3)e=3;t.send("["+e+";"+(e===3?4:0)+";"+s.y+";"+s.x+";"+(s.page||0)+"&w");return}if(t.urxvtMouse){s.x-=32;s.y-=32;s.x++;s.y++;t.send("["+e+";"+s.x+";"+s.y+"M");return}if(t.sgrMouse){s.x-=32;s.y-=32;t.send("[<"+((e&3)===3?e&~3:e)+";"+s.x+";"+s.y+((e&3)===3?"m":"M"));return}var i=[];o(i,e);o(i,s.x);o(i,s.y);t.send("[M"+b.fromCharCode.apply(b,i))}function h(e){var s,i,r,n,o;
switch(e.type){case"mousedown":s=e.button!=null?+e.button:e.which!=null?e.which-1:null;if(t.isMSIE){s=s===1?0:s===4?1:s}break;case"mouseup":s=3;break;case"DOMMouseScroll":s=e.detail<0?64:65;break;case"mousewheel":s=e.wheelDeltaY>0?64:65;break}i=e.shiftKey?4:0;r=e.metaKey?8:0;n=e.ctrlKey?16:0;o=i|r|n;if(t.vt200Mouse){o&=n}else if(!t.normalMouse){o=0}s=32+(o<<2)+s;return s}function l(e){var s,r,n,o,a;if(e.pageX==null)return;s=e.pageX;r=e.pageY;a=t.element;while(a&&a!==t.document.documentElement){s-=a.offsetLeft;r-=a.offsetTop;a="offsetParent"in a?a.offsetParent:a.parentNode}n=t.element.clientWidth;o=t.element.clientHeight;s=Math.round(s/n*t.cols);r=Math.round(r/o*t.rows);if(s<0)s=0;if(s>t.cols)s=t.cols;if(r<0)r=0;if(r>t.rows)r=t.rows;s+=32;r+=32;return{x:s,y:r,type:e.type===i?"mousewheel":e.type}}p(e,"mousedown",function(e){if(!t.mouseEvents)return;r(e);t.focus();if(t.vt200Mouse){r({__proto__:e,type:"mouseup"});return y(e)}if(t.normalMouse)p(t.document,"mousemove",n);if(!t.x10Mouse){p(t.document,"mouseup",function s(e){r(e);if(t.normalMouse)d(t.document,"mousemove",n);d(t.document,"mouseup",s);return y(e)})}return y(e)});p(e,i,function(e){if(!t.mouseEvents)return;if(t.x10Mouse||t.vt300Mouse||t.decLocator)return;r(e);return y(e)});p(e,i,function(e){if(t.mouseEvents)return;if(t.applicationKeypad)return;if(e.type==="DOMMouseScroll"){t.scrollDisp(e.detail<0?-5:5)}else{t.scrollDisp(e.wheelDeltaY>0?-5:5)}return y(e)})};u.prototype.destroy=function(){this.readable=false;this.writable=false;this._events={};this.handler=function(){};this.write=function(){};if(this.element.parentNode){this.element.parentNode.removeChild(this.element)}};u.prototype.newSpan=function(e){var t,s,i,r=this.endSpanAuto();if(e===-1){r+='<span class="reverse-video terminal-cursor">'}else{r+='<span style="';t=e&511;s=e>>9&511;i=e>>18;if(i&1){if(!u.brokenBold){r+="font-weight:bold;"}if(s<8)s+=8}if(i&2){r+="text-decoration:underline;"}if(i&4){if(i&2){r=r.slice(0,-1);r+=" blink;"}else{r+="text-decoration:blink;"}}if(i&8){t=e>>9&511;s=e&511;if(i&1&&s<8)s+=8}if(i&16){r+="visibility:hidden;"}if(t!==256){r+="background-color:"+this.colors[t]+";"}if(s!==257){r+="color:"+this.colors[s]+";"}r+='">'}this._spanClosed=false;return r};u.prototype.endSpanAuto=function(){if(this._spanClosed)return"";this._spanClosed=true;return"</span>"};u.prototype.newLink=function(e){var t=this.endLinkAuto();t+="<a";for(var s in e){var i=e[s];t+=" "+s+'="'+i+'"'}t+=">";this._linkClosed=false;return t};u.prototype.endLinkAuto=function(){if(this._linkClosed)return"";this._linkClosed=true;return"</a>"};u.prototype.refresh=function(e,t){var s,i,r,n,o,a,h,l,f,c,u,p,d;if(t-e>=this.rows/2){p=this.element.parentNode;if(p)p.removeChild(this.element)}h=this.cols;i=e;if(t>=this.lines.length){this.log("`end` is too large. Most likely a bad CSR.");t=this.lines.length-1}for(;i<=t;i++){u=i+this.ydisp;n=this.lines[u];o="";if(i===this.y&&this.cursorState&&(this.ydisp===this.ybase||this.selectMode)&&!this.cursorHidden){s=this.x}else{s=-1}l=this.defAttr;c=null;r=0;for(;r<h;r++){f=n[r][0];a=n[r][1];d=n[r][2];if(r===s)f=-1;if(d!==c){o+=this.endLinkAuto();if(d!==null){o+=this.newLink(d)}}if(f!==l){o+=this.endSpanAuto();if(f!==this.defAttr){o+=this.newSpan(f)}}switch(a){case"&":o+="&amp;";break;case"<":o+="&lt;";break;case">":o+="&gt;";break;default:if(a<=" "){o+="&nbsp;"}else{if(x(a))r++;o+=a}break}l=f;c=d}o+=this.endSpanAuto();o+=this.endLinkAuto();this.children[i].innerHTML=o}if(p)p.appendChild(this.element)};u.prototype._cursorBlink=function(){if(u.focus!==this)return;this.cursorState^=1;this.refresh(this.y,this.y)};u.prototype.showCursor=function(){if(!this.cursorState){this.cursorState=1;this.refresh(this.y,this.y)}else{}};u.prototype.startBlink=function(){if(!this.cursorBlink)return;var e=this;this._blinker=function(){e._cursorBlink()};this._blink=w(this._blinker,500)};u.prototype.refreshBlink=function(){if(!this.cursorBlink)return;clearInterval(this._blink);this._blink=w(this._blinker,500)};u.prototype.scroll=function(){var e;if(++this.ybase===this.scrollback){this.ybase=this.ybase/2|0;this.lines=this.lines.slice(-(this.ybase+this.rows)+1)}this.ydisp=this.ybase;e=this.ybase+this.rows-1;e-=this.rows-1-this.scrollBottom;if(e===this.lines.length){this.lines.push(this.blankLine())}else{this.lines.splice(e,0,this.blankLine())}if(this.scrollTop!==0){if(this.ybase!==0){this.ybase--;this.ydisp=this.ybase}this.lines.splice(this.ybase+this.scrollTop,1)}this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom)};u.prototype.scrollDisp=function(e){this.ydisp+=e;if(this.ydisp>this.ybase){this.ydisp=this.ybase}else if(this.ydisp<0){this.ydisp=0}this.refresh(0,this.rows-1)};u.prototype.writeLink=function(e,t){this.curUrl=t;this.write(e);this.curUrl=null};u.prototype.write=function(e){var t=e.length,s=0,i,p,d;this.refreshStart=this.y;this.refreshEnd=this.y;if(this.ybase!==this.ydisp){this.ydisp=this.ybase;this.maxRange()}for(;s<t;s++,this.lch=d){d=e[s];switch(this.state){case r:switch(d){case"":this.bell();break;case"\n":case"":case"\f":if(this.convertEol){this.x=0}this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll()}break;case"\r":this.x=0;break;case"\b":if(this.x>0){this.x--}break;case"	":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=n;break;default:if(d>=" "){if(this.charset&&this.charset[d]){d=this.charset[d]}if(this.x>=this.cols){this.x=0;this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll()}}this.lines[this.y+this.ybase][this.x]=[this.curAttr,d,this.curUrl];this.x++;this.updateRange(this.y);if(x(d)){i=this.y+this.ybase;if(this.cols<2||this.x>=this.cols){this.lines[i][this.x-1]=[this.curAttr," ",this.curUrl];break}this.lines[i][this.x]=[this.curAttr," ",this.curUrl];this.x++}}break}break;case n:switch(d){case"[":this.params=[];this.currentParam=0;this.state=o;break;case"]":this.params=[];this.currentParam=0;this.state=a;break;case"P":this.params=[];this.prefix="";this.currentParam="";this.state=l;break;case"_":this.state=f;break;case"^":this.state=f;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0);this.setgCharset(0,u.charsets.US);this.state=r;s++;break;case"(":case")":case"*":case"+":case"-":case".":switch(d){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2;break}this.state=h;break;case"/":this.gcharset=3;this.state=h;s--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor();this.state=r;break;case"8":this.restoreCursor();this.state=r;break;case"#":this.state=r;s++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad.");this.applicationKeypad=true;this.state=r;break;case">":this.log("Switching back to normal keypad.");this.applicationKeypad=false;this.state=r;break;default:this.state=r;this.error("Unknown ESC control: %s.",d);break}break;case h:switch(d){case"0":p=u.charsets.SCLD;break;case"A":p=u.charsets.UK;break;case"B":p=u.charsets.US;break;case"4":p=u.charsets.Dutch;break;case"C":case"5":p=u.charsets.Finnish;break;case"R":p=u.charsets.French;break;case"Q":p=u.charsets.FrenchCanadian;break;case"K":p=u.charsets.German;break;case"Y":p=u.charsets.Italian;break;case"E":case"6":p=u.charsets.NorwegianDanish;break;case"Z":p=u.charsets.Spanish;break;case"H":case"7":p=u.charsets.Swedish;break;case"=":p=u.charsets.Swiss;break;case"/":p=u.charsets.ISOLatin;s++;break;default:p=u.charsets.US;break}this.setgCharset(this.gcharset,p);this.gcharset=null;this.state=r;break;case a:if(this.lch===""&&d==="\\"||d===""){if(this.lch===""){if(typeof this.currentParam==="string"){this.currentParam=this.currentParam.slice(0,-1)}else if(typeof this.currentParam=="number"){this.currentParam=(this.currentParam-("".charCodeAt(0)-48))/10}}this.params.push(this.currentParam);switch(this.params[0]){case 0:case 1:case 2:if(this.params[1]){this.title=this.params[1];this.handleTitle(this.title)}break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:break}this.params=[];this.currentParam=0;this.state=r}else{if(!this.params.length){if(d>="0"&&d<="9"){this.currentParam=this.currentParam*10+d.charCodeAt(0)-48}else if(d===";"){this.params.push(this.currentParam);this.currentParam=""}}else{this.currentParam+=d}}break;case o:if(d==="?"||d===">"||d==="!"){this.prefix=d;break}if(d>="0"&&d<="9"){this.currentParam=this.currentParam*10+d.charCodeAt(0)-48;break}if(d==="$"||d==='"'||d===" "||d==="'"){this.postfix=d;break}this.params.push(this.currentParam);this.currentParam=0;if(d===";")break;this.state=r;switch(d){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":if(!this.prefix){this.charAttributes(this.params)}break;case"n":if(!this.prefix){this.deviceStatus(this.params)}break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":if(this.params.length<2&&!this.prefix){this.scrollDown(this.params)}break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params);break}break;default:this.error("Unknown CSI code: %s.",d);break}this.prefix="";this.postfix="";break;case l:if(this.lch===""&&d==="\\"||d===""){if(this.prefix==="tmux;"){if(d===""){this.currentParam+=d;continue}}if(this.lch===""){if(typeof this.currentParam==="string"){this.currentParam=this.currentParam.slice(0,-1)}else if(typeof this.currentParam=="number"){this.currentParam=(this.currentParam-("".charCodeAt(0)-48))/10}}this.params.push(this.currentParam);var y=this.params[this.params.length-1];switch(this.prefix){case c:this.emit("udk",{clearAll:this.params[0]===0,eraseBelow:this.params[0]===1,lockKeys:this.params[1]===0,dontLockKeys:this.params[1]===1,keyList:(this.params[2]+"").split(";").map(function(e){e=e.split("/");return{keyCode:e[0],hexKeyValue:e[1]}})});break;case"$q":var v=0;switch(y){case'"q':y='0"q';v=1;break;case'"p':y='61;0"p';v=1;break;case"r":y=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";v=1;break;case"m":v=0;break;default:this.error("Unknown DCS Pt: %s.",y);v=0;break}this.send("P"+v+"$r"+y+"\\");break;case"+p":this.emit("set terminfo",{name:this.params[0]});break;case"+q":var v=false;this.send("P"+ +v+"+r"+y+"\\");break;case"tmux;":this.emit("passthrough",y);break;default:this.error("Unknown DCS prefix: %s.",y);break}this.currentParam=0;this.prefix="";this.state=r}else{this.currentParam+=d;if(!this.prefix){if(/^\d*;\d*\|/.test(this.currentParam)){this.prefix=c;this.params=this.currentParam.split(/[;|]/).map(function(e){if(!e.length)return 0;return+e}).slice(0,-1);this.currentParam=""}else if(/^[$+][a-zA-Z]/.test(this.currentParam)||/^\w+;\x1b/.test(this.currentParam)){this.prefix=this.currentParam;this.currentParam=""}}}break;case f:if(this.lch===""&&d==="\\"||d===""){this.state=r}break}}this.updateRange(this.y);this.refresh(this.refreshStart,this.refreshEnd)};u.prototype.writeln=function(e){this.write(e+"\r\n")};u.prototype.keyDown=function(e){var t=this,s;switch(e.keyCode){case 8:if(e.shiftKey){s="\b";break}s="";break;case 9:if(e.shiftKey){s="[Z";break}s="	";break;case 13:s="\r";break;case 27:s="";break;case 37:if(this.applicationCursor){s="OD";break}s="[D";break;case 39:if(this.applicationCursor){s="OC";break}s="[C";break;case 38:if(this.applicationCursor){s="OA";break}if(e.ctrlKey){this.scrollDisp(-1);return y(e)}else{s="[A"}break;case 40:if(this.applicationCursor){s="OB";break}if(e.ctrlKey){this.scrollDisp(1);return y(e)}else{s="[B"}break;case 46:s="[3~";break;case 45:s="[2~";break;case 36:if(this.applicationKeypad){s="OH";break}s="OH";break;case 35:if(this.applicationKeypad){s="OF";break}s="OF";break;case 33:if(e.shiftKey){this.scrollDisp(-(this.rows-1));return y(e)}else{s="[5~"}break;case 34:if(e.shiftKey){this.scrollDisp(this.rows-1);return y(e)}else{s="[6~"}break;case 112:s="OP";break;case 113:s="OQ";break;case 114:s="OR";break;case 115:s="OS";break;case 116:s="[15~";break;case 117:s="[17~";break;case 118:s="[18~";break;case 119:s="[19~";break;case 120:s="[20~";break;case 121:s="[21~";break;case 122:s="[23~";break;case 123:s="[24~";break;default:if(e.ctrlKey){if(e.keyCode>=65&&e.keyCode<=90){if(this.screenKeys){if(!this.prefixMode&&!this.selectMode&&e.keyCode===65){this.enterPrefix();return y(e)}}if(this.prefixMode&&e.keyCode===86){this.leavePrefix();return}if((this.prefixMode||this.selectMode)&&e.keyCode===67){if(this.visualMode){g(function(){t.leaveVisual()},1)}return}s=b.fromCharCode(e.keyCode-64)}else if(e.keyCode===32){s=b.fromCharCode(0)}else if(e.keyCode>=51&&e.keyCode<=55){s=b.fromCharCode(e.keyCode-51+27)}else if(e.keyCode===56){s=b.fromCharCode(127)}else if(e.keyCode===219){s=b.fromCharCode(27)}else if(e.keyCode===221){s=b.fromCharCode(29)}}else if(!this.isMac&&e.altKey||this.isMac&&e.metaKey){if(e.keyCode>=65&&e.keyCode<=90){s=""+b.fromCharCode(e.keyCode+32)}else if(e.keyCode===192){s="`"}else if(e.keyCode>=48&&e.keyCode<=57){s=""+(e.keyCode-48)}}break}if(!s)return true;if(this.prefixMode){this.leavePrefix();return y(e)}if(this.selectMode){this.keySelect(e,s);return y(e)}this.emit("keydown",e);this.emit("key",s,e);this.showCursor();this.handler(s);return y(e)};u.prototype.setgLevel=function(e){this.glevel=e;this.charset=this.charsets[e]};u.prototype.setgCharset=function(e,t){this.charsets[e]=t;if(this.glevel===e){this.charset=t}};u.prototype.keyPress=function(e){var t;y(e);if(e.charCode){t=e.charCode}else if(e.which==null){t=e.keyCode}else if(e.which!==0&&e.charCode!==0){t=e.which}else{return false}if(!t||e.ctrlKey||e.altKey||e.metaKey)return false;t=b.fromCharCode(t);if(this.prefixMode){this.leavePrefix();this.keyPrefix(e,t);return false}if(this.selectMode){this.keySelect(e,t);return false}this.emit("keypress",t,e);this.emit("key",t,e);this.showCursor();this.handler(t);return false};u.prototype.send=function(e){var t=this;if(!this.queue){g(function(){t.handler(t.queue);t.queue=""},1)}this.queue+=e};u.prototype.bell=function(){this.emit("bell");if(!this.visualBell)return;var e=this;this.element.style.borderColor="white";g(function(){e.element.style.borderColor=""},10);if(this.popOnBell)this.focus()};u.prototype.log=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.log)return;var e=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,e)};u.prototype.error=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.error)return;var e=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,e)};u.prototype.resize=function(e,t){var s,i,r,n,o;if(e<1)e=1;if(t<1)t=1;n=this.cols;if(n<e){o=[this.defAttr," ",null];r=this.lines.length;while(r--){while(this.lines[r].length<e){this.lines[r].push(o)}}}else if(n>e){r=this.lines.length;while(r--){while(this.lines[r].length>e){this.lines[r].pop()}}}this.setupStops(n);this.cols=e;n=this.rows;if(n<t){i=this.element;while(n++<t){if(this.lines.length<t+this.ybase){this.lines.push(this.blankLine())}if(this.children.length<t){s=this.document.createElement("div");i.appendChild(s);this.children.push(s)}}}else if(n>t){while(n-->t){if(this.lines.length>t+this.ybase){this.lines.pop()}if(this.children.length>t){i=this.children.pop();if(!i)continue;i.parentNode.removeChild(i)}}}this.rows=t;if(this.y>=t)this.y=t-1;if(this.x>=e)this.x=e-1;this.scrollTop=0;this.scrollBottom=t-1;this.refresh(0,this.rows-1);this.normal=null};u.prototype.updateRange=function(e){if(e<this.refreshStart)this.refreshStart=e;if(e>this.refreshEnd)this.refreshEnd=e};u.prototype.maxRange=function(){this.refreshStart=0;this.refreshEnd=this.rows-1};u.prototype.setupStops=function(e){if(e!=null){if(!this.tabs[e]){e=this.prevStop(e)}}else{this.tabs={};e=0}for(;e<this.cols;e+=8){this.tabs[e]=true}};u.prototype.prevStop=function(e){if(e==null)e=this.x;while(!this.tabs[--e]&&e>0);return e>=this.cols?this.cols-1:e<0?0:e};u.prototype.nextStop=function(e){if(e==null)e=this.x;while(!this.tabs[++e]&&e<this.cols);return e>=this.cols?this.cols-1:e<0?0:e};u.prototype.eraseRight=function(e,t){var s=this.lines[this.ybase+t],i=[this.eraseAttr()," ",null];for(;e<this.cols;e++){s[e]=i}this.updateRange(t)};u.prototype.eraseLeft=function(e,t){var s=this.lines[this.ybase+t],i=[this.eraseAttr()," ",null];e++;while(e--)s[e]=i;this.updateRange(t)};u.prototype.eraseLine=function(e){this.eraseRight(0,e)};u.prototype.blankLine=function(e){var t=e?this.eraseAttr():this.defAttr;var s=[t," ",null],i=[],r=0;for(;r<this.cols;r++){i[r]=s}return i};u.prototype.ch=function(e){return e?[this.eraseAttr()," "]:[this.defAttr," "]};u.prototype.is=function(e){var t=this.termName;return(t+"").indexOf(e)===0};u.prototype.handler=function(e){this.emit("data",e)};u.prototype.handleTitle=function(e){this.emit("title",e)};u.prototype.index=function(){this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll()}this.state=r};u.prototype.reverseIndex=function(){var e;this.y--;if(this.y<this.scrollTop){this.y++;this.lines.splice(this.y+this.ybase,0,this.blankLine(true));e=this.rows-1-this.scrollBottom;this.lines.splice(this.rows-1+this.ybase-e+1,1);this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom)}this.state=r};u.prototype.reset=function(){this.options.rows=this.rows;this.options.cols=this.cols;u.call(this,this.options);this.refresh(0,this.rows-1)};u.prototype.tabSet=function(){this.tabs[this.x]=true;this.state=r};u.prototype.cursorUp=function(e){var t=e[0];if(t<1)t=1;this.y-=t;if(this.y<0)this.y=0};u.prototype.cursorDown=function(e){var t=e[0];if(t<1)t=1;this.y+=t;if(this.y>=this.rows){this.y=this.rows-1}};u.prototype.cursorForward=function(e){var t=e[0];if(t<1)t=1;this.x+=t;if(this.x>=this.cols){this.x=this.cols-1}};u.prototype.cursorBackward=function(e){var t=e[0];if(t<1)t=1;this.x-=t;if(this.x<0)this.x=0};u.prototype.cursorPos=function(e){var t,s;t=e[0]-1;if(e.length>=2){s=e[1]-1}else{s=0}if(t<0){t=0}else if(t>=this.rows){t=this.rows-1}if(s<0){s=0}else if(s>=this.cols){s=this.cols-1}this.x=s;this.y=t};u.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:this.eraseRight(this.x,this.y);t=this.y+1;for(;t<this.rows;t++){this.eraseLine(t)}break;case 1:this.eraseLeft(this.x,this.y);t=this.y;while(t--){this.eraseLine(t)}break;case 2:t=this.rows;while(t--)this.eraseLine(t);break;case 3:;break}};u.prototype.eraseInLine=function(e){switch(e[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y);break}};u.prototype.charAttributes=function(e){if(e.length===1&&e[0]===0){this.curAttr=this.defAttr;return}var t=e.length,s=0,i=this.curAttr>>18,r=this.curAttr>>9&511,n=this.curAttr&511,o;for(;s<t;s++){o=e[s];if(o>=30&&o<=37){r=o-30}else if(o>=40&&o<=47){n=o-40}else if(o>=90&&o<=97){o+=8;r=o-90}else if(o>=100&&o<=107){o+=8;n=o-100}else if(o===0){i=this.defAttr>>18;r=this.defAttr>>9&511;n=this.defAttr&511}else if(o===1){i|=1}else if(o===4){i|=2}else if(o===5){i|=4}else if(o===7){i|=8}else if(o===8){i|=16}else if(o===22){i&=~1}else if(o===24){i&=~2}else if(o===25){i&=~4}else if(o===27){i&=~8}else if(o===28){i&=~16}else if(o===39){r=this.defAttr>>9&511}else if(o===49){n=this.defAttr&511}else if(o===38){if(e[s+1]===2){s+=2;r=_(e[s]&255,e[s+1]&255,e[s+2]&255);if(r===-1)r=511;s+=2}else if(e[s+1]===5){s+=2;o=e[s]&255;r=o}}else if(o===48){if(e[s+1]===2){s+=2;n=_(e[s]&255,e[s+1]&255,e[s+2]&255);if(n===-1)n=511;s+=2}else if(e[s+1]===5){s+=2;o=e[s]&255;n=o}}else if(o===100){r=this.defAttr>>9&511;n=this.defAttr&511}else{this.error("Unknown SGR attribute: %d.",o)}}this.curAttr=i<<18|r<<9|n};u.prototype.deviceStatus=function(e){if(!this.prefix){switch(e[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R");break}}else if(this.prefix==="?"){switch(e[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:break}}};u.prototype.insertChars=function(e){var t,s,i,r;t=e[0];if(t<1)t=1;s=this.y+this.ybase;i=this.x;r=[this.eraseAttr()," ",null];while(t--&&i<this.cols){this.lines[s].splice(i++,0,r);this.lines[s].pop()}};u.prototype.cursorNextLine=function(e){var t=e[0];if(t<1)t=1;this.y+=t;if(this.y>=this.rows){this.y=this.rows-1}this.x=0};u.prototype.cursorPrecedingLine=function(e){var t=e[0];if(t<1)t=1;this.y-=t;if(this.y<0)this.y=0;this.x=0};u.prototype.cursorCharAbsolute=function(e){var t=e[0];if(t<1)t=1;this.x=t-1};u.prototype.insertLines=function(e){var t,s,i;t=e[0];if(t<1)t=1;s=this.y+this.ybase;i=this.rows-1-this.scrollBottom;i=this.rows-1+this.ybase-i+1;while(t--){this.lines.splice(s,0,this.blankLine(true));this.lines.splice(i,1)}this.updateRange(this.y);this.updateRange(this.scrollBottom)};u.prototype.deleteLines=function(e){var t,s,i;t=e[0];if(t<1)t=1;s=this.y+this.ybase;i=this.rows-1-this.scrollBottom;i=this.rows-1+this.ybase-i;while(t--){this.lines.splice(i+1,0,this.blankLine(true));this.lines.splice(s,1)}this.updateRange(this.y);this.updateRange(this.scrollBottom)};u.prototype.deleteChars=function(e){var t,s,i;t=e[0];if(t<1)t=1;s=this.y+this.ybase;i=[this.eraseAttr()," ",null];while(t--){this.lines[s].splice(this.x,1);this.lines[s].push(i)}};u.prototype.eraseChars=function(e){var t,s,i,r;t=e[0];if(t<1)t=1;s=this.y+this.ybase;i=this.x;r=[this.eraseAttr()," ",null];while(t--&&i<this.cols){this.lines[s][i++]=r}};u.prototype.charPosAbsolute=function(e){var t=e[0];if(t<1)t=1;this.x=t-1;if(this.x>=this.cols){this.x=this.cols-1}};u.prototype.HPositionRelative=function(e){var t=e[0];if(t<1)t=1;this.x+=t;if(this.x>=this.cols){this.x=this.cols-1}};u.prototype.sendDeviceAttributes=function(e){if(e[0]>0)return;if(!this.prefix){if(this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")){this.send("[?1;2c")}else if(this.is("linux")){this.send("[?6c")}}else if(this.prefix===">"){if(this.is("xterm")){this.send("[>0;276;0c")}else if(this.is("rxvt-unicode")){this.send("[>85;95;0c")}else if(this.is("linux")){this.send(e[0]+"c")}else if(this.is("screen")){this.send("[>83;40003;0c")}}};u.prototype.linePosAbsolute=function(e){var t=e[0];if(t<1)t=1;this.y=t-1;if(this.y>=this.rows){this.y=this.rows-1}};u.prototype.VPositionRelative=function(e){var t=e[0];if(t<1)t=1;this.y+=t;if(this.y>=this.rows){this.y=this.rows-1}};u.prototype.HVPosition=function(e){if(e[0]<1)e[0]=1;if(e[1]<1)e[1]=1;this.y=e[0]-1;if(this.y>=this.rows){this.y=this.rows-1}this.x=e[1]-1;if(this.x>=this.cols){this.x=this.cols-1}};u.prototype.setMode=function(e){if(typeof e==="object"){var t=e.length,s=0;for(;s<t;s++){this.setMode(e[s])}return}if(!this.prefix){switch(e){case 4:this.insertMode=true;break;case 20:break}}else if(this.prefix==="?"){switch(e){case 1:this.applicationCursor=true;break;case 2:this.setgCharset(0,u.charsets.US);this.setgCharset(1,u.charsets.US);this.setgCharset(2,u.charsets.US);this.setgCharset(3,u.charsets.US);break;case 3:this.savedCols=this.cols;this.resize(132,this.rows);break;case 6:this.originMode=true;break;case 7:this.wraparoundMode=true;break;case 12:break;case 66:this.log("Serial port requested application keypad.");this.applicationKeypad=true;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=e===9;this.vt200Mouse=e===1e3;this.normalMouse=e>1e3;this.mouseEvents=true;this.element.style.cursor="default";this.log("Binding to mouse events.");break;case 1004:this.sendFocus=true;break;case 1005:this.utfMouse=true;break;case 1006:this.sgrMouse=true;break;case 1015:this.urxvtMouse=true;break;case 25:this.cursorHidden=false;break;case 1049:;case 47:case 1047:if(!this.normal){var i={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset();this.normal=i;this.showCursor()}break}}};u.prototype.resetMode=function(e){if(typeof e==="object"){var t=e.length,s=0;for(;s<t;s++){this.resetMode(e[s])}return}if(!this.prefix){switch(e){case 4:this.insertMode=false;break;case 20:break}}else if(this.prefix==="?"){switch(e){case 1:this.applicationCursor=false;break;case 3:if(this.cols===132&&this.savedCols){this.resize(this.savedCols,this.rows)}delete this.savedCols;break;case 6:this.originMode=false;break;case 7:this.wraparoundMode=false;break;case 12:break;case 66:this.log("Switching back to normal keypad.");this.applicationKeypad=false;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=false;this.vt200Mouse=false;this.normalMouse=false;this.mouseEvents=false;this.element.style.cursor="";break;case 1004:this.sendFocus=false;break;case 1005:this.utfMouse=false;break;case 1006:this.sgrMouse=false;break;case 1015:this.urxvtMouse=false;break;case 25:this.cursorHidden=true;break;case 1049:;case 47:case 1047:if(this.normal){this.lines=this.normal.lines;this.ybase=this.normal.ybase;this.ydisp=this.normal.ydisp;this.x=this.normal.x;this.y=this.normal.y;this.scrollTop=this.normal.scrollTop;this.scrollBottom=this.normal.scrollBottom;this.tabs=this.normal.tabs;this.normal=null;this.refresh(0,this.rows-1);this.showCursor()}break}}};u.prototype.setScrollRegion=function(e){if(this.prefix)return;this.scrollTop=(e[0]||1)-1;this.scrollBottom=(e[1]||this.rows)-1;this.x=0;this.y=0};u.prototype.saveCursor=function(e){this.savedX=this.x;this.savedY=this.y};u.prototype.restoreCursor=function(e){this.x=this.savedX||0;this.y=this.savedY||0};u.prototype.cursorForwardTab=function(e){var t=e[0]||1;while(t--){this.x=this.nextStop()}};u.prototype.scrollUp=function(e){var t=e[0]||1;while(t--){this.lines.splice(this.ybase+this.scrollTop,1);this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine())}this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom)};u.prototype.scrollDown=function(e){var t=e[0]||1;while(t--){this.lines.splice(this.ybase+this.scrollBottom,1);this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine())}this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom)};u.prototype.initMouseTracking=function(e){};u.prototype.resetTitleModes=function(e){};u.prototype.cursorBackwardTab=function(e){var t=e[0]||1;while(t--){this.x=this.prevStop()}};u.prototype.repeatPrecedingCharacter=function(e){var t=e[0]||1,s=this.lines[this.ybase+this.y],i=s[this.x-1]||[this.defAttr," "];while(t--)s[this.x++]=i};u.prototype.tabClear=function(e){var t=e[0];if(t<=0){delete this.tabs[this.x]}else if(t===3){this.tabs={}}};u.prototype.mediaCopy=function(e){};u.prototype.setResources=function(e){};u.prototype.disableModifiers=function(e){};u.prototype.setPointerMode=function(e){};u.prototype.softReset=function(e){this.cursorHidden=false;this.insertMode=false;this.originMode=false;this.wraparoundMode=false;this.applicationKeypad=false;this.applicationCursor=false;this.scrollTop=0;this.scrollBottom=this.rows-1;this.curAttr=this.defAttr;this.x=this.y=0;this.charset=null;this.glevel=0;this.charsets=[null]};u.prototype.requestAnsiMode=function(e){};u.prototype.requestPrivateMode=function(e){};u.prototype.setConformanceLevel=function(e){};u.prototype.loadLEDs=function(e){};u.prototype.setCursorStyle=function(e){};u.prototype.setCharProtectionAttr=function(e){};u.prototype.restorePrivateValues=function(e){};u.prototype.setAttrInRectangle=function(e){var t=e[0],s=e[1],i=e[2],r=e[3],n=e[4];var o,a;for(;t<i+1;t++){o=this.lines[this.ybase+t];for(a=s;a<r;a++){o[a]=[n,o[a][1],null]}}this.updateRange(e[0]);this.updateRange(e[2])};u.prototype.savePrivateValues=function(e){};u.prototype.manipulateWindow=function(e){};u.prototype.reverseAttrInRectangle=function(e){};u.prototype.setTitleModeFeature=function(e){};u.prototype.setWarningBellVolume=function(e){};u.prototype.setMarginBellVolume=function(e){};u.prototype.copyRectangle=function(e){};u.prototype.enableFilterRectangle=function(e){};u.prototype.requestParameters=function(e){};u.prototype.selectChangeExtent=function(e){};u.prototype.fillRectangle=function(e){var t=e[0],s=e[1],i=e[2],r=e[3],n=e[4];var o,a;for(;s<r+1;s++){o=this.lines[this.ybase+s];for(a=i;a<n;a++){o[a]=[o[a][0],b.fromCharCode(t),null]}}this.updateRange(e[1]);this.updateRange(e[3])};u.prototype.enableLocatorReporting=function(e){var t=e[0]>0};u.prototype.eraseRectangle=function(e){var t=e[0],s=e[1],i=e[2],r=e[3];var n,o,a;a=[this.eraseAttr()," ",null];for(;t<i+1;t++){n=this.lines[this.ybase+t];for(o=s;o<r;o++){n[o]=a}}this.updateRange(e[0]);this.updateRange(e[2])};u.prototype.setLocatorEvents=function(e){};u.prototype.selectiveEraseRectangle=function(e){};u.prototype.requestLocatorPosition=function(e){};u.prototype.insertColumns=function(){var e=params[0],t=this.ybase+this.rows,s=[this.eraseAttr()," ",null],i;while(e--){for(i=this.ybase;i<t;i++){this.lines[i].splice(this.x+1,0,s);this.lines[i].pop()}}this.maxRange()};u.prototype.deleteColumns=function(){var e=params[0],t=this.ybase+this.rows,s=[this.eraseAttr()," ",null],i;while(e--){for(i=this.ybase;i<t;i++){this.lines[i].splice(this.x,1);this.lines[i].push(s)}}this.maxRange()};u.prototype.enterPrefix=function(){this.prefixMode=true};u.prototype.leavePrefix=function(){this.prefixMode=false};u.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write};this.write=function(){};this.selectMode=true;this.visualMode=false;this.cursorHidden=false;this.refresh(this.y,this.y)};u.prototype.leaveSelect=function(){this.x=this._real.x;this.y=this._real.y;this.ydisp=this._real.ydisp;this.ybase=this._real.ybase;this.cursorHidden=this._real.cursorHidden;this.lines=this._real.lines;this.write=this._real.write;delete this._real;this.selectMode=false;this.visualMode=false;this.refresh(0,this.rows-1)};u.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines);this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y);this.visualMode=true};u.prototype.leaveVisual=function(){this.lines=this._real.preVisual;delete this._real.preVisual;delete this._selected;this.visualMode=false;this.refresh(0,this.rows-1)};u.prototype.enterSearch=function(e){this.entry="";this.searchMode=true;this.searchDown=e;this._real.preSearch=this.copyBuffer(this.lines);this._real.preSearchX=this.x;this._real.preSearchY=this.y;var t=this.ydisp+this.rows-1;for(var s=0;s<this.entryPrefix.length;s++){this.lines[t][s]=[this.defAttr&~511|4,this.entryPrefix[s],null]}this.y=this.rows-1;this.x=this.entryPrefix.length;
this.refresh(this.rows-1,this.rows-1)};u.prototype.leaveSearch=function(){this.searchMode=false;if(this._real.preSearch){this.lines=this._real.preSearch;this.x=this._real.preSearchX;this.y=this._real.preSearchY;delete this._real.preSearch;delete this._real.preSearchX;delete this._real.preSearchY}this.refresh(this.rows-1,this.rows-1)};u.prototype.copyBuffer=function(e){var e=e||this.lines,t=[];for(var s=0;s<e.length;s++){t[s]=[];for(var i=0;i<e[s].length;i++){t[s][i]=[e[s][i][0],e[s][i][1],e[s][i][2]]}}return t};u.prototype.getCopyTextarea=function(e){var t=this._copyTextarea,s=this.document;if(!t){t=s.createElement("textarea");t.style.position="absolute";t.style.left="-32000px";t.style.top="-32000px";t.style.width="0px";t.style.height="0px";t.style.opacity="0";t.style.backgroundColor="transparent";t.style.borderStyle="none";t.style.outlineStyle="none";s.getElementsByTagName("body")[0].appendChild(t);this._copyTextarea=t}return t};u.prototype.copyText=function(e){var t=this,s=this.getCopyTextarea();this.emit("copy",e);s.focus();s.textContent=e;s.value=e;s.setSelectionRange(0,e.length);g(function(){t.element.focus();t.focus()},1)};u.prototype.selectText=function(e,t,s,i){var r,n,o,a,h,l,f,c,u;if(this._selected){r=this._selected.x1;n=this._selected.x2;o=this._selected.y1;a=this._selected.y2;if(a<o){h=n;n=r;r=h;h=a;a=o;o=h}if(n<r&&o===a){h=n;n=r;r=h}for(f=o;f<=a;f++){l=0;c=this.cols-1;if(f===o){l=r}if(f===a){c=n}for(;l<=c;l++){if(this.lines[f][l].old!=null){u=this.lines[f][l].old;delete this.lines[f][l].old;this.lines[f][l]=[u,this.lines[f][l][1],this.lines[f][l][2]]}}}s=this._selected.y1;e=this._selected.x1}s=Math.max(s,0);s=Math.min(s,this.ydisp+this.rows-1);i=Math.max(i,0);i=Math.min(i,this.ydisp+this.rows-1);this._selected={x1:e,x2:t,y1:s,y2:i};if(i<s){h=t;t=e;e=h;h=i;i=s;s=h}if(t<e&&s===i){h=t;t=e;e=h}for(f=s;f<=i;f++){l=0;c=this.cols-1;if(f===s){l=e}if(f===i){c=t}for(;l<=c;l++){u=this.lines[f][l][0];this.lines[f][l]=[u&~511|(511<<9|4),this.lines[f][l][1],this.lines[f][l][2]];this.lines[f][l].old=u}}s=s-this.ydisp;i=i-this.ydisp;s=Math.max(s,0);s=Math.min(s,this.rows-1);i=Math.max(i,0);i=Math.min(i,this.rows-1);this.refresh(0,this.rows-1)};u.prototype.grabText=function(e,t,s,i){var r="",n="",o,a,h,l,f;if(i<s){f=t;t=e;e=f;f=i;i=s;s=f}if(t<e&&s===i){f=t;t=e;e=f}for(h=s;h<=i;h++){a=0;l=this.cols-1;if(h===s){a=e}if(h===i){l=t}for(;a<=l;a++){o=this.lines[h][a][1];if(o===" "){n+=o;continue}if(n){r+=n;n=""}r+=o;if(x(o))a++}n="";r+="\n"}for(a=t,h=i;a<this.cols;a++){if(this.lines[h][a][1]!==" "){r=r.slice(0,-1);break}}return r};u.prototype.keyPrefix=function(e,t){if(t==="k"||t==="&"){this.destroy()}else if(t==="p"||t==="]"){this.emit("request paste")}else if(t==="c"){this.emit("request create")}else if(t>="0"&&t<="9"){t=+t-1;if(!~t)t=9;this.emit("request term",t)}else if(t==="n"){this.emit("request term next")}else if(t==="P"){this.emit("request term previous")}else if(t===":"){this.emit("request command mode")}else if(t==="["){this.enterSelect()}};u.prototype.keySelect=function(e,t){this.showCursor();if(this.searchMode||t==="n"||t==="N"){return this.keySearch(e,t)}if(t===""){var s=this.ydisp+this.y;if(this.ydisp===this.ybase){this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1);this.refresh(0,this.rows-1)}else{this.scrollDisp((this.rows-1)/2|0)}if(this.visualMode){this.selectText(this.x,this.x,s,this.ydisp+this.y)}return}if(t===""){var s=this.ydisp+this.y;if(this.ydisp===0){this.y=Math.max(this.y-(this.rows-1)/2|0,0);this.refresh(0,this.rows-1)}else{this.scrollDisp(-(this.rows-1)/2|0)}if(this.visualMode){this.selectText(this.x,this.x,s,this.ydisp+this.y)}return}if(t===""){var s=this.ydisp+this.y;this.scrollDisp(this.rows-1);if(this.visualMode){this.selectText(this.x,this.x,s,this.ydisp+this.y)}return}if(t===""){var s=this.ydisp+this.y;this.scrollDisp(-(this.rows-1));if(this.visualMode){this.selectText(this.x,this.x,s,this.ydisp+this.y)}return}if(t==="k"||t==="[A"){var s=this.ydisp+this.y;this.y--;if(this.y<0){this.y=0;this.scrollDisp(-1)}if(this.visualMode){this.selectText(this.x,this.x,s,this.ydisp+this.y)}else{this.refresh(this.y,this.y+1)}return}if(t==="j"||t==="[B"){var s=this.ydisp+this.y;this.y++;if(this.y>=this.rows){this.y=this.rows-1;this.scrollDisp(1)}if(this.visualMode){this.selectText(this.x,this.x,s,this.ydisp+this.y)}else{this.refresh(this.y-1,this.y)}return}if(t==="h"||t==="[D"){var i=this.x;this.x--;if(this.x<0){this.x=0}if(this.visualMode){this.selectText(i,this.x,this.ydisp+this.y,this.ydisp+this.y)}else{this.refresh(this.y,this.y)}return}if(t==="l"||t==="[C"){var i=this.x;this.x++;if(this.x>=this.cols){this.x=this.cols-1}if(this.visualMode){this.selectText(i,this.x,this.ydisp+this.y,this.ydisp+this.y)}else{this.refresh(this.y,this.y)}return}if(t==="v"||t===" "){if(!this.visualMode){this.enterVisual()}else{this.leaveVisual()}return}if(t==="y"){if(this.visualMode){var r=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(r);this.leaveVisual()}return}if(t==="q"||t===""){if(this.visualMode){this.leaveVisual()}else{this.leaveSelect()}return}if(t==="w"||t==="W"){var n=this.x;var o=this.y;var a=this.ydisp;var i=this.x;var s=this.y;var h=this.ydisp;var l=false;for(;;){var f=this.lines[h+s];while(i<this.cols){if(f[i][1]<=" "){l=true}else if(l){break}i++}if(i>=this.cols)i=this.cols-1;if(i===this.cols-1&&f[i][1]<=" "){i=0;if(++s>=this.rows){s--;if(++h>this.ybase){h=this.ybase;i=this.x;break}}continue}break}this.x=i,this.y=s;this.scrollDisp(-this.ydisp+h);if(this.visualMode){this.selectText(n,this.x,o+a,this.ydisp+this.y)}return}if(t==="b"||t==="B"){var n=this.x;var o=this.y;var a=this.ydisp;var i=this.x;var s=this.y;var h=this.ydisp;for(;;){var f=this.lines[h+s];var l=i>0&&f[i][1]>" "&&f[i-1][1]>" ";while(i>=0){if(f[i][1]<=" "){if(l&&(i+1<this.cols&&f[i+1][1]>" ")){i++;break}else{l=true}}i--}if(i<0)i=0;if(i===0&&(f[i][1]<=" "||!l)){i=this.cols-1;if(--s<0){s++;if(--h<0){h++;i=0;break}}continue}break}this.x=i,this.y=s;this.scrollDisp(-this.ydisp+h);if(this.visualMode){this.selectText(n,this.x,o+a,this.ydisp+this.y)}return}if(t==="e"||t==="E"){var i=this.x+1;var s=this.y;var h=this.ydisp;if(i>=this.cols)i--;for(;;){var f=this.lines[h+s];while(i<this.cols){if(f[i][1]<=" "){i++}else{break}}while(i<this.cols){if(f[i][1]<=" "){if(i-1>=0&&f[i-1][1]>" "){i--;break}}i++}if(i>=this.cols)i=this.cols-1;if(i===this.cols-1&&f[i][1]<=" "){i=0;if(++s>=this.rows){s--;if(++h>this.ybase){h=this.ybase;break}}continue}break}this.x=i,this.y=s;this.scrollDisp(-this.ydisp+h);if(this.visualMode){this.selectText(n,this.x,o+a,this.ydisp+this.y)}return}if(t==="^"||t==="0"){var n=this.x;if(t==="0"){this.x=0}else if(t==="^"){var f=this.lines[this.ydisp+this.y];var i=0;while(i<this.cols){if(f[i][1]>" "){break}i++}if(i>=this.cols)i=this.cols-1;this.x=i}if(this.visualMode){this.selectText(n,this.x,this.ydisp+this.y,this.ydisp+this.y)}else{this.refresh(this.y,this.y)}return}if(t==="$"){var n=this.x;var f=this.lines[this.ydisp+this.y];var i=this.cols-1;while(i>=0){if(f[i][1]>" "){if(this.visualMode&&i<this.cols-1)i++;break}i--}if(i<0)i=0;this.x=i;if(this.visualMode){this.selectText(n,this.x,this.ydisp+this.y,this.ydisp+this.y)}else{this.refresh(this.y,this.y)}return}if(t==="g"||t==="G"){var n=this.x;var o=this.y;var a=this.ydisp;if(t==="g"){this.x=0,this.y=0;this.scrollDisp(-this.ydisp)}else if(t==="G"){this.x=0,this.y=this.rows-1;this.scrollDisp(this.ybase)}if(this.visualMode){this.selectText(n,this.x,o+a,this.ydisp+this.y)}return}if(t==="H"||t==="M"||t==="L"){var n=this.x;var o=this.y;if(t==="H"){this.x=0,this.y=0}else if(t==="M"){this.x=0,this.y=this.rows/2|0}else if(t==="L"){this.x=0,this.y=this.rows-1}if(this.visualMode){this.selectText(n,this.x,this.ydisp+o,this.ydisp+this.y)}else{this.refresh(o,o);this.refresh(this.y,this.y)}return}if(t==="{"||t==="}"){var n=this.x;var o=this.y;var a=this.ydisp;var f;var c=false;var u=false;var p=-1;var s=this.y+(t==="{"?-1:1);var h=this.ydisp;var d;if(t==="{"){if(s<0){s++;if(h>0)h--}}else if(t==="}"){if(s>=this.rows){s--;if(h<this.ybase)h++}}for(;;){f=this.lines[h+s];for(d=0;d<this.cols;d++){if(f[d][1]>" "){if(p===-1){p=0}c=true;break}else if(d===this.cols-1){if(p===-1){p=1}else if(p===0){u=true}else if(p===1){if(c)u=true}break}}if(u)break;if(t==="{"){s--;if(s<0){s++;if(h>0)h--;else break}}else if(t==="}"){s++;if(s>=this.rows){s--;if(h<this.ybase)h++;else break}}}if(!u){if(t==="{"){s=0;h=0}else if(t==="}"){s=this.rows-1;h=this.ybase}}this.x=0,this.y=s;this.scrollDisp(-this.ydisp+h);if(this.visualMode){this.selectText(n,this.x,o+a,this.ydisp+this.y)}return}if(t==="/"||t==="?"){if(!this.visualMode){this.enterSearch(t==="/")}return}return false};u.prototype.keySearch=function(e,t){if(t===""){this.leaveSearch();return}if(t==="\r"||!this.searchMode&&(t==="n"||t==="N")){this.leaveSearch();var s=this.entry;if(!s){this.refresh(0,this.rows-1);return}var i=this.x;var r=this.y;var n=this.ydisp;var o;var a=false;var h=false;var l=this.x+1;var f=this.ydisp+this.y;var c,u;var p=t==="N"?this.searchDown:!this.searchDown;for(;;){o=this.lines[f];while(l<this.cols){for(u=0;u<s.length;u++){if(l+u>=this.cols)break;if(o[l+u][1]!==s[u]){break}else if(o[l+u][1]===s[u]&&u===s.length-1){a=true;break}}if(a)break;l+=u+1}if(a)break;l=0;if(!p){f++;if(f>this.ybase+this.rows-1){if(h)break;h=true;f=0}}else{f--;if(f<0){if(h)break;h=true;f=this.ybase+this.rows-1}}}if(a){if(f-this.ybase<0){c=f;f=0;if(c>this.ybase){f=c-this.ybase;c=this.ybase}}else{c=this.ybase;f-=this.ybase}this.x=l,this.y=f;this.scrollDisp(-this.ydisp+c);if(this.visualMode){this.selectText(i,this.x,r+n,this.ydisp+this.y)}return}this.refresh(0,this.rows-1);return}if(t==="\b"||t===""){if(this.entry.length===0)return;var d=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var u=this.entryPrefix.length+this.entry.length;this.lines[d][u]=[this.lines[d][u][0]," ",null];this.x--;this.refresh(this.rows-1,this.rows-1);this.refresh(this.y,this.y);return}if(t.length===1&&t>=" "&&t<="~"){var d=this.ydisp+this.rows-1;this.entry+=t;var u=this.entryPrefix.length+this.entry.length-1;this.lines[d][u]=[this.defAttr&~511|4,t];this.x++;this.refresh(this.rows-1,this.rows-1);this.refresh(this.y,this.y);return}return false};u.charsets={};u.charsets.SCLD={"`":"◆",a:"▒",b:"	",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"};u.charsets.UK=null;u.charsets.US=null;u.charsets.Dutch=null;u.charsets.Finnish=null;u.charsets.French=null;u.charsets.FrenchCanadian=null;u.charsets.German=null;u.charsets.Italian=null;u.charsets.NorwegianDanish=null;u.charsets.Spanish=null;u.charsets.Swedish=null;u.charsets.Swiss=null;u.charsets.ISOLatin=null;function p(e,t,s,i){e.addEventListener(t,s,i||false)}function d(e,t,s,i){e.removeEventListener(t,s,i||false)}function y(e){if(e.preventDefault)e.preventDefault();e.returnValue=false;if(e.stopPropagation)e.stopPropagation();e.cancelBubble=true;return false}function v(e,t){function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s}function m(e){var t=e.getElementsByTagName("body")[0];var s=e.createElement("div");s.className="terminal";var i=e.createElement("div");var r=e.createElement("span");r.innerHTML="hello world";i.appendChild(r);s.appendChild(i);t.appendChild(s);var n=r.scrollWidth;r.style.fontWeight="bold";var o=r.scrollWidth;t.removeChild(s);return n!==o}var b=this.String;var g=this.setTimeout;var w=this.setInterval;function k(e,t){var s=e.length;while(s--){if(e[s]===t)return s}return-1}function x(e){if(e<="＀")return false;return e>="！"&&e<="ﾾ"||e>="ￂ"&&e<="ￇ"||e>="ￊ"&&e<="ￏ"||e>="ￒ"&&e<="ￗ"||e>="ￚ"&&e<="ￜ"||e>="￠"&&e<="￦"||e>="￨"&&e<="￮"}function _(e,t,s){var i=e<<16|t<<8|s;if(_._cache[i]!=null){return _._cache[i]}var r=Infinity,n=-1,o=0,a,h,l,f,c;for(;o<u.vcolors.length;o++){a=u.vcolors[o];h=a[0];l=a[1];f=a[2];c=_.distance(e,t,s,h,l,f);if(c===0){n=o;break}if(c<r){r=c;n=o}}return _._cache[i]=n}_._cache={};_.distance=function(e,t,s,i,r,n){return Math.pow(30*(e-i),2)+Math.pow(59*(t-r),2)+Math.pow(11*(s-n),2)};function E(e,t,s){if(e.forEach)return e.forEach(t,s);for(var i=0;i<e.length;i++){t.call(s,e[i],i,e)}}function C(e){if(Object.keys)return Object.keys(e);var t,s=[];for(t in e){if(Object.prototype.hasOwnProperty.call(e,t)){s.push(t)}}return s}u.EventEmitter=i;u.inherits=v;u.on=p;u.off=d;u.cancel=y;if(typeof t!=="undefined"){t.exports=u}else{this.Terminal=u}}).call(function(){return this||(typeof window!=="undefined"?window:e)}())}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],30:[function(e,t,s){(function(s){var i=e("events").EventEmitter;var r=e("util");var n=e("./fs.js");var o=e("./nodejs/readline.js");var a=e("./termstyle.js");var h=e("extend");function l(e,t){i.call(this);this._term=e;this._options=t||{};this._options.welcomeMsg=this._options.welcomeMsg||"";this._options.promptTemplate=this._options.promptTemplate||"shell:%s> ";var r=this;this._options.urlMeta=h({},{href:"#",onclick:"return __ShellUrlOnClick(event);"},this._options.urlMeta);s.__ShellUrlOnClick=function(e){e.preventDefault();var t=e.target?e.target:e.srcElement;var s=t.dataset.url;if(s){r.emit("loadurl",s)}else{var i=t.dataset.path;r.run("cd "+i+" && ls")}return false};var n=function(e){return r._complete(e)};var a=this._rl=o.createInterface(e.keyboard,e.output,n,true);a.on("line",function(e){r._realRun(e)})}r.inherits(l,i);l.prototype.init=function(e){this._welcome();this._prompt()};l.prototype.run=function(e){this._writeLn(e);this._realRun(e)};l.prototype._realRun=function(e){var t=e.split("&&");for(var s=0;s<t.length;s++){this._realRunOne(t[s])}this._prompt()};l.prototype._realRunOne=function(e){var t=this._cmdTokenize(e);var s=t[0];t=t.slice(1);switch(s){case"cd":this._cd(t);break;case"help":this._help(t);break;case"ls":this._ls(t);break;case"open":this._open(t);break;case"welcome":this._welcome(t);break;case"":break;default:this._writeLn("-bash: "+s+": command not found")}};l.prototype._complete=function(e){var t=e.split("&&");var s=t[t.length-1];var i=this._cmdTokenize(s);if(i.length>0&&e.endsWith(" ")&&!e.endsWith("\\ ")){var r=n.cwd().res;var o=r.children.map(function(e){return e.displayName()});return[o,""]}var a=i.length<=1;var h;if(a){var l=i[0]||"";var f=["cd","help","ls","open","welcome"];var c=f.filter(function(e){return e.indexOf(l)===0});if(c.length===1)c[0]=c[0]+" ";h=[c,l]}else{var u=i[i.length-1];var p=n.getINodesByPrefix(u);if(!p||p.length===0)return[null,null];if(p.length===1){p[0]=p[0].replace(/ /g,"\\ ")}var d="";if(p.length>0){var y=u.lastIndexOf("/");if(y<0)d=u;else{d=u.slice(y+1)}}d=d.replace(/ /g,"\\ ");h=[p,d]}console.log(h[0]+":"+h[1]);return h};l.prototype._cmdTokenize=function(e){var t=[];var s=0,i=0,r=e.length;while(s<r){while(s<r&&e[s]===" ")s++;if(s===r)break;i=s+1;while(i<r&&(e[i]!==" "||e[i-1]==="\\"))i++;var n=e.substring(s,i);var o=n.replace(/\\ /g," ");console.debug(n+"|"+o);t.push(o);s=i}return t};l.prototype._writeLn=function(e,t){var s=e+"\r\n";if(!t)this._term.write(s);else this._term.writeLink(s,t)};l.prototype._prompt=function(){var e=n.cwd().res;var t=e.toPath();t=t.slice(0,t.length-1);var s=r.format(this._options.promptTemplate,t);var i=a.red(s);this._rl.setPrompt(i,s.length);this._rl.prompt()};l.prototype._ls=function(e){var t=n.ls(e[0]);if(t.err){this._writeLn("ls: "+e[0]+": "+t.err);return}var s=t.res;for(var i=0;i<s.length;i++){var r=s[i];var o=h({"data-url":r.url(),"data-path":r.toPath(true)},this._options.urlMeta);this._writeLn(r.displayName(),o)}};l.prototype._cd=function(e){var t=n.cd(e[0]);if(!t.err)return;this._writeLn("cd: "+e[0]+": "+t.err)};l.prototype._open=function(e){if(e.length===0){this._writeLn("Usage: open <path>");return}var t=e[0];var s=n.getINodeByPath(t);if(!s){this._writeLn("open: "+t+": No such file or directory");return}if(!s.isAccessible()){this._writeLn("open: "+t+": Permission denied");return}if(s.isDirectory()){this._cd([t]);this._ls([])}else{this.emit("loadurl",s.url())}};l.prototype._welcome=function(){if(this._options.welcomeMsg)this._writeLn(this._options.welcomeMsg)};l.prototype._help=function(e){var t="Available commands are listed below:\r\n"+"    `cd [dir]`     -- change current working directory\r\n"+"    `help`         -- show this list\r\n"+"    `ls [file]`    -- list directory content\r\n"+"    `open [file]`  -- open a file\r\n"+"    `welcome`      -- show the welcome message";this._writeLn(t)};t.exports=l}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./fs.js":33,"./nodejs/readline.js":34,"./termstyle.js":35,events:7,extend:26,util:17}],31:[function(e,t,s){var i=e("events").EventEmitter;var r=e("util");var n=function(e){i.call(this);this._buf=[];this._paused=true;var t=this;e.on("keydown",function(e){var s={ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};var i;switch(e.keyCode){case 8:i="backspace";break;case 9:i="tab";break;case 13:i="enter";break;case 37:i="left";break;case 38:i="up";break;case 39:i="right";break;case 40:i="down";break}if(!i)return;s.name=i;t.press(null,s)});e.on("keypress",function(e,s){if(!e||s.ctrlKey||s.altKey||s.metaKey)return;t.press(e,null)})};r.inherits(n,i);n.prototype.press=function(e,t){if(this._paused)this._buf.push({s:e,k:t});else this.emit("keypress",e,t)};n.prototype.pause=function(){this._paused=true};n.prototype.resume=function(){this._paused=false;for(var e in this._buf){var t=this._buf[e];this.emit("keypress",t.s,t.k)}this._buf=[]};t.exports=n},{events:7,util:17}],32:[function(e,t,s){var i=e("events").EventEmitter;var r=e("util");var n=e("term-with-url-support.js");var o=e("./TermKeyboard.js");var a=function(e,t){i.call(this);var s=this.output=this._term=new n(t);var r=this.keyboard=new o(s);s.open(e);s.columns=s.cols};r.inherits(a,i);a.prototype.__defineGetter__("columns",function(){return this._term.cols});a.prototype.resize=function(e,t){this._term.resize(e,t);this._term.columns=this._term.cols;this.emit("resize")};a.prototype.write=function(e){this._term.write(e)};a.prototype.writeLink=function(e,t){this._term.writeLink(e,t)};t.exports=a},{"./TermKeyboard.js":31,events:7,"term-with-url-support.js":27,util:17}],33:[function(e,t,s){var i=function(e){this.name=e;this.parent=null};i.prototype.toPath=function(e){if(e&&this.isHome())return"~/";var t="";if(!this.isRoot()&&this.parent)t+=this.parent.toPath(e);t+=this.name;if(this.isDirectory())t+="/";return t};i.prototype.addChild=function(e){if(!this.children)this.children=[];e.parent=this;this.children.push(e)};i.prototype.isRoot=function(){return this===this.parent};i.prototype.isHome=function(){return!!this._isHome};i.prototype.isDirectory=function(){return!!this.children};i.prototype.isAccessible=function(){return!this._denyAccess};i.prototype.displayName=function(){return this.name+(this.isDirectory()?"/":"")};i.prototype.url=function(){return this._url?this._url:""};i.loadFromJson=function(e){var t=new i(e.name);if(e.name===""){t.parent=t}t._denyAccess=!!e.denyAccess;t._url=e.url;var s=e.nodes;if(!s)return t;var r=e.nodes.length;for(var n=0;n<r;n++){var o=i.loadFromJson(e.nodes[n]);t.addChild(o)}return t};function r(e){if(!e||e==="")return null;if(e[0]==="~"){e="/home/tatetian"+e.slice(1)}if(e[0]!=="/"){e=l.toPath()+e}var t=e.split("/");var s=a;for(var i=1;i<t.length;i++){var r=t[i];if(r===""||r==="."){if(!s.isDirectory())return null;else continue}if(r===".."){s=s.parent;continue}var n=s.children;if(!n)return null;var o=n.length;for(var h=0;h<o;h++){var f=n[h];if(r===f.name){s=f;break}}if(h===o)return null}return s}var n={name:"tatetian",home:true,nodes:[{name:"README",url:"/README"},{name:"index",url:"/"},{name:"projects",url:"/projects"},{name:"posts",nodes:[{name:"2016-01-25 File IO Inside Intel SGX Enclave",url:"/2016/01/25/file-io-inside-intel-sgx-enclave"},{name:"2015-06-15 SSH Essentials in Three Steps",url:"/2015/06/15/ssh-essentials-in-three-steps"},{name:"2015-01-30 A* Algorithm Saves Me 1 Dollar Per Day",url:"/2015/01/30/a-star-algorithm-saves-me-1-dollar-per-day"},{name:"2015-01-15 Why Should I (or Any Tech Telant) Start Blogging",url:"/2015/01/15/why-should-i-or-any-tech-telant-start-blogging"},{name:"test",url:"/README"},{name:"test two",url:"/README"}]}]};var o={name:"",nodes:[{name:"home",nodes:[n],denyAccess:true}],denyAccess:true};var a=i.loadFromJson(o);var h=r("/home/tatetian");h._isHome=true;var l=h;var f={};f.ls=function(e){if(!e)e=".";var t=r(e);if(!t)return{err:"No such file or directory"};if(!t.isAccessible())return{err:"Permission denied"};return{res:t.isDirectory()?t.children:[t]}};f.cd=function(e){if(!e)e="~";var t=r(e);if(!t)return{err:"No such file or directory"};if(!t.isDirectory())return{err:"Not a directory"};if(!t.isAccessible())return{err:"Permission denied"};l=t;return{res:l}};f.cwd=function(){return{res:l}};f.getINodeByPath=r;f.getINodesByPrefix=function(e){if(!e||e==="")return null;var t=e.split("/");var s,i;switch(t[0]){case"~":s=h;i=true;break;case"":s=a;i=true;break;default:s=l;i=false}var r=[];var n=t.length;for(var o=i?1:0;o<n;o++){var f=t[o];if(f===""){if(!s.isDirectory())return null;if(o!==n-1)continue}if(f==="."){if(!s.isDirectory())return null;continue}if(f===".."){s=s.parent;continue}var c=s.children;if(!c)return null;var u=c.length;for(var p=0;p<u;p++){var d=c[p];if(o!==n-1&&f===d.name){s=d;break}else if(o===n-1&&d.name.indexOf(f)===0){r.push(d.name+(d.isDirectory()?"/":""))}}if(o!==n-1&&p===u)return null}console.dir(r);return r};t.exports=f},{}],34:[function(e,t,s){(function(t){var i=30;var r=e("util");var n=e("buffer").Buffer;var o=e("util").inherits;var a=e("events").EventEmitter;s.createInterface=function(e,t,s,i){var r;if(arguments.length===1){r=new h(e)}else{r=new h(e,t,s,i)}return r};function h(t,i,n,o){if(!(this instanceof h)){return new h(t,i,n,o)}this._sawReturn=false;a.call(this);if(arguments.length===1){i=t.output;n=t.completer;o=t.terminal;t=t.input}n=n||function(){return[]};if(!r.isFunction(n)){throw new TypeError("Argument 'completer' must be a function")}if(r.isUndefined(o)&&!r.isNullOrUndefined(i)){o=!!i.isTTY}var l=this;this.output=i;this.input=t;this.completer=n.length===2?n:function(e,t){t(null,n(e))};this.setPrompt("> ");this.terminal=!!o;function f(e){l._normalWrite(e)}function c(){if(r.isString(l._line_buffer)&&l._line_buffer.length>0){l.emit("line",l._line_buffer)}l.close()}function u(){if(r.isString(l.line)&&l.line.length>0){l.emit("line",l.line)}l.close()}function p(e,t){l._ttyWrite(e,t)}function d(){l._refreshLine()}if(!this.terminal){t.on("data",f);t.on("end",c);l.once("close",function(){t.removeListener("data",f);t.removeListener("end",c)});var y=e("string_decoder").StringDecoder;this._decoder=new y("utf8")}else{s.emitKeypressEvents(t);t.on("keypress",p);t.on("end",u);this.line="";this._setRawMode(true);this.terminal=true;this.cursor=0;this.history=[];this.historyIndex=-1;if(!r.isNullOrUndefined(i))i.on("resize",d);l.once("close",function(){t.removeListener("keypress",p);t.removeListener("end",u);if(!r.isNullOrUndefined(i)){i.removeListener("resize",d)}})}t.resume()}o(h,a);h.prototype.__defineGetter__("columns",function(){var e=Infinity;if(this.output&&this.output.columns)e=this.output.columns;return e});h.prototype.setPrompt=function(e){this._prompt=e};h.prototype._setRawMode=function(e){if(r.isFunction(this.input.setRawMode)){return this.input.setRawMode(e)}};h.prototype.prompt=function(e){if(this.paused)this.resume();if(this.terminal){if(!e)this.cursor=0;this._refreshLine()}else{this._writeToOutput(this._prompt)}};h.prototype.question=function(e,t){if(r.isFunction(t)){if(this._questionCallback){this.prompt()}else{this._oldPrompt=this._prompt;this.setPrompt(e);this._questionCallback=t;this.prompt()}}};h.prototype._onLine=function(e){if(this._questionCallback){var t=this._questionCallback;this._questionCallback=null;this.setPrompt(this._oldPrompt);t(e)}else{this.emit("line",e)}};h.prototype._writeToOutput=function L(e){if(!r.isString(e))throw new TypeError("stringToWrite must be a string");if(!r.isNullOrUndefined(this.output))this.output.write(e)};h.prototype._addHistory=function(){if(this.line.length===0)return"";if(this.history.length===0||this.history[0]!==this.line){this.history.unshift(this.line);if(this.history.length>i)this.history.pop()}this.historyIndex=-1;return this.history[0]};h.prototype._refreshLine=function(){var e=this._prompt+this.line;var t=this._getDisplayPos(e);var i=t.cols;var r=t.rows;var n=this._getCursorPos();var o=this.prevRows||0;if(o>0){s.moveCursor(this.output,0,-o)}s.cursorTo(this.output,0);s.clearScreenDown(this.output);this._writeToOutput(e);if(i===0){this._writeToOutput(" ")}s.cursorTo(this.output,n.cols);var a=r-n.rows;if(a>0){s.moveCursor(this.output,0,-a)}this.prevRows=n.rows};h.prototype.close=function(){if(this.closed)return;this.pause();if(this.terminal){this._setRawMode(false)}this.closed=true;this.emit("close")};h.prototype.pause=function(){if(this.paused)return;this.input.pause();this.paused=true;this.emit("pause");return this};h.prototype.resume=function(){if(!this.paused)return;this.input.resume();this.paused=false;this.emit("resume");return this};h.prototype.write=function(e,t){if(this.paused)this.resume();this.terminal?this._ttyWrite(e,t):this._normalWrite(e)};var l=/\r?\n|\r(?!\n)/;h.prototype._normalWrite=function(e){if(r.isUndefined(e)){return}var t=this._decoder.write(e);if(this._sawReturn){t=t.replace(/^\n/,"");this._sawReturn=false}var s=l.test(t);if(this._line_buffer){t=this._line_buffer+t;this._line_buffer=null}if(s){this._sawReturn=/\r$/.test(t);var i=t.split(l);t=i.pop();this._line_buffer=t;i.forEach(function(e){this._onLine(e)},this)}else if(t){this._line_buffer=t}};h.prototype._insertString=function(e){if(this.cursor<this.line.length){var t=this.line.slice(0,this.cursor);var s=this.line.slice(this.cursor,this.line.length);this.line=t+e+s;this.cursor+=e.length;this._refreshLine()}else{this.line+=e;this.cursor+=e.length;if(this._getCursorPos().cols===0){this._refreshLine()}else{this._writeToOutput(e)}this._moveCursor(0)}};h.prototype._tabComplete=function(){var e=this;e.pause();e.completer(e.line.slice(0,e.cursor),function(t,s){e.resume();if(t){return}var i=s[0],r=s[1];console.dir(i);if(i&&i.length){if(i.length===1){e._insertString(i[0].slice(r.length))}else{console.log("else");e._writeToOutput("\r\n");var n=i.reduce(function(e,t){return e.length>t.length?e:t}).length+2;var o=Math.floor(e.columns/n)||1;var a=[],h;for(var l=0,u=i.length;l<u;l++){h=i[l];if(h===""){f(e,a,n,o);a=[]}else{a.push(h)}}f(e,a,n,o,true);var p=i.filter(function(e){if(e)return e});var d=c(p);if(d.length>r.length){e._insertString(d.slice(r.length))}}e._refreshLine()}})};function f(e,t,s,i,r){if(t.length==0){return}var n=Math.ceil(t.length/i);for(var o=0;o<n;o++){for(var a=0;a<i;a++){var h=o*i+a;if(h>=t.length){break}var l=t[h];e._writeToOutput(l);if(a<i-1){for(var f=0,c=l.length;f<s-c;f++){e._writeToOutput(" ")}}}e._writeToOutput("\r\n")}if(!r)e._writeToOutput("\r\n")}function c(e){if(!e||e.length==0){return""}var t=e.slice().sort();var s=t[0];var i=t[t.length-1];for(var r=0,n=s.length;r<n;r++){if(s[r]!=i[r]){return s.slice(0,r)}}return s}h.prototype._wordLeft=function(){if(this.cursor>0){var e=this.line.slice(0,this.cursor);var t=e.match(/([^\w\s]+|\w+|)\s*$/);this._moveCursor(-t[0].length)}};h.prototype._wordRight=function(){if(this.cursor<this.line.length){var e=this.line.slice(this.cursor);var t=e.match(/^(\s+|\W+|\w+)\s*/);this._moveCursor(t[0].length)}};h.prototype._deleteLeft=function(){if(this.cursor>0&&this.line.length>0){this.line=this.line.slice(0,this.cursor-1)+this.line.slice(this.cursor,this.line.length);this.cursor--;this._refreshLine()}};h.prototype._deleteRight=function(){this.line=this.line.slice(0,this.cursor)+this.line.slice(this.cursor+1,this.line.length);this._refreshLine()};h.prototype._deleteWordLeft=function(){if(this.cursor>0){var e=this.line.slice(0,this.cursor);var t=e.match(/([^\w\s]+|\w+|)\s*$/);e=e.slice(0,e.length-t[0].length);this.line=e+this.line.slice(this.cursor,this.line.length);this.cursor=e.length;this._refreshLine()}};h.prototype._deleteWordRight=function(){if(this.cursor<this.line.length){var e=this.line.slice(this.cursor);var t=e.match(/^(\s+|\W+|\w+)\s*/);this.line=this.line.slice(0,this.cursor)+e.slice(t[0].length);this._refreshLine()}};h.prototype._deleteLineLeft=function(){this.line=this.line.slice(this.cursor);this.cursor=0;this._refreshLine()};h.prototype._deleteLineRight=function(){this.line=this.line.slice(0,this.cursor);this._refreshLine()};h.prototype.clearLine=function(){this._moveCursor(+Infinity);this._writeToOutput("\r\n");this.line="";this.cursor=0;this.prevRows=0};h.prototype._line=function(){var e=this._addHistory();this.clearLine();this._onLine(e)};h.prototype._historyNext=function(){if(this.historyIndex>0){this.historyIndex--;this.line=this.history[this.historyIndex];this.cursor=this.line.length;this._refreshLine()}else if(this.historyIndex===0){this.historyIndex=-1;this.cursor=0;this.line="";this._refreshLine()}};h.prototype._historyPrev=function(){if(this.historyIndex+1<this.history.length){this.historyIndex++;this.line=this.history[this.historyIndex];this.cursor=this.line.length;this._refreshLine()}};h.prototype._getDisplayPos=function(e){var t=0;var s=this.columns;var i=0;var r;e=A(e);for(var n=0,o=e.length;n<o;n++){r=C(e,n);if(r>=65536){n++}if(r===10){t=0;i+=1;continue}if(E(r)){if((t+1)%s===0){t++}t+=2}else{t++}}var a=t%s;var h=i+(t-a)/s;return{cols:a,rows:h}};h.prototype._getCursorPos=function(){var e=this.columns;var t=this._prompt+this.line.substring(0,this.cursor);var s=this._getDisplayPos(A(t));var i=s.cols;var r=s.rows;if(i+1===e&&this.cursor<this.line.length&&E(C(this.line,this.cursor))){r++;i=0}return{cols:i,rows:r}};h.prototype._moveCursor=function(e){var t=this.cursor;var i=this._getCursorPos();this.cursor+=e;if(this.cursor<0)this.cursor=0;else if(this.cursor>this.line.length)this.cursor=this.line.length;var r=this._getCursorPos();if(i.rows===r.rows){var n=this.cursor-t;var o;if(n<0){o=-_(this.line.substring(this.cursor,t))}else if(n>0){o=_(this.line.substring(this.cursor,t))}s.moveCursor(this.output,o,0);this.prevRows=r.rows}else{this._refreshLine()}};h.prototype._ttyWrite=function(e,i){i=i||{};if(i.name=="escape")return;if(i.ctrl&&i.shift){switch(i.name){case"backspace":this._deleteLineLeft();break;case"delete":this._deleteLineRight();break}}else if(i.ctrl){switch(i.name){case"c":if(a.listenerCount(this,"SIGINT")>0){this.emit("SIGINT")}else{this.close()}break;case"h":this._deleteLeft();break;case"d":if(this.cursor===0&&this.line.length===0){this.close()}else if(this.cursor<this.line.length){this._deleteRight()}break;case"u":this.cursor=0;this.line="";this._refreshLine();break;case"k":this._deleteLineRight();break;case"a":this._moveCursor(-Infinity);break;case"e":this._moveCursor(+Infinity);break;case"b":this._moveCursor(-1);break;case"f":this._moveCursor(+1);break;case"l":s.cursorTo(this.output,0,0);s.clearScreenDown(this.output);this._refreshLine();break;case"n":this._historyNext();break;case"p":this._historyPrev();break;case"z":if(t.platform=="win32")break;if(a.listenerCount(this,"SIGTSTP")>0){this.emit("SIGTSTP")}else{t.once("SIGCONT",function(e){return function(){if(!e.paused){e.pause();e.emit("SIGCONT")}e._setRawMode(true);e._refreshLine()}}(this));this._setRawMode(false);t.kill(t.pid,"SIGTSTP")}break;case"w":case"backspace":this._deleteWordLeft();break;case"delete":this._deleteWordRight();break;case"left":this._wordLeft();break;case"right":this._wordRight();break}}else if(i.meta){switch(i.name){case"b":this._wordLeft();break;case"f":this._wordRight();break;case"d":case"delete":this._deleteWordRight();break;case"backspace":this._deleteWordLeft();break}}else{if(this._sawReturn&&i.name!=="enter")this._sawReturn=false;switch(i.name){case"return":this._sawReturn=true;this._line();break;case"enter":if(this._sawReturn)this._sawReturn=false;else this._line();
break;case"backspace":this._deleteLeft();break;case"delete":this._deleteRight();break;case"tab":this._tabComplete();break;case"left":this._moveCursor(-1);break;case"right":this._moveCursor(+1);break;case"home":this._moveCursor(-Infinity);break;case"end":this._moveCursor(+Infinity);break;case"up":this._historyPrev();break;case"down":this._historyNext();break;default:if(r.isBuffer(e))e=e.toString("utf-8");if(e){var n=e.split(/\r\n|\n|\r/);for(var o=0,h=n.length;o<h;o++){if(o>0){this._line()}this._insertString(n[o])}}}}};s.Interface=h;function u(t){if(t._keypressDecoder)return;var s=e("string_decoder").StringDecoder;t._keypressDecoder=new s("utf8");function i(e){if(a.listenerCount(t,"keypress")>0){var s=t._keypressDecoder.write(e);if(s)b(t,s)}else{t.removeListener("data",i);t.on("newListener",r)}}function r(e){if(e=="keypress"){t.on("data",i);t.removeListener("newListener",r)}}if(a.listenerCount(t,"keypress")>0){t.on("data",i)}else{t.on("newListener",r)}}s.emitKeypressEvents=u;var p=/(?:\x1b)([a-zA-Z0-9])/;var d=new RegExp("^"+p.source+"$");var y=new RegExp("(?:+)(O|N|\\[|\\[\\[)(?:"+["(\\d+)(?:;(\\d+))?([~^$])","(?:M([@ #!a`])(.)(.))","(?:1;)?(\\d+)?([a-zA-Z])"].join("|")+")");var v=new RegExp("^"+y.source);var m=new RegExp([y.source,p.source,/\x1b./.source].join("|"));function b(e,t){if(r.isBuffer(t)){if(t[0]>127&&r.isUndefined(t[1])){t[0]-=128;t=""+t.toString(e.encoding||"utf-8")}else{t=t.toString(e.encoding||"utf-8")}}var s=[];var i;while(i=m.exec(t)){s=s.concat(t.slice(0,i.index).split(""));s.push(i[0]);t=t.slice(i.index+i[0].length)}s=s.concat(t.split(""));s.forEach(function(t){var s,i={sequence:t,name:undefined,ctrl:false,meta:false,shift:false},n;if(t==="\r"){i.name="return"}else if(t==="\n"){i.name="enter"}else if(t==="	"){i.name="tab"}else if(t==="\b"||t===""||t===""||t==="\b"){i.name="backspace";i.meta=t.charAt(0)===""}else if(t===""||t===""){i.name="escape";i.meta=t.length===2}else if(t===" "||t===" "){i.name="space";i.meta=t.length===2}else if(t.length===1&&t<=""){i.name=String.fromCharCode(t.charCodeAt(0)+"a".charCodeAt(0)-1);i.ctrl=true}else if(t.length===1&&t>="a"&&t<="z"){i.name=t}else if(t.length===1&&t>="A"&&t<="Z"){i.name=t.toLowerCase();i.shift=true}else if(n=d.exec(t)){i.name=n[1].toLowerCase();i.meta=true;i.shift=/^[A-Z]$/.test(n[1])}else if(n=v.exec(t)){var o=(n[1]||"")+(n[2]||"")+(n[4]||"")+(n[9]||""),a=(n[3]||n[8]||1)-1;i.ctrl=!!(a&4);i.meta=!!(a&10);i.shift=!!(a&1);i.code=o;switch(o){case"OP":i.name="f1";break;case"OQ":i.name="f2";break;case"OR":i.name="f3";break;case"OS":i.name="f4";break;case"[11~":i.name="f1";break;case"[12~":i.name="f2";break;case"[13~":i.name="f3";break;case"[14~":i.name="f4";break;case"[[A":i.name="f1";break;case"[[B":i.name="f2";break;case"[[C":i.name="f3";break;case"[[D":i.name="f4";break;case"[[E":i.name="f5";break;case"[15~":i.name="f5";break;case"[17~":i.name="f6";break;case"[18~":i.name="f7";break;case"[19~":i.name="f8";break;case"[20~":i.name="f9";break;case"[21~":i.name="f10";break;case"[23~":i.name="f11";break;case"[24~":i.name="f12";break;case"[A":i.name="up";break;case"[B":i.name="down";break;case"[C":i.name="right";break;case"[D":i.name="left";break;case"[E":i.name="clear";break;case"[F":i.name="end";break;case"[H":i.name="home";break;case"OA":i.name="up";break;case"OB":i.name="down";break;case"OC":i.name="right";break;case"OD":i.name="left";break;case"OE":i.name="clear";break;case"OF":i.name="end";break;case"OH":i.name="home";break;case"[1~":i.name="home";break;case"[2~":i.name="insert";break;case"[3~":i.name="delete";break;case"[4~":i.name="end";break;case"[5~":i.name="pageup";break;case"[6~":i.name="pagedown";break;case"[[5~":i.name="pageup";break;case"[[6~":i.name="pagedown";break;case"[7~":i.name="home";break;case"[8~":i.name="end";break;case"[a":i.name="up";i.shift=true;break;case"[b":i.name="down";i.shift=true;break;case"[c":i.name="right";i.shift=true;break;case"[d":i.name="left";i.shift=true;break;case"[e":i.name="clear";i.shift=true;break;case"[2$":i.name="insert";i.shift=true;break;case"[3$":i.name="delete";i.shift=true;break;case"[5$":i.name="pageup";i.shift=true;break;case"[6$":i.name="pagedown";i.shift=true;break;case"[7$":i.name="home";i.shift=true;break;case"[8$":i.name="end";i.shift=true;break;case"Oa":i.name="up";i.ctrl=true;break;case"Ob":i.name="down";i.ctrl=true;break;case"Oc":i.name="right";i.ctrl=true;break;case"Od":i.name="left";i.ctrl=true;break;case"Oe":i.name="clear";i.ctrl=true;break;case"[2^":i.name="insert";i.ctrl=true;break;case"[3^":i.name="delete";i.ctrl=true;break;case"[5^":i.name="pageup";i.ctrl=true;break;case"[6^":i.name="pagedown";i.ctrl=true;break;case"[7^":i.name="home";i.ctrl=true;break;case"[8^":i.name="end";i.ctrl=true;break;case"[Z":i.name="tab";i.shift=true;break;default:i.name="undefined";break}}if(r.isUndefined(i.name)){i=undefined}if(t.length===1){s=t}if(i||s){e.emit("keypress",s,i)}})}function g(e,t,s){if(r.isNullOrUndefined(e))return;if(!r.isNumber(t)&&!r.isNumber(s))return;if(!r.isNumber(t))throw new Error("Can't set cursor row without also setting it's column");if(!r.isNumber(s)){e.write("["+(t+1)+"G")}else{e.write("["+(s+1)+";"+(t+1)+"H")}}s.cursorTo=g;function w(e,t,s){if(r.isNullOrUndefined(e))return;if(t<0){e.write("["+-t+"D")}else if(t>0){e.write("["+t+"C")}if(s<0){e.write("["+-s+"A")}else if(s>0){e.write("["+s+"B")}}s.moveCursor=w;function k(e,t){if(r.isNullOrUndefined(e))return;if(t<0){e.write("[1K")}else if(t>0){e.write("[0K")}else{e.write("[2K")}}s.clearLine=k;function x(e){if(r.isNullOrUndefined(e))return;e.write("[0J")}s.clearScreenDown=x;function _(e){var t=0;e=A(e);for(var s=0,i=e.length;s<i;s++){var r=C(e,s);if(r>=65536){s++}if(E(r)){t+=2}else{t++}}return t}s.getStringWidth=_;function E(e){if(isNaN(e)){return false}if(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)){return true}return false}s.isFullWidthCodePoint=E;function C(e,t){var s=e.charCodeAt(t);var i;if(55296<=s&&s<=56319){i=e.charCodeAt(t+1);if(!isNaN(i)){s=65536+(s-55296)*1024+(i-56320)}}return s}s.codePointAt=C;function A(e){e=e.replace(new RegExp(y.source,"g"),"");return e.replace(new RegExp(p.source,"g"),"")}s.stripVTControlCharacters=A}).call(this,e("_process"))},{_process:9,buffer:3,events:7,string_decoder:14,util:17}],35:[function(e,t,s){var i=e("chalk");var r=new i.constructor({enabled:true});t.exports=r},{chalk:18}]},{},[1])(1)});
